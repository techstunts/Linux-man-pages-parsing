
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Sonar</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">
<div id="banner">
<a href='/'><img src='/include/images/linuxmanpages_logo.png' alt='Linux Man Pages' border='0'></a>
</div>
<div id="formLinks">
<table id="searchTable">
<tr>
<form action='/search.php' method='post'>
<td>Search For :</td>
<td><input type="text" size="20" name="term"></td>
<td>in: </td>

<td>
<select name="section">
<option value="-1">All Sections</option>
<option value="1">1. General Commands</option>
<option value="2">2. System Calls</option>
<option value="3">3. Subroutines</option>
<option value="4">4. Special Files</option>
<option value="5">5. File Formats</option>
<option value="6">6. Games and Demos</option>
<option value="7">7. Macros and Conventions</option>
<option value="8">8. Maintenence Commands</option>
</select> 
</td>
<td>
<input type='hidden' name='submitted' value='1'>
<input type="submit" value="Get Man Page">
</td>
</form>
</tr>
</table>
</div>
<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>Sonar</H1>
Section: User Commands  (1)<BR>Updated: 3-Nov-98<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

sonar - display a sonar scope
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>sonar</B>

[-ping <I>hosts-or-subnets</I>]
[-background <I>color</I>]
[-sweep-color <I>color</I>]
[-low-color <I>color</I>] 
[-scope-color <I>color</I>]
[-grid-color <I>color</I>]
[-text-color <I>color</I>]
[-ttl <I>integer</I>]
[-font <I>font</I>]
[-ping-timeout <I>int</I>]
[-team-a-name <I>string</I>] 
[-team-b-name <I>string</I>]
[-team-a-count <I>int</I>]
[-team-b-count <I>int</I>]
[-debug] 
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The <I>sonar</I> program displays a sonar scope on the computer's screen.
This scope polls a sensor as the sweep goes around the scope and displays
what it finds as bogies on the screen.  The program is designed to support
different modes representing different types of sensors.  Currently the
only implemented sensors are a simulator, and a network ping function that
pings hosts and plots the results on the scope.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<I>sonar</I>

understands the following options:
<DL COMPACT>
<DT><B>-background </B><I>Color</I>

<DD>
The background Color of the screen not covered by the scope.
<DT><B>-sweep-color </B><I>Color</I>

<DD>
The color of the brightest part of the sweep.
<DT><B>-scope-color </B><I>Color</I>

<DD>
The color of the circular part of the scope.
<DT><B>-grid-color </B><I>Color</I>

<DD>
The color to the grid lines overlaying the scope.
<DT><B>-text-color </B><I>Color</I>

<DD>
The color of the text identifying bogies on the scope.
<DT><B>-ttl </B><I>integer</I>

<DD>
&quot;Time to live&quot;: visible time of a Bogie. Try values between 10 (very short)
and 100. 
<DT><B>-font </B><I>font</I>

<DD>
The font used to display text on the scope.  Default &quot;fixed&quot;.
<DT><B>-ping-timeout </B><I>int</I>

<DD>
The amount of time in milliseconds the program will wait for an answer
to a ping.
<DT><B>-ping </B><I>hosts-or-subnets</I>

<DD>
The list of things to ping, separated by commas or spaces. 
Elements of this list may be:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>simulation</B>

<DD>
to run in simulation mode, instead of pinging real hosts (this is the default
if the program is not installed setuid);
<DT><I>hostname</I>

<DD>
to ping the given host;
<DT><I>A.B.C.D</I>

<DD>
to ping the given IP address;
<DT><B>subnet</B>

<DD>
to ping the local class C subnet (the nearest 255 addresses);
<DT><B>subnet/</B><I>NN</I>

<DD>
to ping a different-sized local subnet: e.g., <B>subnet/28</B> would ping
a 4-bit subnet (the nearest 15 addresses);
<DT><I>A.B.C.D/NN</I>

<DD>
to ping an arbitrary other subnet: the IP address specifies the base address,
and the part after the slash is how wide the subnet is.  Typical values
are /24 (for 255 addresses) and /28 (for 15 addresses.)
<DT><I>filename</I>

<DD>
to ping the hosts listed in the given file.  This file can be in the
format used by <I>/etc/hosts</I>, or it can be any file that has host
names as the first element on each line.  If you use ssh, try this:
<P>
<BR>&nbsp;&nbsp;sonar&nbsp;-ping&nbsp;$HOME/.ssh/known_hosts
</DL>
</DL>

<DT><B>-team-a-name </B><I>string</I>

<DD>
In simulation mode, the name of team A.
<DT><B>-team-b-name </B><I>string</I>

<DD>
In simulation mode, the name of team B.
<DT><B>-team-a-count </B><I>int</I>

<DD>
In simulation mode, the number of bogies on team A.
<DT><B>-team-b-count </B><I>int</I>

<DD>
In simulation mode, the number of bogies on team B.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>RESOURCES</H2>

Configuration of the targets to ping is best done by setting X Resources.
<P>

<DL COMPACT>
<DT><B>background </B><I>(Color)</I>

<DD>
See option -background, above; default value is <I>black</I>.
<DT><B>sweepColor </B><I>(Color)</I>

<DD>
See option -sweep-color, above; default value is <I>#00ff00</I>.
<DT><B>scopeColor </B><I>(Color)</I>

<DD>
See option -scope-color, above; default value is <I>#003300</I>.
<DT><B>gridColor </B><I>(Color)</I>

<DD>
See option -grid-color, above; default value is <I>#00aa00</I>.
<DT><B>textColor </B><I>(Color)</I>

<DD>
See option -text-color, above; default value is <I>#ffff00</I>.
<DT><B>ttl </B><I>(integer)</I>

<DD>
See option -ttl, above; default value is <I>90</I> or one sweep.
<DT><B>ping </B><I>(string)</I>

<DD>
See option -ping, above.  If set to <B>default</B>, it will ping
the contents of /etc/hosts if possible, otherwise, will run in
simulation-mode.
<DT><B>font </B><I>(font)</I>

<DD>
See option -font, above; default value is <I>fixed</I>.
<DT><B>pingTimeout </B><I>(Integer)</I>

<DD>
See option -pingtimeout, above; default value is 3000.
<DT><B>teamAName </B><I>string</I>

<DD>
See option -team-a-name, above.  Default value is <B>F18</B>.
<DT><B>teamBName </B><I>string</I>

<DD>
See option -teamBName, above.  Default value is <B>MIG</B>.
<DT><B>teamACount </B><I>int</I>

<DD>
See option -teamACount, above.  Default value is 4.
<DT><B>teamBCount </B><I>int</I>

<DD>
See option -teamBCount, above.  Default value is 4.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>NOTES</H2>

In order to use the ping sensor, this program must be installed as 
setuid root, so that it can create an ICMP socket.  Root privileges
are disavowed shortly after startup (just after connecting to the
X server and reading the resource database) so this is <I>believed</I>
to be a safe thing to do, but it is usually recommended that you 
have as few setuid programs around as possible, on general principles.


<P>


<PRE>
chown root.root sonar
chmod u+s sonar

</PRE>


<P>



<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man1/X.1.php">X</A></B>(1),

<B><A HREF="../man1/xscreensaver.1.php">xscreensaver</A></B>(1),

<B><A HREF="../man8/ping.8.php">ping</A></B>(8)

<A NAME="lbAI">&nbsp;</A>
<H2>COPYRIGHT</H2>

Copyright &#169; 1998 by Stephen Martin. (<A HREF="mailto:smartin@canada.com">smartin@canada.com</A>)
<P>
Permission to use, copy, modify, distribute, and sell this software and its
documentation for any purpose is hereby granted without fee, provided that
the above copyright notice appear in all copies and that both that
copyright notice and this permission notice appear in supporting
documentation.  No representations are made about the suitability of this
software for any purpose.  It is provided &quot;as is&quot; without express or 
implied warranty.
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>AUTHORS</H2>

Stephen Martin &lt;<A HREF="mailto:smartin@canada.com">smartin@canada.com</A>&gt;, 3-nov-98.
<P>
Thanks to Tom Kelly for suggesting a modular approach to the sensor
amoung other things.
<P>
Thomas Bahls &lt;<A HREF="mailto:thommy@cs.tu-berlin.de">thommy@cs.tu-berlin.de</A>&gt; hacked the &quot;ttl&quot; option, 12-jul-98.
<P>
Better subnet support and command-line processing by Jamie Zawinski, 17-Jul-00.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">RESOURCES</A><DD>
<DT><A HREF="#lbAG">NOTES</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">COPYRIGHT</A><DD>
<DT><A HREF="#lbAJ">AUTHORS</A><DD>
</DL>

</div>

<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=linuxmanpages">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<div id="footer"><div class="littletext"> LinuxManPages.com &copy; <a class="white"  href="http://www.name.com">Name.com</a>&nbsp;&nbsp;&nbsp;Links: <!--<a class='white' href='http://www.earthsearch.net'>geographic information</a> |-->
<a class='white' href='http://www.who.is'>who.is search</a> |
<a class='white' href='http://www.bluerider.com'>dictionary</a> |
<a class='white' href='http://www.tld.io' class='small'>ccTLD information</a> 
</div></div>
</div>




</body>
</html>
