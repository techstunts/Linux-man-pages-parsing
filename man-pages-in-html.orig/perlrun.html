
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>PERLRUN</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">
<div id="banner">
<a href='/'><img src='/include/images/linuxmanpages_logo.png' alt='Linux Man Pages' border='0'></a>
</div>
<div id="formLinks">
<table id="searchTable">
<tr>
<form action='/search.php' method='post'>
<td>Search For :</td>
<td><input type="text" size="20" name="term"></td>
<td>in: </td>

<td>
<select name="section">
<option value="-1">All Sections</option>
<option value="1">1. General Commands</option>
<option value="2">2. System Calls</option>
<option value="3">3. Subroutines</option>
<option value="4">4. Special Files</option>
<option value="5">5. File Formats</option>
<option value="6">6. Games and Demos</option>
<option value="7">7. Macros and Conventions</option>
<option value="8">8. Maintenence Commands</option>
</select> 
</td>
<td>
<input type='hidden' name='submitted' value='1'>
<input type="submit" value="Get Man Page">
</td>
</form>
</tr>
</table>
</div>
<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>PERLRUN</H1>
Section: Perl Programmers Reference Guide (1)<BR>Updated: 2004-04-23<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

perlrun - how to execute the Perl interpreter
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>
<B>perl</B><TT>&nbsp;&nbsp;</TT>[&nbsp;<B>-sTtuUWX</B>&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-hv</B>&nbsp;]&nbsp;[&nbsp;<B>-V</B>[:<I>configvar</I>]&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-cw</B>&nbsp;]&nbsp;[&nbsp;<B>-d</B>[:<I>debugger</I>]&nbsp;]&nbsp;[&nbsp;<B>-D</B>[<I>number/list</I>]&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-pna</B>&nbsp;]&nbsp;[&nbsp;<B>-F</B><I>pattern</I>&nbsp;]&nbsp;[&nbsp;<B>-l</B>[<I>octal</I>]&nbsp;]&nbsp;[&nbsp;<B>-0</B>[<I>octal/hexadecimal</I>]&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-I</B><I>dir</I>&nbsp;]&nbsp;[&nbsp;<B>-m</B>[<B>-</B>]<I>module</I>&nbsp;]&nbsp;[&nbsp;<B>-M</B>[<B>-</B>]<I>'module...'</I>&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-P</B>&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-S</B>&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-x</B>[<I>dir</I>]&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-i</B>[<I>extension</I>]&nbsp;]<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-e</B>&nbsp;<I>'command'</I>&nbsp;]&nbsp;[&nbsp;<B>--</B>&nbsp;]&nbsp;[&nbsp;<I>programfile</I>&nbsp;]&nbsp;[&nbsp;<I>argument</I>&nbsp;]...<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[&nbsp;<B>-C&nbsp;[</B>number/list<B>]&nbsp;</B>] ]&gt;<BR>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
The normal way to run a Perl program is by making it directly
executable, or else by passing the name of the source file as an
argument on the command line.  (An interactive Perl environment
is also possible---see perldebug for details on how to do that.)
Upon startup, Perl looks for your program in one of the following
places:
<DL COMPACT>
<DT>1.<DD>
Specified line by line via <B>-e</B> switches on the command line.
<DT>2.<DD>
Contained in the file specified by the first filename on the command line.
(Note that systems supporting the #! notation invoke interpreters this
way. See ``Location of Perl''.)
<DT>3.<DD>
Passed in implicitly via standard input.  This works only if there are
no filename arguments---to pass arguments to a STDIN-read program you
must explicitly specify a ``-'' for the program name.
</DL>
<P>

With methods 2 and 3, Perl starts parsing the input file from the
beginning, unless you've specified a <B>-x</B> switch, in which case it
scans for the first line starting with #! and containing the word
``perl'', and starts there instead.  This is useful for running a program
embedded in a larger message.  (In this case you would indicate the end
of the program using the <TT>&quot;__END__&quot;</TT> token.)
<P>

The #! line is always examined for switches as the line is being
parsed.  Thus, if you're on a machine that allows only one argument
with the #! line, or worse, doesn't even recognize the #! line, you
still can get consistent switch behavior regardless of how Perl was
invoked, even if <B>-x</B> was used to find the beginning of the program.
<P>

Because historically some operating systems silently chopped off
kernel interpretation of the #! line after 32 characters, some
switches may be passed in on the command line, and some may not;
you could even get a ``-'' without its letter, if you're not careful.
You probably want to make sure that all your switches fall either
before or after that 32-character boundary.  Most switches don't
actually care if they're processed redundantly, but getting a ``-''
instead of a complete switch could cause Perl to try to execute
standard input instead of your program.  And a partial <B>-I</B> switch
could also cause odd results.
<P>

Some switches do care if they are processed twice, for instance
combinations of <B>-l</B> and <B>-0</B>.  Either put all the switches after
the 32-character boundary (if applicable), or replace the use of
<B>-0</B><I>digits</I> by <TT>&quot;BEGIN{ $/ = &quot;\0digits&quot;; }&quot;</TT>.
<P>

Parsing of the #! switches starts wherever ``perl'' is mentioned in the line.
The sequences ``-*'' and ``- '' are specifically ignored so that you could,
if you were so inclined, say
<P>



<PRE>
    #!/bin/sh -- # -*- perl -*- -p
    eval 'exec perl -wS $0 ${1+&quot;$@&quot;}'
        if $running_under_some_shell;

</PRE>


<P>

to let Perl see the <B>-p</B> switch.
<P>

A similar trick involves the <B>env</B> program, if you have it.
<P>



<PRE>
    #!/usr/bin/env perl

</PRE>


<P>

The examples above use a relative path to the perl interpreter,
getting whatever version is first in the user's path.  If you want
a specific version of Perl, say, perl5.005_57, you should place
that directly in the #! line's path.
<P>

If the #! line does not contain the word ``perl'', the program named after
the #! is executed instead of the Perl interpreter.  This is slightly
bizarre, but it helps people on machines that don't do #!, because they
can tell a program that their <FONT SIZE="-1">SHELL</FONT> is <I>/usr/bin/perl</I>, and Perl will then
dispatch the program to the correct interpreter for them.
<P>

After locating your program, Perl compiles the entire program to an
internal form.  If there are any compilation errors, execution of the
program is not attempted.  (This is unlike the typical shell script,
which might run part-way through before finding a syntax error.)
<P>

If the program is syntactically correct, it is executed.  If the program
runs off the end without hitting an <I>exit()</I> or <I>die()</I> operator, an implicit
<TT>exit(0)</TT> is provided to indicate successful completion.
<A NAME="lbAE">&nbsp;</A>
<H2>#! and quoting on non-Unix systems</H2>

<A NAME="ixAAE"></A>
Unix's #! technique can be simulated on other systems:
<DL COMPACT>
<DT><FONT SIZE="-1">OS/2</FONT><DD>
<A NAME="ixAAF"></A>
Put


<P>




<PRE>
    extproc perl -S -your_switches

</PRE>




<P>


as the first line in <TT>&quot;*.cmd&quot;</TT> file (<B>-S</B> due to a bug in cmd.exe's
`extproc' handling).
<DT>MS-DOS<DD>
<A NAME="ixAAG"></A>
Create a batch file to run your program, and codify it in
<TT>&quot;ALTERNATE_SHEBANG&quot;</TT> (see the <I>dosish.h</I> file in the source
distribution for more information).
<DT>Win95/NT<DD>
<A NAME="ixAAH"></A>
The Win95/NT installation, when using the ActiveState installer for Perl,
will modify the Registry to associate the <I>.pl</I> extension with the perl
interpreter.  If you install Perl by other means (including building from
the sources), you may have to modify the Registry yourself.  Note that
this means you can no longer tell the difference between an executable
Perl program and a Perl library file.
<DT>Macintosh<DD>
<A NAME="ixAAI"></A>
A Macintosh perl program will have the appropriate Creator and
Type, so that double-clicking them will invoke the perl application.
<DT><FONT SIZE="-1">VMS</FONT><DD>
<A NAME="ixAAJ"></A>
Put


<P>




<PRE>
    $ perl -mysw 'f$env(&quot;procedure&quot;)' 'p1' 'p2' 'p3' 'p4' 'p5' 'p6' 'p7' 'p8' !
    $ exit++ + ++$status != 0 and $exit = $status = undef;

</PRE>




<P>


at the top of your program, where <B>-mysw</B> are any command line switches you
want to pass to Perl.  You can now invoke the program directly, by saying
<TT>&quot;perl program&quot;</TT>, or as a <FONT SIZE="-1">DCL</FONT> procedure, by saying <TT>@program</TT> (or implicitly
via <I></I><FONT SIZE="-1"><I>DCL$PATH</I></FONT><I></I> by just using the name of the program).


<P>


This incantation is a bit much to remember, but Perl will display it for
you if you say <TT>&quot;perl &quot;-V:startperl&quot;&quot;</TT>.
</DL>
<P>

Command-interpreters on non-Unix systems have rather different ideas
on quoting than Unix shells.  You'll need to learn the special
characters in your command-interpreter (<TT>&quot;*&quot;</TT>, <TT>&quot;\&quot;</TT> and <TT>&quot;&quot;&quot;</TT> are
common) and how to protect whitespace and these characters to run
one-liners (see <B>-e</B> below).
<P>

On some systems, you may have to change single-quotes to double ones,
which you must <I>not</I> do on Unix or Plan 9 systems.  You might also
have to change a single % to a %%.
<P>

For example:
<P>



<PRE>
    # Unix
    perl -e 'print &quot;Hello world\n&quot;'

</PRE>


<P>



<PRE>
    # MS-DOS, etc.
    perl -e &quot;print \&quot;Hello world\n\&quot;&quot;

</PRE>


<P>



<PRE>
    # Macintosh
    print &quot;Hello world\n&quot;
     (then Run &quot;Myscript&quot; or Shift-Command-R)

</PRE>


<P>



<PRE>
    # VMS
    perl -e &quot;print &quot;&quot;Hello world\n&quot;&quot;&quot;

</PRE>


<P>

The problem is that none of this is reliable: it depends on the
command and it is entirely possible neither works.  If <B>4DOS</B> were
the command shell, this would probably work better:
<P>



<PRE>
    perl -e &quot;print &lt;Ctrl-x&gt;&quot;Hello world\n&lt;Ctrl-x&gt;&quot;&quot;

</PRE>


<P>

<B></B><FONT SIZE="-1"><B>CMD</B></FONT><B>.EXE</B> in Windows <FONT SIZE="-1">NT</FONT> slipped a lot of standard Unix functionality in
when nobody was looking, but just try to find documentation for its
quoting rules.
<P>

Under the Macintosh, it depends which environment you are using.  The MacPerl
shell, or <FONT SIZE="-1">MPW</FONT>, is much like Unix shells in its support for several
quoting variants, except that it makes free use of the Macintosh's non-ASCII
characters as control characters.
<P>

There is no general solution to all of this.  It's just a mess.
<A NAME="lbAF">&nbsp;</A>
<H2>Location of Perl</H2>

<A NAME="ixAAK"></A>
It may seem obvious to say, but Perl is useful only when users can
easily find it.  When possible, it's good for both <I>/usr/bin/perl</I>
and <I>/usr/local/bin/perl</I> to be symlinks to the actual binary.  If
that can't be done, system administrators are strongly encouraged
to put (symlinks to) perl and its accompanying utilities into a
directory typically found along a user's <FONT SIZE="-1">PATH</FONT>, or in some other
obvious and convenient place.
<P>

In this documentation, <TT>&quot;#!/usr/bin/perl&quot;</TT> on the first line of the program
will stand in for whatever method works on your system.  You are
advised to use a specific path if you care about a specific version.
<P>



<PRE>
    #!/usr/local/bin/perl5.00554

</PRE>


<P>

or if you just want to be running at least version, place a statement
like this at the top of your program:
<P>



<PRE>
    use 5.005_54;

</PRE>


<A NAME="lbAG">&nbsp;</A>
<H2>Command Switches</H2>

<A NAME="ixAAL"></A>
As with all standard commands, a single-character switch may be
clustered with the following switch, if any.
<P>



<PRE>
    #!/usr/bin/perl -spi.orig   # same as -s -p -i.orig

</PRE>


<P>

Switches include:
<DL COMPACT>
<DT><B>-0</B>[<I>octal/hexadecimal</I>]<DD>
<A NAME="ixAAM"></A>
specifies the input record separator (<TT>$/</TT>) as an octal or
hexadecimal number.  If there are no digits, the null character is the
separator.  Other switches may precede or follow the digits.  For
example, if you have a version of <B>find</B> which can print filenames
terminated by the null character, you can say this:


<P>




<PRE>
    find . -name '*.orig' -print0 | perl -n0e unlink

</PRE>




<P>


The special value 00 will cause Perl to slurp files in paragraph mode.
The value 0777 will cause Perl to slurp files whole because there is no
legal byte with that value.


<P>


If you want to specify any Unicode character, use the hexadecimal
format: <TT>&quot;-0xHHH...&quot;</TT>, where the <TT>&quot;H&quot;</TT> are valid hexadecimal digits.
(This means that you cannot use the <TT>&quot;-x&quot;</TT> with a directory name that
consists of hexadecimal digits.)
<DT><B>-a</B><DD>
<A NAME="ixAAN"></A>
turns on autosplit mode when used with a <B>-n</B> or <B>-p</B>.  An implicit
split command to the <TT>@F</TT> array is done as the first thing inside the
implicit while loop produced by the <B>-n</B> or <B>-p</B>.


<P>




<PRE>
    perl -ane 'print pop(@F), &quot;\n&quot;;'

</PRE>




<P>


is equivalent to


<P>




<PRE>
    while (&lt;&gt;) {
        @F = split(' ');
        print pop(@F), &quot;\n&quot;;
    }

</PRE>




<P>


An alternate delimiter may be specified using <B>-F</B>.
<DT><B>-C [</B>number/list<B>]</B><DD>
<A NAME="ixAAO"></A>
The <TT>&quot;-C&quot;</TT> flag controls some Unicode of the Perl Unicode features.


<P>


As of 5.8.1, the <TT>&quot;-C&quot;</TT> can be followed either by a number or a list
of option letters.  The letters, their numeric values, and effects
are as follows; listing the letters is equal to summing the numbers.


<P>




<PRE>
    I     1    STDIN is assumed to be in UTF-8
    O     2    STDOUT will be in UTF-8
    E     4    STDERR will be in UTF-8
    S     7    I + O + E
    i     8    UTF-8 is the default PerlIO layer for input streams
    o    16    UTF-8 is the default PerlIO layer for output streams
    D    24    i + o
    A    32    the @ARGV elements are expected to be strings encoded in UTF-8
    L    64    normally the &quot;IOEioA&quot; are unconditional,
               the L makes them conditional on the locale environment
               variables (the LC_ALL, LC_TYPE, and LANG, in the order
               of decreasing precedence) -- if the variables indicate
               UTF-8, then the selected &quot;IOEioA&quot; are in effect

</PRE>




<P>


For example, <TT>&quot;-COE&quot;</TT> and <TT>&quot;-C6&quot;</TT> will both turn on UTF-8-ness on both
<FONT SIZE="-1">STDOUT</FONT> and <FONT SIZE="-1">STDERR</FONT>.  Repeating letters is just redundant, not cumulative
nor toggling.


<P>


The <TT>&quot;io&quot;</TT> options mean that any subsequent <I>open()</I> (or similar I/O
operations) will have the <TT>&quot;:utf8&quot;</TT> PerlIO layer implicitly applied
to them, in other words, <FONT SIZE="-1">UTF-8</FONT> is expected from any input stream,
and <FONT SIZE="-1">UTF-8</FONT> is produced to any output stream.  This is just the default,
with explicit layers in <I>open()</I> and with <I>binmode()</I> one can manipulate
streams as usual.


<P>


<TT>&quot;-C&quot;</TT> on its own (not followed by any number or option list), or the
empty string <TT>&quot;&quot;</TT> for the <TT>&quot;PERL_UNICODE&quot;</TT> environment variable, has the
same effect as <TT>&quot;-CSDL&quot;</TT>.  In other words, the standard I/O handles and
the default <TT>&quot;open()&quot;</TT> layer are UTF-8-fied <B>but</B> only if the locale
environment variables indicate a <FONT SIZE="-1">UTF-8</FONT> locale.  This behaviour follows
the <I>implicit</I> (and problematic) <FONT SIZE="-1">UTF-8</FONT> behaviour of Perl 5.8.0.


<P>


You can use <TT>&quot;-C0&quot;</TT> (or <TT>&quot;0&quot;</TT> for <TT>&quot;PERL_UNICODE&quot;</TT>) to explicitly
disable all the above Unicode features.


<P>


The read-only magic variable <TT>&quot;${^UNICODE}&quot;</TT> reflects the numeric value
of this setting.  This is variable is set during Perl startup and is
thereafter read-only.  If you want runtime effects, use the three-arg
<I>open()</I> (see ``open'' in perlfunc), the two-arg <I>binmode()</I> (see ``binmode'' in perlfunc),
and the <TT>&quot;open&quot;</TT> pragma (see open).


<P>


(In Perls earlier than 5.8.1 the <TT>&quot;-C&quot;</TT> switch was a Win32-only switch
that enabled the use of Unicode-aware ``wide system call'' Win32 APIs.
This feature was practically unused, however, and the command line
switch was therefore ``recycled''.)
<DT><B>-c</B><DD>
<A NAME="ixAAP"></A>
causes Perl to check the syntax of the program and then exit without
executing it.  Actually, it <I>will</I> execute <TT>&quot;BEGIN&quot;</TT>, <TT>&quot;CHECK&quot;</TT>, and
<TT>&quot;use&quot;</TT> blocks, because these are considered as occurring outside the
execution of your program.  <TT>&quot;INIT&quot;</TT> and <TT>&quot;END&quot;</TT> blocks, however, will
be skipped.
<DT><B>-d</B><DD>
<A NAME="ixAAQ"></A>
runs the program under the Perl debugger.  See perldebug.
<DT><B>-d:</B><I>foo[=bar,baz]</I><DD>
<A NAME="ixAAR"></A>
runs the program under the control of a debugging, profiling, or
tracing module installed as Devel::foo. E.g., <B>-d:DProf</B> executes
the program using the Devel::DProf profiler.  As with the <B>-M</B>
flag, options may be passed to the Devel::foo package where they
will be received and interpreted by the Devel::foo::import routine.
The comma-separated list of options must follow a <TT>&quot;=&quot;</TT> character.
See perldebug.
<DT><B>-D</B><I>letters</I><DD>
<A NAME="ixAAS"></A>

<DT><B>-D</B><I>number</I><DD>
<A NAME="ixAAT"></A>

sets debugging flags.  To watch how it executes your program, use
<B>-Dtls</B>.  (This works only if debugging is compiled into your
Perl.)  Another nice value is <B>-Dx</B>, which lists your compiled
syntax tree.  And <B>-Dr</B> displays compiled regular expressions;
the format of the output is explained in perldebguts.


<P>


As an alternative, specify a number instead of list of letters (e.g.,
<B>-D14</B> is equivalent to <B>-Dtls</B>):


<P>




<PRE>
        1  p  Tokenizing and parsing
        2  s  Stack snapshots
                with v, displays all stacks
        4  l  Context (loop) stack processing
        8  t  Trace execution
       16  o  Method and overloading resolution
       32  c  String/numeric conversions
       64  P  Print profiling info, preprocessor command for -P, source file input state
      128  m  Memory allocation
      256  f  Format processing
      512  r  Regular expression parsing and execution
     1024  x  Syntax tree dump
     2048  u  Tainting checks
     4096     (Obsolete, previously used for LEAKTEST)
     8192  H  Hash dump -- usurps values()
    16384  X  Scratchpad allocation
    32768  D  Cleaning up
    65536  S  Thread synchronization
   131072  T  Tokenising
   262144  R  Include reference counts of dumped variables (eg when using -Ds)
   524288  J  Do not s,t,P-debug (Jump over) opcodes within package DB
  1048576  v  Verbose: use in conjunction with other flags
  2097152  C  Copy On Write

</PRE>




<P>


All these flags require <B>-DDEBUGGING</B> when you compile the Perl
executable (but see Devel::Peek, re which may change this).
See the <I></I><FONT SIZE="-1"><I>INSTALL</I></FONT><I></I> file in the Perl source distribution
for how to do this.  This flag is automatically set if you include <B>-g</B>
option when <TT>&quot;Configure&quot;</TT> asks you about optimizer/debugger flags.


<P>


If you're just trying to get a print out of each line of Perl code
as it executes, the way that <TT>&quot;sh -x&quot;</TT> provides for shell scripts,
you can't use Perl's <B>-D</B> switch.  Instead do this


<P>




<PRE>
  # If you have &quot;env&quot; utility
  env=PERLDB_OPTS=&quot;NonStop=1 AutoTrace=1 frame=2&quot; perl -dS program

</PRE>




<P>




<PRE>
  # Bourne shell syntax
  $ PERLDB_OPTS=&quot;NonStop=1 AutoTrace=1 frame=2&quot; perl -dS program

</PRE>




<P>




<PRE>
  # csh syntax
  % (setenv PERLDB_OPTS &quot;NonStop=1 AutoTrace=1 frame=2&quot;; perl -dS program)

</PRE>




<P>


See perldebug for details and variations.
<DT><B>-e</B> <I>commandline</I><DD>
<A NAME="ixAAU"></A>
may be used to enter one line of program.  If <B>-e</B> is given, Perl
will not look for a filename in the argument list.  Multiple <B>-e</B>
commands may be given to build up a multi-line script.  Make sure
to use semicolons where you would in a normal program.
<DT><B>-F</B><I>pattern</I><DD>
<A NAME="ixAAV"></A>
specifies the pattern to split on if <B>-a</B> is also in effect.  The
pattern may be surrounded by <TT>&quot;//&quot;</TT>, <TT>&quot;&quot;</TT>, or <TT>''</TT>, otherwise it will be
put in single quotes.
<DT><B>-h</B><DD>
<A NAME="ixAAW"></A>
prints a summary of the options.
<DT><B>-i</B>[<I>extension</I>]<DD>
<A NAME="ixAAX"></A>
specifies that files processed by the <TT>&quot;&lt;&gt;&quot;</TT> construct are to be
edited in-place.  It does this by renaming the input file, opening the
output file by the original name, and selecting that output file as the
default for <I>print()</I> statements.  The extension, if supplied, is used to
modify the name of the old file to make a backup copy, following these
rules:


<P>


If no extension is supplied, no backup is made and the current file is
overwritten.


<P>


If the extension doesn't contain a <TT>&quot;*&quot;</TT>, then it is appended to the
end of the current filename as a suffix.  If the extension does
contain one or more <TT>&quot;*&quot;</TT> characters, then each <TT>&quot;*&quot;</TT> is replaced
with the current filename.  In Perl terms, you could think of this
as:


<P>




<PRE>
    ($backup = $extension) =~ s/\*/$file_name/g;

</PRE>




<P>


This allows you to add a prefix to the backup file, instead of (or in
addition to) a suffix:


<P>




<PRE>
    $ perl -pi'orig_*' -e 's/bar/baz/' fileA    # backup to 'orig_fileA'

</PRE>




<P>


Or even to place backup copies of the original files into another
directory (provided the directory already exists):


<P>




<PRE>
    $ perl -pi'old/*.orig' -e 's/bar/baz/' fileA # backup to 'old/fileA.orig'

</PRE>




<P>


These sets of one-liners are equivalent:


<P>




<PRE>
    $ perl -pi -e 's/bar/baz/' fileA            # overwrite current file
    $ perl -pi'*' -e 's/bar/baz/' fileA         # overwrite current file

</PRE>




<P>




<PRE>
    $ perl -pi'.orig' -e 's/bar/baz/' fileA     # backup to 'fileA.orig'
    $ perl -pi'*.orig' -e 's/bar/baz/' fileA    # backup to 'fileA.orig'

</PRE>




<P>


From the shell, saying


<P>




<PRE>
    $ perl -p -i.orig -e &quot;s/foo/bar/; ... &quot;

</PRE>




<P>


is the same as using the program:


<P>




<PRE>
    #!/usr/bin/perl -pi.orig
    s/foo/bar/;

</PRE>




<P>


which is equivalent to


<P>




<PRE>
    #!/usr/bin/perl
    $extension = '.orig';
    LINE: while (&lt;&gt;) {
        if ($ARGV ne $oldargv) {
            if ($extension !~ /\*/) {
                $backup = $ARGV . $extension;
            }
            else {
                ($backup = $extension) =~ s/\*/$ARGV/g;
            }
            rename($ARGV, $backup);
            open(ARGVOUT, &quot;&gt;$ARGV&quot;);
            select(ARGVOUT);
            $oldargv = $ARGV;
        }
        s/foo/bar/;
    }
    continue {
        print;  # this prints to original filename
    }
    select(STDOUT);

</PRE>




<P>


except that the <B>-i</B> form doesn't need to compare <TT>$ARGV</TT> to <TT>$oldargv</TT> to
know when the filename has changed.  It does, however, use <FONT SIZE="-1">ARGVOUT</FONT> for
the selected filehandle.  Note that <FONT SIZE="-1">STDOUT</FONT> is restored as the default
output filehandle after the loop.


<P>


As shown above, Perl creates the backup file whether or not any output
is actually changed.  So this is just a fancy way to copy files:


<P>




<PRE>
    $ perl -p -i'/some/file/path/*' -e 1 file1 file2 file3...
or
    $ perl -p -i'.orig' -e 1 file1 file2 file3...

</PRE>




<P>


You can use <TT>&quot;eof&quot;</TT> without parentheses to locate the end of each input
file, in case you want to append to each file, or reset line numbering
(see example in ``eof'' in perlfunc).


<P>


If, for a given file, Perl is unable to create the backup file as
specified in the extension then it will skip that file and continue on
with the next one (if it exists).


<P>


For a discussion of issues surrounding file permissions and <B>-i</B>,
see ``Why does Perl let me delete read-only files? Why does -i clobber protected files? Isn't this a bug in Perl?'' in perlfaq5.


<P>


You cannot use <B>-i</B> to create directories or to strip extensions from
files.


<P>


Perl does not expand <TT>&quot;~&quot;</TT> in filenames, which is good, since some
folks use it for their backup files:


<P>




<PRE>
    $ perl -pi~ -e 's/foo/bar/' file1 file2 file3...

</PRE>




<P>


Finally, the <B>-i</B> switch does not impede execution when no
files are given on the command line.  In this case, no backup is made
(the original file cannot, of course, be determined) and processing
proceeds from <FONT SIZE="-1">STDIN</FONT> to <FONT SIZE="-1">STDOUT</FONT> as might be expected.
<DT><B>-I</B><I>directory</I><DD>
<A NAME="ixAAY"></A>
Directories specified by <B>-I</B> are prepended to the search path for
modules (<TT>@INC</TT>), and also tells the C preprocessor where to search for
include files.  The C preprocessor is invoked with <B>-P</B>; by default it
searches /usr/include and /usr/lib/perl.
<DT><B>-l</B>[<I>octnum</I>]<DD>
<A NAME="ixAAZ"></A>
enables automatic line-ending processing.  It has two separate
effects.  First, it automatically chomps <TT>$/</TT> (the input record
separator) when used with <B>-n</B> or <B>-p</B>.  Second, it assigns <TT>&quot;$\&quot;</TT>
(the output record separator) to have the value of <I>octnum</I> so
that any print statements will have that separator added back on.
If <I>octnum</I> is omitted, sets <TT>&quot;$\&quot;</TT> to the current value of
<TT>$/</TT>.  For instance, to trim lines to 80 columns:


<P>




<PRE>
    perl -lpe 'substr($_, 80) = &quot;&quot;'

</PRE>




<P>


Note that the assignment <TT>&quot;$\ = $/&quot;</TT> is done when the switch is processed,
so the input record separator can be different than the output record
separator if the <B>-l</B> switch is followed by a <B>-0</B> switch:


<P>




<PRE>
    gnufind / -print0 | perl -ln0e 'print &quot;found $_&quot; if -p'

</PRE>




<P>


This sets <TT>&quot;$\&quot;</TT> to newline and then sets <TT>$/</TT> to the null character.
<DT><B>-m</B>[<B>-</B>]<I>module</I><DD>
<A NAME="ixABA"></A>

<DT><B>-M</B>[<B>-</B>]<I>module</I><DD>
<A NAME="ixABB"></A>
<DT><B>-M</B>[<B>-</B>]<I>'module ...'</I><DD>
<A NAME="ixABC"></A>
<DT><B>-[mM]</B>[<B>-</B>]<I>module=arg[,arg]...</I><DD>
<A NAME="ixABD"></A>

<B>-m</B><I>module</I> executes <TT>&quot;use&quot;</TT> <I>module</I> <TT>&quot;();&quot;</TT> before executing your
program.


<P>


<B>-M</B><I>module</I> executes <TT>&quot;use&quot;</TT> <I>module</I> <TT>&quot;;&quot;</TT> before executing your
program.  You can use quotes to add extra code after the module name,
e.g., <TT>'-Mmodule qw(foo bar)'</TT>.


<P>


If the first character after the <B>-M</B> or <B>-m</B> is a dash (<TT>&quot;-&quot;</TT>)
then the 'use' is replaced with 'no'.


<P>


A little builtin syntactic sugar means you can also say
<B>-mmodule=foo,bar</B> or <B>-Mmodule=foo,bar</B> as a shortcut for
<TT>'-Mmodule qw(foo bar)'</TT>.  This avoids the need to use quotes when
importing symbols.  The actual code generated by <B>-Mmodule=foo,bar</B> is
<TT>&quot;use module split(/,/,q{foo,bar})&quot;</TT>.  Note that the <TT>&quot;=&quot;</TT> form
removes the distinction between <B>-m</B> and <B>-M</B>.
<DT><B>-n</B><DD>
<A NAME="ixABE"></A>
causes Perl to assume the following loop around your program, which
makes it iterate over filename arguments somewhat like <B>sed -n</B> or
<B>awk</B>:


<P>




<PRE>
  LINE:
    while (&lt;&gt;) {
        ...             # your program goes here
    }

</PRE>




<P>


Note that the lines are not printed by default.  See <B>-p</B> to have
lines printed.  If a file named by an argument cannot be opened for
some reason, Perl warns you about it and moves on to the next file.


<P>


Here is an efficient way to delete all files that haven't been modifed for
at least a week:


<P>




<PRE>
    find . -mtime +7 -print | perl -nle unlink

</PRE>




<P>


This is faster than using the <B>-exec</B> switch of <B>find</B> because you don't
have to start a process on every filename found.  It does suffer from
the bug of mishandling newlines in pathnames, which you can fix if
you follow the example under <B>-0</B>.


<P>


<TT>&quot;BEGIN&quot;</TT> and <TT>&quot;END&quot;</TT> blocks may be used to capture control before or after
the implicit program loop, just as in <B>awk</B>.
<DT><B>-p</B><DD>
<A NAME="ixABF"></A>
causes Perl to assume the following loop around your program, which
makes it iterate over filename arguments somewhat like <B>sed</B>:


<P>




<PRE>
  LINE:
    while (&lt;&gt;) {
        ...             # your program goes here
    } continue {
        print or die &quot;-p destination: $!\n&quot;;
    }

</PRE>




<P>


If a file named by an argument cannot be opened for some reason, Perl
warns you about it, and moves on to the next file.  Note that the
lines are printed automatically.  An error occurring during printing is
treated as fatal.  To suppress printing use the <B>-n</B> switch.  A <B>-p</B>
overrides a <B>-n</B> switch.


<P>


<TT>&quot;BEGIN&quot;</TT> and <TT>&quot;END&quot;</TT> blocks may be used to capture control before or after
the implicit loop, just as in <B>awk</B>.
<DT><B>-P</B><DD>
<A NAME="ixABG"></A>
<B></B><FONT SIZE="-1"><B>NOTE:</B></FONT><B> Use of -P is strongly discouraged because of its inherent
problems, including poor portability.</B>


<P>


This option causes your program to be run through the C preprocessor before
compilation by Perl.  Because both comments and <B>cpp</B> directives begin
with the # character, you should avoid starting comments with any words
recognized by the C preprocessor such as <TT>&quot;if&quot;</TT>, <TT>&quot;else&quot;</TT>, or <TT>&quot;define&quot;</TT>.


<P>


If you're considering using <TT>&quot;-P&quot;</TT>, you might also want to look at the
Filter::cpp module from <FONT SIZE="-1">CPAN</FONT>.


<P>


The problems of -P include, but are not limited to:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>*<DD>
The <TT>&quot;#!&quot;</TT> line is stripped, so any switches there don't apply.
<DT>*<DD>
A <TT>&quot;-P&quot;</TT> on a <TT>&quot;#!&quot;</TT> line doesn't work.
<DT>*<DD>
<B>All</B> lines that begin with (whitespace and) a <TT>&quot;#&quot;</TT> but
do not look like cpp commands, are stripped, including anything
inside Perl strings, regular expressions, and here-docs .
<DT>*<DD>
In some platforms the C preprocessor knows too much: it knows about
the C<FONT SIZE="-2">++</FONT> -style until-end-of-line comments starting with <TT>&quot;//&quot;</TT>.
This will cause problems with common Perl constructs like


<P>




<PRE>
    s/foo//;

</PRE>




<P>


because after -P this will became illegal code


<P>




<PRE>
    s/foo

</PRE>




<P>


The workaround is to use some other quoting separator than <TT>&quot;/&quot;</TT>,
like for example <TT>&quot;!&quot;</TT>:


<P>




<PRE>
    s!foo!!;

</PRE>


<DT>*<DD>
It requires not only a working C preprocessor but also a working
<I>sed</I>.  If not on <FONT SIZE="-1">UNIX</FONT>, you are probably out of luck on this.
<DT>*<DD>
Script line numbers are not preserved.
<DT>*<DD>
The <TT>&quot;-x&quot;</TT> does not work with <TT>&quot;-P&quot;</TT>.
</DL>
</DL>

<DL COMPACT><DT><DD>
</DL>

<DT><B>-s</B><DD>
<A NAME="ixABH"></A>
enables rudimentary switch parsing for switches on the command
line after the program name but before any filename arguments (or before
an argument of <B>--</B>).  This means you can have switches with two leading
dashes (<B>--help</B>).  Any switch found there is removed from <TT>@ARGV</TT> and sets the
corresponding variable in the Perl program.  The following program
prints ``1'' if the program is invoked with a <B>-xyz</B> switch, and ``abc''
if it is invoked with <B>-xyz=abc</B>.


<P>




<PRE>
    #!/usr/bin/perl -s
    if ($xyz) { print &quot;$xyz\n&quot; }

</PRE>




<P>


Do note that <B>--help</B> creates the variable ${-help}, which is not compliant
with <TT>&quot;strict refs&quot;</TT>.
<DT><B>-S</B><DD>
<A NAME="ixABI"></A>
makes Perl use the <FONT SIZE="-1">PATH</FONT> environment variable to search for the
program (unless the name of the program contains directory separators).


<P>


On some platforms, this also makes Perl append suffixes to the
filename while searching for it.  For example, on Win32 platforms,
the ``.bat'' and ``.cmd'' suffixes are appended if a lookup for the
original name fails, and if the name does not already end in one
of those suffixes.  If your Perl was compiled with <FONT SIZE="-1">DEBUGGING</FONT> turned
on, using the -Dp switch to Perl shows how the search progresses.


<P>


Typically this is used to emulate #! startup on platforms that
don't support #!.  This example works on many platforms that
have a shell compatible with Bourne shell:


<P>




<PRE>
    #!/usr/bin/perl
    eval 'exec /usr/bin/perl -wS $0 ${1+&quot;$@&quot;}'
            if $running_under_some_shell;

</PRE>




<P>


The system ignores the first line and feeds the program to <I>/bin/sh</I>,
which proceeds to try to execute the Perl program as a shell script.
The shell executes the second line as a normal shell command, and thus
starts up the Perl interpreter.  On some systems <TT>$0</TT> doesn't always
contain the full pathname, so the <B>-S</B> tells Perl to search for the
program if necessary.  After Perl locates the program, it parses the
lines and ignores them because the variable <TT>$running_under_some_shell</TT>
is never true.  If the program will be interpreted by csh, you will need
to replace <TT>&quot;${1+&quot;$@&quot;}&quot;</TT> with <TT>$*</TT>, even though that doesn't understand
embedded spaces (and such) in the argument list.  To start up sh rather
than csh, some systems may have to replace the #! line with a line
containing just a colon, which will be politely ignored by Perl.  Other
systems can't control that, and need a totally devious construct that
will work under any of <B>csh</B>, <B>sh</B>, or Perl, such as the following:


<P>




<PRE>
        eval '(exit $?0)' &amp;&amp; eval 'exec perl -wS $0 ${1+&quot;$@&quot;}'
        &amp; eval 'exec /usr/bin/perl -wS $0 $argv:q'
                if $running_under_some_shell;

</PRE>




<P>


If the filename supplied contains directory separators (i.e., is an
absolute or relative pathname), and if that file is not found,
platforms that append file extensions will do so and try to look
for the file with those extensions added, one by one.


<P>


On DOS-like platforms, if the program does not contain directory
separators, it will first be searched for in the current directory
before being searched for on the <FONT SIZE="-1">PATH</FONT>.  On Unix platforms, the
program will be searched for strictly on the <FONT SIZE="-1">PATH</FONT>.
<DT><B>-t</B><DD>
<A NAME="ixABJ"></A>
Like <B>-T</B>, but taint checks will issue warnings rather than fatal
errors.  These warnings can be controlled normally with <TT>&quot;no warnings
qw(taint)&quot;</TT>.


<P>


<B></B><FONT SIZE="-1"><B>NOTE:</B></FONT><B> this is not a substitute for -T.</B> This is meant only to be
used as a temporary development aid while securing legacy code:
for real production code and for new secure code written from scratch
always use the real <B>-T</B>.
<DT><B>-T</B><DD>
<A NAME="ixABK"></A>
forces ``taint'' checks to be turned on so you can test them.  Ordinarily
these checks are done only when running setuid or setgid.  It's a
good idea to turn them on explicitly for programs that run on behalf
of someone else whom you might not necessarily trust, such as <FONT SIZE="-1">CGI</FONT>
programs or any internet servers you might write in Perl.  See
perlsec for details.  For security reasons, this option must be
seen by Perl quite early; usually this means it must appear early
on the command line or in the #! line for systems which support
that construct.
<DT><B>-u</B><DD>
<A NAME="ixABL"></A>
This obsolete switch causes Perl to dump core after compiling your
program.  You can then in theory take this core dump and turn it
into an executable file by using the <B>undump</B> program (not supplied).
This speeds startup at the expense of some disk space (which you
can minimize by stripping the executable).  (Still, a ``hello world''
executable comes out to about 200K on my machine.)  If you want to
execute a portion of your program before dumping, use the <I>dump()</I>
operator instead.  Note: availability of <B>undump</B> is platform
specific and may not be available for a specific port of Perl.


<P>


This switch has been superseded in favor of the new Perl code
generator backends to the compiler.  See B and B::Bytecode
for details.
<DT><B>-U</B><DD>
<A NAME="ixABM"></A>
allows Perl to do unsafe operations.  Currently the only ``unsafe''
operations are the unlinking of directories while running as superuser,
and running setuid programs with fatal taint checks turned into
warnings.  Note that the <B>-w</B> switch (or the <TT>$^W</TT> variable) must
be used along with this option to actually <I>generate</I> the
taint-check warnings.
<DT><B>-v</B><DD>
<A NAME="ixABN"></A>
prints the version and patchlevel of your perl executable.
<DT><B>-V</B><DD>
<A NAME="ixABO"></A>
prints summary of the major perl configuration values and the current
values of <TT>@INC</TT>.
<DT><B>-V:</B><I>name</I><DD>
<A NAME="ixABP"></A>
Prints to <FONT SIZE="-1">STDOUT</FONT> the value of the named configuration variable(s),
with multiples when your query looks like a regex.
For example,


<P>




<PRE>
    $ perl -V:lib.
        libs='-lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lc';
        libc='/lib/libc-2.2.4.so';
    $ perl -V:lib.*
        libpth='/usr/local/lib /lib /usr/lib';
        libs='-lnsl -lgdbm -ldb -ldl -lm -lcrypt -lutil -lc';
        lib_ext='.a';
        libc='/lib/libc-2.2.4.so';
        libperl='libperl.a';
        ....

</PRE>




<P>


Additionally, extra colons can be used to control formatting.  A
trailing colon suppresses the linefeed and terminator ';', allowing
you to embed queries into shell commands.  (mnemonic: <FONT SIZE="-1">PATH</FONT> separator
':'.)


<P>




<PRE>
    $ echo &quot;compression-vars: &quot; `perl -V:z.*: ` &quot; are here !&quot;
    compression-vars:  zcat='' zip='zip'  are here !

</PRE>




<P>


A leading colon removes the 'name=' part of the response, this allows
you to map to the name you need.


<P>




<PRE>
    $ echo &quot;goodvfork=&quot;`./perl -Ilib -V::usevfork`
    goodvfork=false;

</PRE>




<P>


Leading and trailing colons can be used together if you need
positional parameter values without the names.  Note that in the case
below, the <FONT SIZE="-1">PERL_API</FONT> params are returned in alphabetical order.


<P>




<PRE>
    $ echo building_on `perl -V::osname: -V::PERL_API_.*:` now
    building_on 'linux' '5' '1' '9' now

</PRE>


<DT><B>-w</B><DD>
<A NAME="ixABQ"></A>
prints warnings about dubious constructs, such as variable names
that are mentioned only once and scalar variables that are used
before being set, redefined subroutines, references to undefined
filehandles or filehandles opened read-only that you are attempting
to write on, values used as a number that doesn't look like numbers,
using an array as though it were a scalar, if your subroutines
recurse more than 100 deep, and innumerable other things.


<P>


This switch really just enables the internal <TT>$^W</TT> variable.  You
can disable or promote into fatal errors specific warnings using
<TT>&quot;__WARN__&quot;</TT> hooks, as described in perlvar and ``warn'' in perlfunc.
See also perldiag and perltrap.  A new, fine-grained warning
facility is also available if you want to manipulate entire classes
of warnings; see warnings or perllexwarn.
<DT><B>-W</B><DD>
<A NAME="ixABR"></A>
Enables all warnings regardless of <TT>&quot;no warnings&quot;</TT> or <TT>$^W</TT>.
See perllexwarn.
<DT><B>-X</B><DD>
<A NAME="ixABS"></A>
Disables all warnings regardless of <TT>&quot;use warnings&quot;</TT> or <TT>$^W</TT>.
See perllexwarn.
<DT><B>-x</B><DD>
<A NAME="ixABT"></A>

<DT><B>-x</B> <I>directory</I><DD>
<A NAME="ixABU"></A>

tells Perl that the program is embedded in a larger chunk of unrelated
<FONT SIZE="-1">ASCII</FONT> text, such as in a mail message.  Leading garbage will be
discarded until the first line that starts with #! and contains the
string ``perl''.  Any meaningful switches on that line will be applied.
If a directory name is specified, Perl will switch to that directory
before running the program.  The <B>-x</B> switch controls only the
disposal of leading garbage.  The program must be terminated with
<TT>&quot;__END__&quot;</TT> if there is trailing garbage to be ignored (the program
can process any or all of the trailing garbage via the <FONT SIZE="-1">DATA</FONT> filehandle
if desired).
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>ENVIRONMENT</H2>

<A NAME="ixABV"></A>
<DL COMPACT>
<DT><FONT SIZE="-1">HOME</FONT><DD>
<A NAME="ixABW"></A>
Used if chdir has no argument.
<DT><FONT SIZE="-1">LOGDIR</FONT><DD>
<A NAME="ixABX"></A>
Used if chdir has no argument and <FONT SIZE="-1">HOME</FONT> is not set.
<DT><FONT SIZE="-1">PATH</FONT><DD>
<A NAME="ixABY"></A>
Used in executing subprocesses, and in finding the program if <B>-S</B> is
used.
<DT><FONT SIZE="-1">PERL5LIB</FONT><DD>
<A NAME="ixABZ"></A>
A list of directories in which to look for Perl library
files before looking in the standard library and the current
directory.  Any architecture-specific directories under the specified
locations are automatically included if they exist.  If <FONT SIZE="-1">PERL5LIB</FONT> is not
defined, <FONT SIZE="-1">PERLLIB</FONT> is used.  Directories are separated (like in <FONT SIZE="-1">PATH</FONT>) by
a colon on unixish platforms and by a semicolon on Windows (the proper
path separator being given by the command <TT>&quot;perl -V:path_sep&quot;</TT>).


<P>


When running taint checks (either because the program was running setuid
or setgid, or the <B>-T</B> switch was used), neither variable is used.
The program should instead say:


<P>




<PRE>
    use lib &quot;/my/directory&quot;;

</PRE>


<DT><FONT SIZE="-1">PERL5OPT</FONT><DD>
<A NAME="ixACA"></A>
Command-line options (switches).  Switches in this variable are taken
as if they were on every Perl command line.  Only the <B>-[DIMUdmtw]</B>
switches are allowed.  When running taint checks (because the program
was running setuid or setgid, or the <B>-T</B> switch was used), this
variable is ignored.  If <FONT SIZE="-1">PERL5OPT</FONT> begins with <B>-T</B>, tainting will be
enabled, and any subsequent options ignored.
<DT><FONT SIZE="-1">PERLIO</FONT><DD>
<A NAME="ixACB"></A>
A space (or colon) separated list of PerlIO layers. If perl is built
to use PerlIO system for <FONT SIZE="-1">IO</FONT> (the default) these layers effect perl's <FONT SIZE="-1">IO</FONT>.


<P>


It is conventional to start layer names with a colon e.g. <TT>&quot;:perlio&quot;</TT> to
emphasise their similarity to variable ``attributes''. But the code that parses
layer specification strings (which is also used to decode the <FONT SIZE="-1">PERLIO</FONT>
environment variable) treats the colon as a separator.


<P>


An unset or empty <FONT SIZE="-1">PERLIO</FONT> is equivalent to <TT>&quot;:stdio&quot;</TT>.


<P>


The list becomes the default for <I>all</I> perl's <FONT SIZE="-1">IO</FONT>. Consequently only built-in
layers can appear in this list, as external layers (such as :<I>encoding()</I>) need
<FONT SIZE="-1">IO</FONT> in  order to load them!. See ``open pragma'' for how to add external
encodings as defaults.


<P>


The layers that it makes sense to include in the <FONT SIZE="-1">PERLIO</FONT> environment
variable are briefly summarised below. For more details see PerlIO.
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT>:bytes<DD>
<A NAME="ixACC"></A>
A pseudolayer that turns <I>off</I> the <TT>&quot;:utf8&quot;</TT> flag for the layer below.
Unlikely to be useful on its own in the global <FONT SIZE="-1">PERLIO</FONT> environment variable.
You perhaps were thinking of <TT>&quot;:crlf:bytes&quot;</TT> or <TT>&quot;:perlio:bytes&quot;</TT>.
<DT>:crlf<DD>
<A NAME="ixACD"></A>
A layer which does <FONT SIZE="-1">CRLF</FONT> to ``\n'' translation distinguishing ``text'' and
``binary'' files in the manner of MS-DOS and similar operating systems.
(It currently does <I>not</I> mimic MS-DOS as far as treating of Control-Z
as being an end-of-file marker.)
<DT>:mmap<DD>
<A NAME="ixACE"></A>
A layer which implements ``reading'' of files by using <TT>&quot;mmap()&quot;</TT> to
make (whole) file appear in the process's address space, and then
using that as PerlIO's ``buffer''.
<DT>:perlio<DD>
<A NAME="ixACF"></A>
This is a re-implementation of ``stdio-like'' buffering written as a
PerlIO ``layer''.  As such it will call whatever layer is below it for
its operations (typically <TT>&quot;:unix&quot;</TT>).
<DT>:pop<DD>
<A NAME="ixACG"></A>
An experimental pseudolayer that removes the topmost layer.
Use with the same care as is reserved for nitroglycerin.
<DT>:raw<DD>
<A NAME="ixACH"></A>
A pseudolayer that manipulates other layers.  Applying the <TT>&quot;:raw&quot;</TT>
layer is equivalent to calling <TT>&quot;binmode($fh)&quot;</TT>.  It makes the stream
pass each byte as-is without any translation.  In particular <FONT SIZE="-1">CRLF</FONT>
translation, and/or :utf8 intuited from locale are disabled.


<P>


Unlike in the earlier versions of Perl <TT>&quot;:raw&quot;</TT> is <I>not</I>
just the inverse of <TT>&quot;:crlf&quot;</TT> - other layers which would affect the
binary nature of the stream are also removed or disabled.
<DT>:stdio<DD>
<A NAME="ixACI"></A>
This layer provides PerlIO interface by wrapping system's <FONT SIZE="-1">ANSI</FONT> C ``stdio''
library calls. The layer provides both buffering and <FONT SIZE="-1">IO</FONT>.
Note that <TT>&quot;:stdio&quot;</TT> layer does <I>not</I> do <FONT SIZE="-1">CRLF</FONT> translation even if that
is platforms normal behaviour. You will need a <TT>&quot;:crlf&quot;</TT> layer above it
to do that.
<DT>:unix<DD>
<A NAME="ixACJ"></A>
Low level layer which calls <TT>&quot;read&quot;</TT>, <TT>&quot;write&quot;</TT> and <TT>&quot;lseek&quot;</TT> etc.
<DT>:utf8<DD>
<A NAME="ixACK"></A>
A pseudolayer that turns on a flag on the layer below to tell perl
that output should be in utf8 and that input should be regarded as
already in utf8 form.  May be useful in <FONT SIZE="-1">PERLIO</FONT> environment
variable to make <FONT SIZE="-1">UTF-8</FONT> the default. (To turn off that behaviour
use <TT>&quot;:bytes&quot;</TT> layer.)
<DT>:win32<DD>
<A NAME="ixACL"></A>
On Win32 platforms this <I>experimental</I> layer uses native ``handle'' <FONT SIZE="-1">IO</FONT>
rather than unix-like numeric file descriptor layer. Known to be
buggy in this release.
</DL>
</DL>

<DL COMPACT><DT><DD>


<P>


On all platforms the default set of layers should give acceptable results.


<P>


For <FONT SIZE="-1">UNIX</FONT> platforms that will equivalent of ``unix perlio'' or ``stdio''.
Configure is setup to prefer ``stdio'' implementation if system's library
provides for fast access to the buffer, otherwise it uses the ``unix perlio''
implementation.


<P>


On Win32 the default in this release is ``unix crlf''. Win32's ``stdio''
has a number of bugs/mis-features for perl <FONT SIZE="-1">IO</FONT> which are somewhat
C compiler vendor/version dependent. Using our own <TT>&quot;crlf&quot;</TT> layer as
the buffer avoids those issues and makes things more uniform.
The <TT>&quot;crlf&quot;</TT> layer provides <FONT SIZE="-1">CRLF</FONT> to/from ``\n'' conversion as well as
buffering.


<P>


This release uses <TT>&quot;unix&quot;</TT> as the bottom layer on Win32 and so still uses C
compiler's numeric file descriptor routines. There is an experimental native
<TT>&quot;win32&quot;</TT> layer which is expected to be enhanced and should eventually be
the default under Win32.
</DL>

<DT><FONT SIZE="-1">PERLIO_DEBUG</FONT><DD>
<A NAME="ixACM"></A>
If set to the name of a file or device then certain operations of PerlIO
sub-system will be logged to that file (opened as append). Typical uses
are <FONT SIZE="-1">UNIX:</FONT>


<P>




<PRE>
   PERLIO_DEBUG=/dev/tty perl script ...

</PRE>




<P>


and Win32 approximate equivalent:


<P>




<PRE>
   set PERLIO_DEBUG=CON
   perl script ...

</PRE>


<DT><FONT SIZE="-1">PERLLIB</FONT><DD>
<A NAME="ixACN"></A>
A list of directories in which to look for Perl library
files before looking in the standard library and the current directory.
If <FONT SIZE="-1">PERL5LIB</FONT> is defined, <FONT SIZE="-1">PERLLIB</FONT> is not used.
<DT><FONT SIZE="-1">PERL5DB</FONT><DD>
<A NAME="ixACO"></A>
The command used to load the debugger code.  The default is:


<P>




<PRE>
        BEGIN { require 'perl5db.pl' }

</PRE>


<DT><FONT SIZE="-1">PERL5SHELL</FONT> (specific to the Win32 port)<DD>
<A NAME="ixACP"></A>
May be set to an alternative shell that perl must use internally for
executing ``backtick'' commands or <I>system()</I>.  Default is <TT>&quot;cmd.exe /x/d/c&quot;</TT>
on WindowsNT and <TT>&quot;command.com /c&quot;</TT> on Windows95.  The value is considered
to be space-separated.  Precede any character that needs to be protected
(like a space or backslash) with a backslash.


<P>


Note that Perl doesn't use <FONT SIZE="-1">COMSPEC</FONT> for this purpose because
<FONT SIZE="-1">COMSPEC</FONT> has a high degree of variability among users, leading to
portability concerns.  Besides, perl can use a shell that may not be
fit for interactive use, and setting <FONT SIZE="-1">COMSPEC</FONT> to such a shell may
interfere with the proper functioning of other programs (which usually
look in <FONT SIZE="-1">COMSPEC</FONT> to find a shell fit for interactive use).
<DT><FONT SIZE="-1">PERL_DEBUG_MSTATS</FONT><DD>
<A NAME="ixACQ"></A>
Relevant only if perl is compiled with the malloc included with the perl
distribution (that is, if <TT>&quot;perl -V:d_mymalloc&quot;</TT> is 'define').
If set, this causes memory statistics to be dumped after execution.  If set
to an integer greater than one, also causes memory statistics to be dumped
after compilation.
<DT><FONT SIZE="-1">PERL_DESTRUCT_LEVEL</FONT><DD>
<A NAME="ixACR"></A>
Relevant only if your perl executable was built with <B>-DDEBUGGING</B>,
this controls the behavior of global destruction of objects and other
references.  See ``<FONT SIZE="-1">PERL_DESTRUCT_LEVEL</FONT>'' in perlhack for more information.
<DT><FONT SIZE="-1">PERL_DL_NONLAZY</FONT><DD>
<A NAME="ixACS"></A>
Set to one to have perl resolve <B>all</B> undefined symbols when it loads
a dynamic library.  The default behaviour is to resolve symbols when
they are used.  Setting this variable is useful during testing of
extensions as it ensures that you get an error on misspelled function
names even if the test suite doesn't call it.
<DT><FONT SIZE="-1">PERL_ENCODING</FONT><DD>
<A NAME="ixACT"></A>
If using the <TT>&quot;encoding&quot;</TT> pragma without an explicit encoding name, the
<FONT SIZE="-1">PERL_ENCODING</FONT> environment variable is consulted for an encoding name.
<DT><FONT SIZE="-1">PERL_HASH_SEED</FONT><DD>
<A NAME="ixACU"></A>
(Since Perl 5.8.1.)  Used to randomise Perl's internal hash function.
To emulate the pre-5.8.1 behaviour, set to an integer (zero means
exactly the same order as 5.8.0).  ``Pre-5.8.1'' means, among other
things, that hash keys will be ordered the same between different runs
of Perl.


<P>


The default behaviour is to randomise unless the <FONT SIZE="-1">PERL_HASH_SEED</FONT> is set.
If Perl has been compiled with <TT>&quot;-DUSE_HASH_SEED_EXPLICIT&quot;</TT>, the default
behaviour is <B>not</B> to randomise unless the <FONT SIZE="-1">PERL_HASH_SEED</FONT> is set.


<P>


If <FONT SIZE="-1">PERL_HASH_SEED</FONT> is unset or set to a non-numeric string, Perl uses
the pseudorandom seed supplied by the operating system and libraries.
This means that each different run of Perl will have a different
ordering of the results of <I>keys()</I>, <I>values()</I>, and <I>each()</I>.


<P>


<B>Please note that the hash seed is sensitive information</B>. Hashes are
randomized to protect against local and remote attacks against Perl
code. By manually setting a seed this protection may be partially or
completely lost.


<P>


See ``Algorithmic Complexity Attacks'' in perlsec and
``<FONT SIZE="-1">PERL_HASH_SEED_DEBUG</FONT>'' for more information.
<DT><FONT SIZE="-1">PERL_HASH_SEED_DEBUG</FONT><DD>
<A NAME="ixACV"></A>
(Since Perl 5.8.1.)  Set to one to display (to <FONT SIZE="-1">STDERR</FONT>) the value of
the hash seed at the beginning of execution.  This, combined with
``<FONT SIZE="-1">PERL_HASH_SEED</FONT>'' is intended to aid in debugging nondeterministic
behavior caused by hash randomization.


<P>


<B>Note that the hash seed is sensitive information</B>: by knowing it one
can craft a denial-of-service attack against Perl code, even remotely,
see ``Algorithmic Complexity Attacks'' in perlsec for more information.
<B>Do not disclose the hash seed</B> to people who don't need to know it.
See also <I>hash_seed()</I> of Hash::Util.
<DT><FONT SIZE="-1">PERL_ROOT</FONT> (specific to the <FONT SIZE="-1">VMS</FONT> port)<DD>
<A NAME="ixACW"></A>
A translation concealed rooted logical name that contains perl and the
logical device for the <TT>@INC</TT> path on <FONT SIZE="-1">VMS</FONT> only.  Other logical names that
affect perl on <FONT SIZE="-1">VMS</FONT> include <FONT SIZE="-1">PERLSHR</FONT>, <FONT SIZE="-1">PERL_ENV_TABLES</FONT>, and
<FONT SIZE="-1">SYS$TIMEZONE_DIFFERENTIAL</FONT> but are optional and discussed further in
perlvms and in <I></I><FONT SIZE="-1"><I>README</I></FONT><I>.vms</I> in the Perl source distribution.
<DT><FONT SIZE="-1">PERL_SIGNALS</FONT><DD>
<A NAME="ixACX"></A>
In Perls 5.8.1 and later.  If set to <TT>&quot;unsafe&quot;</TT> the pre-Perl-5.8.0
signals behaviour (immediate but unsafe) is restored.  If set to
<TT>&quot;safe&quot;</TT> the safe (or deferred) signals are used.
See ``Deferred Signals (Safe signals)'' in perlipc.
<DT><FONT SIZE="-1">PERL_UNICODE</FONT><DD>
<A NAME="ixACY"></A>
Equivalent to the <B>-C</B> command-line switch.  Note that this is not
a boolean variable--- setting this to <TT>&quot;1&quot;</TT> is not the right way to
``enable Unicode'' (whatever that would mean).  You can use <TT>&quot;0&quot;</TT> to
``disable Unicode'', though (or alternatively unset <FONT SIZE="-1">PERL_UNICODE</FONT> in
your shell before starting Perl).  See the description of the <TT>&quot;-C&quot;</TT>
switch for more information.
<DT><FONT SIZE="-1">SYS$LOGIN</FONT> (specific to the <FONT SIZE="-1">VMS</FONT> port)<DD>
<A NAME="ixACZ"></A>
Used if chdir has no argument and <FONT SIZE="-1">HOME</FONT> and <FONT SIZE="-1">LOGDIR</FONT> are not set.
</DL>
<P>

Perl also has environment variables that control how Perl handles data
specific to particular natural languages.  See perllocale.
<P>

Apart from these, Perl uses no other environment variables, except
to make them available to the program being executed, and to child
processes.  However, programs running setuid would do well to execute
the following lines before doing anything else, just to keep people
honest:
<P>



<PRE>
    $ENV{PATH}  = '/bin:/usr/bin';    # or whatever you need
    $ENV{SHELL} = '/bin/sh' if exists $ENV{SHELL};
    delete @ENV{qw(IFS CDPATH ENV BASH_ENV)};

</PRE>


<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">#! and quoting on non-Unix systems</A><DD>
<DT><A HREF="#lbAF">Location of Perl</A><DD>
<DT><A HREF="#lbAG">Command Switches</A><DD>
<DT><A HREF="#lbAH">ENVIRONMENT</A><DD>
</DL>

</div>

<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=linuxmanpages">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<div id="footer"><div class="littletext"> LinuxManPages.com &copy; <a class="white"  href="http://www.name.com">Name.com</a>&nbsp;&nbsp;&nbsp;Links: <!--<a class='white' href='http://www.earthsearch.net'>geographic information</a> |-->
<a class='white' href='http://www.who.is'>who.is search</a> |
<a class='white' href='http://www.bluerider.com'>dictionary</a> |
<a class='white' href='http://www.tld.io' class='small'>ccTLD information</a> 
</div></div>
</div>




</body>
</html>
