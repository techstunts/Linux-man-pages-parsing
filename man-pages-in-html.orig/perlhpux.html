
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>PERLHPUX</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">
<div id="banner">
<a href='/'><img src='/include/images/linuxmanpages_logo.png' alt='Linux Man Pages' border='0'></a>
</div>
<div id="formLinks">
<table id="searchTable">
<tr>
<form action='/search.php' method='post'>
<td>Search For :</td>
<td><input type="text" size="20" name="term"></td>
<td>in: </td>

<td>
<select name="section">
<option value="-1">All Sections</option>
<option value="1">1. General Commands</option>
<option value="2">2. System Calls</option>
<option value="3">3. Subroutines</option>
<option value="4">4. Special Files</option>
<option value="5">5. File Formats</option>
<option value="6">6. Games and Demos</option>
<option value="7">7. Macros and Conventions</option>
<option value="8">8. Maintenence Commands</option>
</select> 
</td>
<td>
<input type='hidden' name='submitted' value='1'>
<input type="submit" value="Get Man Page">
</td>
</form>
</tr>
</table>
</div>
<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>PERLHPUX</H1>
Section: Perl Programmers Reference Guide (1)<BR>Updated: 2004-04-23<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

README.hpux - Perl version 5 on Hewlett-Packard Unix (HP-UX) systems
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAC"></A>
This document describes various features of <FONT SIZE="-1">HP</FONT>'s Unix operating system
(<FONT SIZE="-1">HP-UX</FONT>) that will affect how Perl version 5 (hereafter just Perl) is
compiled and/or runs.
<A NAME="lbAD">&nbsp;</A>
<H2>Using perl as shipped with HP-UX</H2>

<A NAME="ixAAD"></A>
As of application release September 2001, HP-UX 11.00 is shipped with
perl-5.6.1 in /opt/perl. The first occurrence is on <FONT SIZE="-1">CD</FONT> 5012-7954 and
can be installed using
<P>



<PRE>
    swinstall -s /cdrom perl

</PRE>


<P>

assuming you have mounted that <FONT SIZE="-1">CD</FONT> on /cdrom. In this version the
following modules are installed:
<P>



<PRE>
    ActivePerl::DocTools-0.04   HTML::Parser-3.19   XML::DOM-1.25
    Archive::Tar-0.072          HTML::Tagset-3.03   XML::Parser-2.27
    Compress::Zlib-1.08         MIME::Base64-2.11   XML::Simple-1.05
    Convert::ASN1-0.10          Net-1.07            XML::XPath-1.09
    Digest::MD5-2.11            PPM-2.1.5           XML::XSLT-0.32
    File::CounterFile-0.12      SOAP::Lite-0.46     libwww-perl-5.51
    Font::AFM-1.18              Storable-1.011      libxml-perl-0.07
    HTML-Tree-3.11              URI-1.11            perl-ldap-0.23

</PRE>


<P>

The build is a portable hppa-1.1 multithread build that supports large
files compiled with gcc-2.9-hppa-991112
<P>

If you perform a new installation, then Perl will be installed
automatically.
<A NAME="lbAE">&nbsp;</A>
<H2>Using perl from <FONT SIZE="-1">HP</FONT>'s porting centre</H2>

<A NAME="ixAAE"></A>
<FONT SIZE="-1">HP</FONT> porting centre tries very hard to keep up with customer demand and
release updates from the Open Source community. Having precompiled
Perl binaries available is obvious.
<P>

The <FONT SIZE="-1">HP</FONT> porting centres are limited in what systems they are allowed
to port to and they usually choose the two most recent <FONT SIZE="-1">OS</FONT> versions
available. This means that at the moment of writing, there are only
<FONT SIZE="-1">HPUX-11</FONT>.00 and 11-20/22 (<FONT SIZE="-1">IA64</FONT>) ports available on the porting centres.
<P>

<FONT SIZE="-1">HP</FONT> has asked the porting centre to move Open Source binaries
from /opt to /usr/local, so binaries produced since the start
of July 2002 are located in /usr/local.
<P>

One of <FONT SIZE="-1">HP</FONT> porting centres <FONT SIZE="-1">URL</FONT>'s is <A HREF="http://hpux.connect.org.uk/">http://hpux.connect.org.uk/</A>
The port currently available is built with <FONT SIZE="-1">GNU</FONT> gcc.
<A NAME="lbAF">&nbsp;</A>
<H2>Compiling Perl 5 on HP-UX</H2>

<A NAME="ixAAF"></A>
When compiling Perl, you must use an <FONT SIZE="-1">ANSI</FONT> C compiler.  The C compiler
that ships with all HP-UX systems is a K&amp;R compiler that should only be
used to build new kernels.
<P>

Perl can be compiled with either <FONT SIZE="-1">HP</FONT>'s <FONT SIZE="-1">ANSI</FONT> C compiler or with gcc.  The
former is recommended, as not only can it compile Perl with no
difficulty, but also can take advantage of features listed later that
require the use of <FONT SIZE="-1">HP</FONT> compiler-specific command-line flags.
<P>

If you decide to use gcc, make sure your installation is recent and
complete, and be sure to read the Perl <FONT SIZE="-1">INSTALL</FONT> file for more gcc-specific
details.
<A NAME="lbAG">&nbsp;</A>
<H2>PA-RISC</H2>

<A NAME="ixAAG"></A>
<FONT SIZE="-1">HP</FONT>'s current Unix systems run on its own Precision Architecture
(<FONT SIZE="-1">PA-RISC</FONT>) chip.  HP-UX used to run on the Motorola <FONT SIZE="-1">MC68000</FONT> family of
chips, but any machine with this chip in it is quite obsolete and this
document will not attempt to address issues for compiling Perl on the
Motorola chipset.
<P>

The most recent version of PA-RISC at the time of this document's last
update is 2.0.
<P>

A complete list of models at the time the <FONT SIZE="-1">OS</FONT> was built is in the file
/usr/sam/lib/mo/sched.models. The first column corresponds to the last
part of the output of the ``model'' command.  The second column is the
PA-RISC version and the third column is the exact chip type used.
(Start browsing at the bottom to prevent confusion ;-)
<P>



<PRE>
    # model
    9000/800/L1000-44
    # grep L1000-44 /usr/sam/lib/mo/sched.models
    L1000-44        2.0     PA8500

</PRE>


<A NAME="lbAH">&nbsp;</A>
<H2>PA-RISC 1.0</H2>

<A NAME="ixAAH"></A>
The original version of <FONT SIZE="-1">PA-RISC</FONT>, <FONT SIZE="-1">HP</FONT> no longer sells any system with this chip.
<P>

The following systems contained PA-RISC 1.0 chips:
<P>



<PRE>
    600, 635, 645, 808, 815, 822, 825, 832, 834, 835, 840, 842, 845, 850,
    852, 855, 860, 865, 870, 890

</PRE>


<A NAME="lbAI">&nbsp;</A>
<H2>PA-RISC 1.1</H2>

<A NAME="ixAAI"></A>
An upgrade to the PA-RISC design, it shipped for many years in many different
system.
<P>

The following systems contain with PA-RISC 1.1 chips:
<P>



<PRE>
    705, 710, 712, 715, 720, 722, 725, 728, 730, 735, 742, 743, 744, 745,
    747, 750, 755, 770, 777, 778, 779, 800, 801, 803, 806, 807, 809, 811,
    813, 816, 817, 819, 821, 826, 827, 829, 831, 837, 839, 841, 847, 849,
    851, 856, 857, 859, 867, 869, 877, 887, 891, 892, 897, A180, A180C,
    B115, B120, B132L, B132L+, B160L, B180L, C100, C110, C115, C120,
    C160L, D200, D210, D220, D230, D250, D260, D310, D320, D330, D350,
    D360, D410, DX0, DX5, DXO, E25, E35, E45, E55, F10, F20, F30, G30,
    G40, G50, G60, G70, H20, H30, H40, H50, H60, H70, I30, I40, I50, I60,
    I70, J200, J210, J210XC, K100, K200, K210, K220, K230, K400, K410,
    K420, S700i, S715, S744, S760, T500, T520

</PRE>


<A NAME="lbAJ">&nbsp;</A>
<H2>PA-RISC 2.0</H2>

<A NAME="ixAAJ"></A>
The most recent upgrade to the PA-RISC design, it added support for
64-bit integer data.
<P>

As of the date of this document's last update, the following systems
contain PA-RISC 2.0 chips:
<P>



<PRE>
    700, 780, 781, 782, 783, 785, 802, 804, 810, 820, 861, 871, 879, 889,
    893, 895, 896, 898, 899, A400, A500, B1000, B2000, C130, C140, C160,
    C180, C180+, C180-XP, C200+, C400+, C3000, C360, C3600, CB260, D270,
    D280, D370, D380, D390, D650, J220, J2240, J280, J282, J400, J410,
    J5000, J5500XM, J5600, J7000, J7600, K250, K260, K260-EG, K270, K360,
    K370, K380, K450, K460, K460-EG, K460-XP, K470, K570, K580, L1000,
    L2000, L3000, N4000, R380, R390, SD16000, SD32000, SD64000, T540,
    T600, V2000, V2200, V2250, V2500, V2600

</PRE>


<P>

Just before <FONT SIZE="-1">HP</FONT> took over Compaq, some systems were renamed. the link
that contained the explanation is dead, so here's a short summary:
<P>



<PRE>
    HP 9000 A-Class servers, now renamed HP Server rp2400 series.
    HP 9000 L-Class servers, now renamed HP Server rp5400 series.
    HP 9000 N-Class servers, now renamed HP Server rp7400.

</PRE>


<P>



<PRE>
    rp2400, rp2405, rp2430, rp2450, rp2470, rp3410, rp3440, rp5400,
    rp5405, rp5430, rp5450, rp5470, rp7400, rp7405, rp7410, rp7420,
    rp8400, rp8420, Superdome

</PRE>


<P>

The current naming convention is:
<P>



<PRE>
    aadddd
    ||||`+- 00 - 99 relative capacity &amp; newness (upgrades, etc.)
    |||`--- unique number for each architecture to ensure different
    |||     systems do not have the same numbering across
    |||     architectures
    ||`---- 1 - 9 identifies family and/or relative positioning
    ||
    |`----- c = ia32 (cisc)
    |       p = pa-risc
    |       x = ia-64 (Itanium &amp; Itanium 2)
    |       h = housing
    `------ t = tower
            r = rack optimized
            s = super scalable
            b = blade
            sa = appliance

</PRE>


<A NAME="lbAK">&nbsp;</A>
<H2>Itanium &amp; Itanium 2</H2>

<A NAME="ixAAK"></A>
<FONT SIZE="-1">HP</FONT> also ships servers with the 128-bit Itanium processor(s). As of the
date of this document's last update, the following systems contain
Itanium or Itanium 2 chips (this is very likely to be out of date):
<P>



<PRE>
    rx1600, rx2600, rx2600hptc, rx4610, rx4640, rx5670, rx7620, rx8620,
    rx9610

</PRE>


<P>

To see all about your machine, type
<P>



<PRE>
    # model
    ia64 hp server rx2600
    # /usr/contrib/bin/machinfo

</PRE>


<A NAME="lbAL">&nbsp;</A>
<H2>Portability Between PA-RISC Versions</H2>

<A NAME="ixAAL"></A>
An executable compiled on a PA-RISC 2.0 platform will not execute on a
PA-RISC 1.1 platform, even if they are running the same version of
<FONT SIZE="-1">HP-UX</FONT>.  If you are building Perl on a PA-RISC 2.0 platform and want that
Perl to also run on a PA-RISC 1.1, the compiler flags +DAportable and
+DS32 should be used.
<P>

It is no longer possible to compile PA-RISC 1.0 executables on either
the PA-RISC 1.1 or 2.0 platforms.  The command-line flags are accepted,
but the resulting executable will not run when transferred to a PA-RISC
1.0 system.
<A NAME="lbAM">&nbsp;</A>
<H2>Itanium Processor Family and HP-UX</H2>

<A NAME="ixAAM"></A>
HP-UX also runs on the new Itanium processor.  This requires the use
of a different version of HP-UX (currently 11.23 or 11i v1.6), and with
the exception of a few differences detailed below and in later sections,
Perl should compile with no problems.
<P>

Although PA-RISC binaries can run on Itanium systems, you should not
attempt to use a PA-RISC version of Perl on an Itanium system.  This is
because shared libraries created on an Itanium system cannot be loaded
while running a PA-RISC executable.
<A NAME="lbAN">&nbsp;</A>
<H2>Building Dynamic Extensions on HP-UX</H2>

<A NAME="ixAAN"></A>
HP-UX supports dynamically loadable libraries (shared libraries).
Shared libraries end with the suffix .sl.  On Itanium systems,
they end with the suffix .so.
<P>

Shared libraries created on a platform using a particular PA-RISC
version are not usable on platforms using an earlier PA-RISC version by
default.  However, this backwards compatibility may be enabled using the
same +DAportable compiler flag (with the same PA-RISC 1.0 caveat
mentioned above).
<P>

Shared libraries created on an Itanium platform cannot be loaded on
a PA-RISC platform.  Shared libraries created on a PA-RISC platform
can only be loaded on an Itanium platform if it is a PA-RISC executable
that is attempting to load the PA-RISC library.  A PA-RISC shared
library cannot be loaded into an Itanium executable nor vice-versa.
<P>

To create a shared library, the following steps must be performed:
<P>



<PRE>
    1. Compile source modules with +z or +Z flag to create a .o module
       which contains Position-Independent Code (PIC).  The linker will
       tell you in the next step if +Z was needed.
       (For gcc, the appropriate flag is -fpic or -fPIC.)

</PRE>


<P>



<PRE>
    2. Link the shared library using the -b flag.  If the code calls
       any functions in other system libraries (e.g., libm), it must
       be included on this line.

</PRE>


<P>

(Note that these steps are usually handled automatically by the extension's
Makefile).
<P>

If these dependent libraries are not listed at shared library creation
time, you will get fatal ``Unresolved symbol'' errors at run time when the
library is loaded.
<P>

You may create a shared library that refers to another library, which
may be either an archive library or a shared library.  If this second
library is a shared library, this is called a ``dependent library''.  The
dependent library's name is recorded in the main shared library, but it
is not linked into the shared library.  Instead, it is loaded when the
main shared library is loaded.  This can cause problems if you build an
extension on one system and move it to another system where the
libraries may not be located in the same place as on the first system.
<P>

If the referred library is an archive library, then it is treated as a
simple collection of .o modules (all of which must contain <FONT SIZE="-1">PIC</FONT>).  These
modules are then linked into the shared library.
<P>

Note that it is okay to create a library which contains a dependent
library that is already linked into perl.
<P>

Some extensions, like DB_File and Compress::Zlib use/require prebuilt
libraries for the perl extensions/modules to work. If these libraries
are built using the default configuration, it might happen that you
run into an error like ``invalid loader fixup'' during load phase.
<FONT SIZE="-1">HP</FONT> is aware of this problem.  Search the HP-UX cxx-dev forums for
discussions about the subject.  The short answer is that <B>everything</B>
(all libraries, everything) must be compiled with <TT>&quot;+z&quot;</TT> or <TT>&quot;+Z&quot;</TT> to be
<FONT SIZE="-1">PIC</FONT> (position independent code).  (For gcc, that would be
<TT>&quot;-fpic&quot;</TT> or <TT>&quot;-fPIC&quot;</TT>).  In HP-UX 11.00 or newer the linker
error message should tell the name of the offending object file.
<P>

A more general approach is to intervene manually, as with an example for
the DB_File module, which requires SleepyCat's libdb.sl:
<P>



<PRE>
    # cd .../db-3.2.9/build_unix
    # vi Makefile
    ... add +Z to all cflags to create shared objects
    CFLAGS=         -c $(CPPFLAGS) +Z -Ae +O2 +Onolimit \
                    -I/usr/local/include -I/usr/include/X11R6
    CXXFLAGS=       -c $(CPPFLAGS) +Z -Ae +O2 +Onolimit \
                    -I/usr/local/include -I/usr/include/X11R6

</PRE>


<P>



<PRE>
    # make clean
    # make
    # mkdir tmp
    # cd tmp
    # ar x ../libdb.a
    # ld -b -o libdb-3.2.sl *.o
    # mv libdb-3.2.sl /usr/local/lib
    # rm *.o
    # cd /usr/local/lib
    # rm -f libdb.sl
    # ln -s libdb-3.2.sl libdb.sl

</PRE>


<P>



<PRE>
    # cd .../DB_File-1.76
    # make distclean
    # perl Makefile.PL
    # make
    # make test
    # make install

</PRE>


<P>

It is no longer possible to link PA-RISC 1.0 shared libraries (even
though the command-line flags are still present).
<P>

PA-RISC and Itanium object files are not interchangeable.  Although
you may be able to use ar to create an archive library of PA-RISC
object files on an Itanium system, you cannot link against it using
an Itanium link editor.
<A NAME="lbAO">&nbsp;</A>
<H2>The <FONT SIZE="-1">HP</FONT> <FONT SIZE="-1">ANSI</FONT> C Compiler</H2>

<A NAME="ixAAO"></A>
When using this compiler to build Perl, you should make sure that the
flag -Aa is added to the cpprun and cppstdin variables in the config.sh
file (though see the section on 64-bit perl below). If you are using a
recent version of the Perl distribution, these flags are set automatically.
<A NAME="lbAP">&nbsp;</A>
<H2>The <FONT SIZE="-1">GNU</FONT> C Compiler</H2>

<A NAME="ixAAP"></A>
When you are going to use the <FONT SIZE="-1">GNU</FONT> C compiler (gcc), and you don't have
gcc yet, you can either build it yourself from the sources (available
from e.g. <A HREF="http://www.gnu.ai.mit.edu/software/gcc/releases.html)">http://www.gnu.ai.mit.edu/software/gcc/releases.html)</A> or fetch
a prebuilt binary from the <FONT SIZE="-1">HP</FONT> porting center. There are two places where
gcc prebuilds can be fetched; the first and best (for HP-UX 11 only) is
<A HREF="http://h21007.www2.hp.com/dspp/tech/tech_TechSoftwareDetailPage_IDX/1,1703,547,00.php">http://h21007.www2.hp.com/dspp/tech/tech_TechSoftwareDetailPage_IDX/1,1703,547,00.html</A>
the second is <A HREF="http://hpux.cs.utah.edu/hppd/hpux/Gnu/">http://hpux.cs.utah.edu/hppd/hpux/Gnu/</A> where you can also
find the <FONT SIZE="-1">GNU</FONT> binutils package. (Browse through the list, because there
are often multiple versions of the same package available).
<P>

Above mentioned distributions are depots. H.Merijn Brand has made prebuilt
gcc binaries available on <A HREF="http://mirrors.develooper.com/hpux/">http://mirrors.develooper.com/hpux/</A> and/or
<A HREF="http://www.cmve.net/~merijn/">http://www.cmve.net/~merijn/</A> for HP-UX 10.20, HP-UX 11.00, and HP-UX 11.11
(<FONT SIZE="-1">HP-UX</FONT> 11i) in both 32- and 64-bit versions. These are bzipped tar archives
that also include recent <FONT SIZE="-1">GNU</FONT> binutils and <FONT SIZE="-1">GNU</FONT> gdb.  Read the instructions
on that page to rebuild gcc using itself.
<P>

On PA-RISC you need a different compiler for 32-bit applications and for
64-bit applications. On <FONT SIZE="-1">PA-RISC</FONT>, 32-bit objects and 64-bit objects do
not mix. period. There is no different behaviour for <FONT SIZE="-1">HP</FONT> C-ANSI-C or <FONT SIZE="-1">GNU</FONT>
gcc. So if you require your perl binary to use 64-bit libraries, like
Oracle-64bit, you <FONT SIZE="-1">MUST</FONT> build a 64-bit perl.
<P>

Building a 64-bit capable gcc on PA-RISC from source is possible only when
you have the <FONT SIZE="-1">HP</FONT> C-ANSI C compiler or an already working 64-bit binary of
gcc available. Best performance for perl is achieved with <FONT SIZE="-1">HP</FONT>'s native
compiler.
<A NAME="lbAQ">&nbsp;</A>
<H2>Using Large Files with Perl on HP-UX</H2>

<A NAME="ixAAQ"></A>
Beginning with HP-UX version 10.20, files larger than 2GB (2^31 bytes)
may be created and manipulated.  Three separate methods of doing this
are available.  Of these methods, the best method for Perl is to compile
using the -Duselargefiles flag to Configure.  This causes Perl to be
compiled using structures and functions in which these are 64 bits wide,
rather than 32 bits wide.  (Note that this will only work with <FONT SIZE="-1">HP</FONT>'s <FONT SIZE="-1">ANSI</FONT>
C compiler.  If you want to compile Perl using gcc, you will have to get
a version of the compiler that supports 64-bit operations. See above for
where to find it.)
<P>

There are some drawbacks to this approach.  One is that any extension
which calls any file-manipulating C function will need to be recompiled
(just follow the usual ``perl Makefile.PL; make; make test; make install''
procedure).
<P>

The list of functions that will need to recompiled is:
creat,<TT>&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>fgetpos,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>fopen,<BR>
freopen,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>fsetpos,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>fstat,<BR>
fstatvfs,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>fstatvfsdev,<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>ftruncate,<BR>
ftw,<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>lockf,<TT>&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>lseek,<BR>
lstat,<TT>&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mmap,<TT>&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>nftw,<BR>
open,<TT>&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>prealloc,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>stat,<BR>
statvfs,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>statvfsdev,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>tmpfile,<BR>
truncate,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>getrlimit,<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>setrlimit<BR>
<P>

Another drawback is only valid for Perl versions before 5.6.0.  This
drawback is that the seek and tell functions (both the builtin version
and <FONT SIZE="-1">POSIX</FONT> module version) will not perform correctly.
<P>

It is strongly recommended that you use this flag when you run
Configure.  If you do not do this, but later answer the question about
large files when Configure asks you, you may get a configuration that
cannot be compiled, or that does not function as expected.
<A NAME="lbAR">&nbsp;</A>
<H2>Threaded Perl on HP-UX</H2>

<A NAME="ixAAR"></A>
It is possible to compile a version of threaded Perl on any version of
HP-UX before 10.30, but it is strongly suggested that you be running on
HP-UX 11.00 at least.
<P>

To compile Perl with threads, add -Dusethreads to the arguments of
Configure.  Verify that the -D_POSIX_C_SOURCE=199506L compiler flag is
automatically added to the list of flags.  Also make sure that -lpthread
is listed before -lc in the list of libraries to link Perl with. The
hints provided for HP-UX during Configure will try very hard to get
this right for you.
<P>

HP-UX versions before 10.30 require a separate installation of a <FONT SIZE="-1">POSIX</FONT>
threads library package. Two examples are the <FONT SIZE="-1">HP</FONT> <FONT SIZE="-1">DCE</FONT> package, available
on ``<FONT SIZE="-1">HP-UX</FONT> Hardware Extensions 3.0, Install and Core <FONT SIZE="-1">OS</FONT>, Release 10.20,
April 1999 (B3920-13941)'' or the Freely available <FONT SIZE="-1">PTH</FONT> package, available
though worldwide HP-UX mirrors of precompiled packages
(e.g. <A HREF="http://hpux.tn.tudelft.nl/hppd/hpux/)">http://hpux.tn.tudelft.nl/hppd/hpux/)</A>
<P>

If you are going to use the <FONT SIZE="-1">HP</FONT> <FONT SIZE="-1">DCE</FONT> package, the library used for threading
is /usr/lib/libcma.sl, but there have been multiple updates of that
library over time. Perl will build with the first version, but it
will not pass the test suite. Older Oracle versions might be a compelling
reason not to update that library, otherwise please find a newer version
in one of the following patches: <FONT SIZE="-1">PHSS_19739</FONT>, <FONT SIZE="-1">PHSS_20608</FONT>, or <FONT SIZE="-1">PHSS_23672</FONT>
<P>

reformatted output:
<P>



<PRE>
  d3:/usr/lib 106 &gt; what libcma-*.1
  libcma-00000.1:
     HP DCE/9000 1.5               Module: libcma.sl (Export)
                                   Date: Apr 29 1996 22:11:24
  libcma-19739.1:
     HP DCE/9000 1.5 PHSS_19739-40 Module: libcma.sl (Export)
                                   Date: Sep  4 1999 01:59:07
  libcma-20608.1:
     HP DCE/9000 1.5 PHSS_20608    Module: libcma.1 (Export)
                                   Date: Dec  8 1999 18:41:23
  libcma-23672.1:
     HP DCE/9000 1.5 PHSS_23672    Module: libcma.1 (Export)
                                   Date: Apr  9 2001 10:01:06
  d3:/usr/lib 107 &gt;

</PRE>


<A NAME="lbAS">&nbsp;</A>
<H2>64-bit Perl on HP-UX</H2>

<A NAME="ixAAS"></A>
Beginning with HP-UX 11.00, programs compiled under HP-UX can take
advantage of the <FONT SIZE="-1">LP64</FONT> programming environment (<FONT SIZE="-1">LP64</FONT> means Longs and
Pointers are 64 bits wide).
<P>

Work is being performed on Perl to make it 64-bit compliant on all
versions of Unix.  Once this is complete, scalar variables will be able
to hold numbers larger than 2^32 with complete precision.
<P>

As of the date of this document, Perl is fully 64-bit compliant on
HP-UX 11.00 and up for both cc- and gcc builds. If you are about to
build a 64-bit perl with <FONT SIZE="-1">GNU</FONT> gcc, please read the gcc section carefully.
<P>

Should a user wish to experiment with compiling Perl in the <FONT SIZE="-1">LP64</FONT>
environment, use the -Duse64bitall flag to Configure.  This will force
Perl to be compiled in a pure <FONT SIZE="-1">LP64</FONT> environment (with the +DD64 flag for
<FONT SIZE="-1">HP</FONT> C-ANSI-C, with no additional options for <FONT SIZE="-1">GNU</FONT> gcc 64-bit on <FONT SIZE="-1">PA-RISC</FONT>,
and with -mlp64 for <FONT SIZE="-1">GNU</FONT> gcc on Itanium).
If you want to compile Perl using gcc, you will have to get a version of
the compiler that supports 64-bit operations.)
<P>

You can also use the -Duse64bitint flag to Configure.  Although there
are some minor differences between compiling Perl with this flag versus
the -Duse64bitall flag, they should not be noticeable from a Perl user's
perspective.
<P>

In both cases, it is strongly recommended that you use these flags when
you run Configure.  If you do not use do this, but later answer the
questions about 64-bit numbers when Configure asks you, you may get a
configuration that cannot be compiled, or that does not function as
expected.
<A NAME="lbAT">&nbsp;</A>
<H2>Oracle on HP-UX</H2>

<A NAME="ixAAT"></A>
Using perl to connect to Oracle databases through <FONT SIZE="-1">DBI</FONT> and DBD::Oracle
has caused a lot of people many headaches. Read <FONT SIZE="-1">README</FONT>.hpux in the
DBD::Oracle for much more information. The reason to mention it here
is that Oracle requires a perl built with libcl and libpthread, the
latter even when perl is build without threads. Building perl using
all defaults, but still enabling to build DBD::Oracle later on can be
achieved using
<P>



<PRE>
  Configure -A prepend:libswanted='cl pthread ' ...

</PRE>


<P>

Do not forget the space before the trailing quote.
<P>

Also note that this does not (yet) work with all configurations,
it is known to fail with 64-bit versions of <FONT SIZE="-1">GCC</FONT>.
<A NAME="lbAU">&nbsp;</A>
<H2><FONT SIZE="-1">GDBM</FONT> and Threads on HP-UX</H2>

<A NAME="ixAAU"></A>
If you attempt to compile Perl with threads on an 11.X system and also
link in the <FONT SIZE="-1">GDBM</FONT> library, then Perl will immediately core dump when it
starts up.  The only workaround at this point is to relink the <FONT SIZE="-1">GDBM</FONT>
library under 11.X, then relink it into Perl.
<A NAME="lbAV">&nbsp;</A>
<H2><FONT SIZE="-1">NFS</FONT> filesystems and <I><A HREF="../man2/utime.2.php">utime</A></I>(2) on HP-UX</H2>

<A NAME="ixAAV"></A>
If you are compiling Perl on a remotely-mounted <FONT SIZE="-1">NFS</FONT> filesystem, the test
io/fs.t may fail on test #18.  This appears to be a bug in HP-UX and no
fix is currently available.
<A NAME="lbAW">&nbsp;</A>
<H2>perl -P and // and HP-UX</H2>

<A NAME="ixAAW"></A>
If HP-UX Perl is compiled with flags that will cause problems if the
-P flag of Perl (preprocess Perl code with the C preprocessor before
perl sees it) is used.  The problem is that <TT>&quot;//&quot;</TT>, being a C<FONT SIZE="-2">++</FONT>-style
until-end-of-line comment, will disappear along with the remainder
of the line.  This means that common Perl constructs like
<P>



<PRE>
    s/foo//;

</PRE>


<P>

will turn into illegal code
<P>



<PRE>
    s/foo

</PRE>


<P>

The workaround is to use some other quoting separator than <TT>&quot;/&quot;</TT>,
like for example <TT>&quot;!&quot;</TT>:
<P>



<PRE>
    s!foo!!;

</PRE>


<A NAME="lbAX">&nbsp;</A>
<H2>HP-UX Kernel Parameters (maxdsiz) for Compiling Perl</H2>

<A NAME="ixAAX"></A>
By default, HP-UX comes configured with a maximum data segment size of
64MB.  This is too small to correctly compile Perl with the maximum
optimization levels.  You can increase the size of the maxdsiz kernel
parameter through the use of <FONT SIZE="-1">SAM</FONT>.
<P>

When using the <FONT SIZE="-1">GUI</FONT> version of <FONT SIZE="-1">SAM</FONT>, click on the Kernel Configuration
icon, then the Configurable Parameters icon.  Scroll down and select
the maxdsiz line.  From the Actions menu, select the Modify Configurable
Parameter item.  Insert the new formula into the Formula/Value box.
Then follow the instructions to rebuild your kernel and reboot your
system.
<P>

In general, a value of 256MB (or ``256*1024*1024'') is sufficient for
Perl to compile at maximum optimization.
<A NAME="lbAY">&nbsp;</A>
<H2>nss_delete core dump from op/pwent or op/grent</H2>

<A NAME="ixAAY"></A>
You may get a bus error core dump from the op/pwent or op/grent
tests. If compiled with -g you will see a stack trace much like
the following:
<P>



<PRE>
  #0  0xc004216c in  () from /usr/lib/libc.2
  #1  0xc00d7550 in __nss_src_state_destr () from /usr/lib/libc.2
  #2  0xc00d7768 in __nss_src_state_destr () from /usr/lib/libc.2
  #3  0xc00d78a8 in nss_delete () from /usr/lib/libc.2
  #4  0xc01126d8 in endpwent () from /usr/lib/libc.2
  #5  0xd1950 in Perl_pp_epwent () from ./perl
  #6  0x94d3c in Perl_runops_standard () from ./perl
  #7  0x23728 in S_run_body () from ./perl
  #8  0x23428 in perl_run () from ./perl
  #9  0x2005c in main () from ./perl

</PRE>


<P>

The key here is the <TT>&quot;nss_delete&quot;</TT> call.  One workaround for this
bug seems to be to create add to the file <I>/etc/nsswitch.conf</I>
(at least) the following lines
<P>



<PRE>
  group: files
  passwd: files

</PRE>


<P>

Whether you are using <FONT SIZE="-1">NIS</FONT> does not matter.  Amazingly enough,
the same bug also affects Solaris.
<A NAME="lbAZ">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixAAZ"></A>
Jeff Okamoto &lt;<A HREF="mailto:okamoto@corp.hp.com">okamoto@corp.hp.com</A>&gt;
H.Merijn Brand &lt;<A HREF="mailto:h.m.brand@hccnet.nl">h.m.brand@hccnet.nl</A>&gt;
<P>

With much assistance regarding shared libraries from Marc Sabatella.
<A NAME="lbBA">&nbsp;</A>
<H2>DATE</H2>

<A NAME="ixABA"></A>
Version 0.7.0: 2004-06-09
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">Using perl as shipped with HP-UX</A><DD>
<DT><A HREF="#lbAE">Using perl from <FONT SIZE="-1">HP</FONT>'s porting centre</A><DD>
<DT><A HREF="#lbAF">Compiling Perl 5 on HP-UX</A><DD>
<DT><A HREF="#lbAG">PA-RISC</A><DD>
<DT><A HREF="#lbAH">PA-RISC 1.0</A><DD>
<DT><A HREF="#lbAI">PA-RISC 1.1</A><DD>
<DT><A HREF="#lbAJ">PA-RISC 2.0</A><DD>
<DT><A HREF="#lbAK">Itanium &amp; Itanium 2</A><DD>
<DT><A HREF="#lbAL">Portability Between PA-RISC Versions</A><DD>
<DT><A HREF="#lbAM">Itanium Processor Family and HP-UX</A><DD>
<DT><A HREF="#lbAN">Building Dynamic Extensions on HP-UX</A><DD>
<DT><A HREF="#lbAO">The <FONT SIZE="-1">HP</FONT> <FONT SIZE="-1">ANSI</FONT> C Compiler</A><DD>
<DT><A HREF="#lbAP">The <FONT SIZE="-1">GNU</FONT> C Compiler</A><DD>
<DT><A HREF="#lbAQ">Using Large Files with Perl on HP-UX</A><DD>
<DT><A HREF="#lbAR">Threaded Perl on HP-UX</A><DD>
<DT><A HREF="#lbAS">64-bit Perl on HP-UX</A><DD>
<DT><A HREF="#lbAT">Oracle on HP-UX</A><DD>
<DT><A HREF="#lbAU"><FONT SIZE="-1">GDBM</FONT> and Threads on HP-UX</A><DD>
<DT><A HREF="#lbAV"><FONT SIZE="-1">NFS</FONT> filesystems and <I>utime</I>(2) on HP-UX</A><DD>
<DT><A HREF="#lbAW">perl -P and // and HP-UX</A><DD>
<DT><A HREF="#lbAX">HP-UX Kernel Parameters (maxdsiz) for Compiling Perl</A><DD>
<DT><A HREF="#lbAY">nss_delete core dump from op/pwent or op/grent</A><DD>
<DT><A HREF="#lbAZ">AUTHOR</A><DD>
<DT><A HREF="#lbBA">DATE</A><DD>
</DL>

</div>

<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=linuxmanpages">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<div id="footer"><div class="littletext"> LinuxManPages.com &copy; <a class="white"  href="http://www.name.com">Name.com</a>&nbsp;&nbsp;&nbsp;Links: <!--<a class='white' href='http://www.earthsearch.net'>geographic information</a> |-->
<a class='white' href='http://www.who.is'>who.is search</a> |
<a class='white' href='http://www.bluerider.com'>dictionary</a> |
<a class='white' href='http://www.tld.io' class='small'>ccTLD information</a> 
</div></div>
</div>




</body>
</html>
