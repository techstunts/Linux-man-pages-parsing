
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>ISDNRATE</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">
<div id="banner">
<a href='/'><img src='/include/images/linuxmanpages_logo.png' alt='Linux Man Pages' border='0'></a>
</div>
<div id="formLinks">
<table id="searchTable">
<tr>
<form action='/search.php' method='post'>
<td>Search For :</td>
<td><input type="text" size="20" name="term"></td>
<td>in: </td>

<td>
<select name="section">
<option value="-1">All Sections</option>
<option value="1">1. General Commands</option>
<option value="2">2. System Calls</option>
<option value="3">3. Subroutines</option>
<option value="4">4. Special Files</option>
<option value="5">5. File Formats</option>
<option value="6">6. Games and Demos</option>
<option value="7">7. Macros and Conventions</option>
<option value="8">8. Maintenence Commands</option>
</select> 
</td>
<td>
<input type='hidden' name='submitted' value='1'>
<input type="submit" value="Get Man Page">
</td>
</form>
</tr>
</table>
</div>
<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>ISDNRATE</H1>
Section: User Commands  (1)<BR>Updated: 2003/09/04<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

isdnrate - Print telefon rates and various info from <A HREF="../man5/rate-files.5.php">rate-files</A>(5).
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>isdnrate -b</B><I>best</I><B> -d</B><I>day</I><B> -f</B><I>from</I><B> -h</B><I>hour</I><B> -l</B><I>len</I>

<B>-o</B>

<B>-p</B><I>provs</I><B> -r</B>

<I></I>v<I>NN</I>

<B>-s</B>

<B>-t</B><I>takt</I><B> -v</B><I>verbose</I><B> -x</B><I>exclude</I>

<B> -C -D</B><I>det</I><B> -G</B><I>data</I><B> -H -L -N -O</B><I>socketfile</I><B> -P</B><I>piddir</I>

<B> -S</B><I>sort</I><B> -T -U -V -X</B><I>explain</I>

<B>-Z</B>

<B>NUMBER ...</B>


All options are optional.
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The
<B>isdnrate</B>

program prints various information from <A HREF="../man5/rate-files.5.php">rate-files</A>(5). It's main purpose
is the calculation of telefon rates from your location to an arbitrary
destination at a certain time and of a certain length for all the providers in a rate-file.

<A NAME="lbAE">&nbsp;</A>
<H3><B>NUMBER</B>

</H3>


A telefon number may be
<DL COMPACT>
<DT><DD>
<B>1234</B>

a local area number
<DT><DD>
<B>01234</B>

a different area in your country
<DT><DD>
<B>+12345</B>

a foreign country
<DT><DD>
<B>China</B>

text for a foreign country
<DT><DD>
<B>Paris</B>

a town
<DT><DD>
<B>US</B>

a code as defined in
<I>country.dat</I>.

<DT><DD>
<B>Internet</B>

a Service name (if option
<B>-s</B>

is also given).

Note that currently only city names in AT, DE, NL are supported plus some international capitals.
<BR>

Note also, spaces in country- or service names may be given as underscores.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H3><B>OPTIONS</B>

</H3>


<B>-b</B><I>best</I>

Print only <I>best</I> providers. Default is all.

<B>-d</B><I>day</I>

Calc rates for <I>day</I>. <I>day</I> can be one of
<DL COMPACT>
<DT><DD>
<I>dd</I>

day of current month
<BR>

<I>dd.mm</I>

day month
<BR>

<I>dd.mm.yy</I>[<I>yy</I>]

day, month, year
<BR>

<I>W</I>

Weekday
<BR>

<I>N</I>

Weekday - night
<BR>

<I>E</I>

Weekend

Default is now.

<B>-f</B><I>from</I>

Callers location. Default ist from
<I>isdn.conf</I>.


<B>-h</B><I>hour</I>

Time
<I>hh</I>[<I>:mm</I>[<I>:ss</I>]]

of call. Default is now.

<B>-l</B><I>len</I>

Length of call in second. Default value is 153 secs.

<B>-o</B>

Show only booked providers. These are providers, which are listed in
<I>rate.conf</I>.


<I></I><B>-p</B> provider[<I>,provider...</I>]

Print only info for given <I>provider</I>(s).
<I>provider</I>

is the provider number, without the leading VBN, or
<I>provider_variant</I>

if there are more variations, or
<I>B</I>

for business providers.

<B>-r</B>v<I>NN</I>
Show only providers whose vbn begins with <I>NN</I>.
The vbn is also known as provider prefix consisting of VBN and provider number.

<B>-s</B>

Consider
<B>NUMBER</B>

as the name of a service and print all numbers / providers, which supply
this service.

<B>-t</B><I>takt</I>

Print only providers, which have calculation impulses smaller or equal to <I>takt</I>.
Default is 9999.

<B>-v</B><I>verbose</I>

Set <I>verbose</I> level.

<I></I><B>-x</B> provider[<I>,provider...</I>]

Exclude these <I>provider</I>(s).

</DL>
<A NAME="lbAG">&nbsp;</A>
<H3><B>DISPLAY AND RUN OPTIONS</B>

</H3>


<B>-C</B>

Connect to a running isdnrate daemon. This avoids long startup times.

<B>-D</B>

Start as a daemon, waiting for connections from a client. The socket
<I>/tmp/isdnrate</I>

is created, which clients can connect to.

<B>-D2</B>

Start as a daemon and go background.

<B>-CD3</B>

Stop a running daemon.

<B>-G</B><I>n</I>

Print raw data for connection. <I>n</I> may be currently 97,98,99.

<B>-H</B>

Print a header.

<B>-L</B>

Print a semicolon separated list of
<DL COMPACT>
<DT><DD>
vbn ; providername ; zone ; day ; time ; currency ; charge ; basicprice ; price ;
duration ; charge/min ; takt ; minimum price

<B>-N</B>

Show info about following numbers. If no provider is given, the preselected
provider is used.

<B>-O</B><I>socketfile</I>

Write socket to given filename on start of daemon. Default is
<I>tmp/isdnrate</I>.


<B>-P</B><I>piddir</I>

Write own PID to
<I>piddir/isdnrate.pid</I>

on start of daemon.

<B>-S</B><I>sort</I>

Sort output by <I>sort</I>, which may be
<DT><DD>
<B>v</B>

vbn or
<B>n</B>

provider name. Default is by charge.

<B>-T</B>

Print a table of charges for daytimes weekday/weekend.

<B>-V</B>

Print version info and exit.

<B>-X</B><I>explain</I>

Print additional information for charge or from rate-file.
<I>explain</I>

may be
<DT><DD>
<B>1</B>

(zone)
<BR>

<B>2</B>

(charge/min, zone, day, time)
<BR>

<B>50</B>

International areas
<BR>

<B>51</B>

National zones
<BR>

<B>52</B>

Services
<BR>

<B>COMMENT</B>

Print C:COMMENT: info from rate files.

If
<I>-s</I>

is given, the number of the service is also listed with
<I>-X1</I>

or
<I>-X2</I>.


<B>-Z</B>

Print info for LCR
<BR>

e.g. isdnrate -p1 -ZX 19430
<BR>

shows the rate for provider 1 and the cheapest rate to this service.

Note: Various output options may not be used together. If you gave conflicting
options you'll see a warning.
<BR>

Note also: Sort by name or providernumber and
<B>-b</B><I>best</I>

will bring you the first
<I>best</I>

providers in sorting order, not the cheapest.
<BR>

And finally: Some options like
<I>-X50</I>, <I>-X51</I>, <I>-X52</I>, <I>-D</I>, <I>-V</I>

don't require a telefon
<I>NUMBER</I>.

</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>FILES</H2>

<I>rate-CC.dat</I>,

<I>holiday-CC.dat</I>,

<I>dest.gdbm</I>,

<I>zone-CC-PPP.gdbm</I>,

<I>isdn.conf</I>,

<I>telrate.cgi</I>

and more.
<BR>

Note: The extension of zone- and dest data files depends on configuration.
Recently
<I>.cdb</I>

is used.
<A NAME="lbAI">&nbsp;</A>
<H2>EXAMPLES</H2>

<I>isdnrate -D2</I>

<BR>

Start the isdnrate daemon.

<I>isdnrate -D2 -P /var/run -O /tmp/isdnr_socket</I>

<BR>

Start the isdnrate daemon, write
<I>isdnrate.pid</I>

to /var/run and create thew given socket.

<I>isdnrate -CH -b5 -f01 -l120 Attersee</I>

<BR>

Connect to running daemon, print a header and the best 5 rates from Vienna
(<I>01</I>)

to destination
<I>Attersee</I>

for a connection length of 2 Minutes.
<P>

<I>isdnrate -CX -p1_2,24 +1</I>

<BR>

Show rates and zones for destination USA for providers
<I>1_2 </I>and<I> 24</I>.


<I>isdnrate -C -l60 -rv010 HAM</I>

<BR>

Show rates for a one minute call to Hamburg (HAM: airport code) and
use only providers whose vbn begins with 010.
So provider A with vbn 01030 is displayed,
provider B with vbn 0190023 is not.

<I>isdnrate -CX -H -dW -b5 US CA</I>

<BR>

Show a header, rates and zones for destinations USA and Canada for best 5
providers during workday.

<I>isdnrate -CHoX US</I>

<BR>

Show header, rate and zone for destination USA for booked providers only.

<I>isdnrate -CsX -l60 Internet</I>

<BR>

Show rates and numbers for service
<I>Internet</I>

for a 1 minutes call.

<I>isdnrate -CZ 19430</I>

<BR>

Show rates and the best provider for this (service-)number.

<I>isdnrate -CD3</I>

<BR>

Stop the running isdnrate daemon.
<A NAME="lbAJ">&nbsp;</A>
<H2>SIGNALS</H2>

A isdnrate daemon restarts (and therefore rereads its configuration) on
getting a SIGHUP signal.
<A NAME="lbAK">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man5/rate-files.5.php">rate-files</A>(5)</B>, <B><A HREF="../man8/isdnlog.8.php">isdnlog</A>(8)</B>, <B><A HREF="../man5/isdn.conf.5.php">isdn.conf</A>(5)</B>

<A NAME="lbAL">&nbsp;</A>
<H2>BUGS</H2>

Definitly yes. Sometimes more then one daemon can be started, sometimes the
socket is not removed, when the daemon terminates. if this happens
('socket in use'), do a
<I>rm /tmp/isdnrate</I>

and try again.
<A NAME="lbAM">&nbsp;</A>
<H2>AUTHORS</H2>

Andreas Kool &lt;<A HREF="mailto:akool@isdn4linux.de">akool@isdn4linux.de</A>&gt; started this program.
Leopold Toetsch &lt;<A HREF="mailto:lt@toetsch.at">lt@toetsch.at</A>&gt; continued the work and brought this man
page to you. Michael Reinelt
&lt;<A HREF="mailto:reinelt@eunet.at">reinelt@eunet.at</A>&gt; did the calculation engine and various tools for it.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DL>
<DT><A HREF="#lbAE"><B>NUMBER</B>

</A><DD>
<DT><A HREF="#lbAF"><B>OPTIONS</B>

</A><DD>
<DT><A HREF="#lbAG"><B>DISPLAY AND RUN OPTIONS</B>

</A><DD>
</DL>
<DT><A HREF="#lbAH">FILES</A><DD>
<DT><A HREF="#lbAI">EXAMPLES</A><DD>
<DT><A HREF="#lbAJ">SIGNALS</A><DD>
<DT><A HREF="#lbAK">SEE ALSO</A><DD>
<DT><A HREF="#lbAL">BUGS</A><DD>
<DT><A HREF="#lbAM">AUTHORS</A><DD>
</DL>

</div>

<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=linuxmanpages">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<div id="footer"><div class="littletext"> LinuxManPages.com &copy; <a class="white"  href="http://www.name.com">Name.com</a>&nbsp;&nbsp;&nbsp;Links: <!--<a class='white' href='http://www.earthsearch.net'>geographic information</a> |-->
<a class='white' href='http://www.who.is'>who.is search</a> |
<a class='white' href='http://www.bluerider.com'>dictionary</a> |
<a class='white' href='http://www.tld.io' class='small'>ccTLD information</a> 
</div></div>
</div>




</body>
</html>
