
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>MRTG</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">
<div id="banner">
<a href='/'><img src='/include/images/linuxmanpages_logo.png' alt='Linux Man Pages' border='0'></a>
</div>
<div id="formLinks">
<table id="searchTable">
<tr>
<form action='/search.php' method='post'>
<td>Search For :</td>
<td><input type="text" size="20" name="term"></td>
<td>in: </td>

<td>
<select name="section">
<option value="-1">All Sections</option>
<option value="1">1. General Commands</option>
<option value="2">2. System Calls</option>
<option value="3">3. Subroutines</option>
<option value="4">4. Special Files</option>
<option value="5">5. File Formats</option>
<option value="6">6. Games and Demos</option>
<option value="7">7. Macros and Conventions</option>
<option value="8">8. Maintenence Commands</option>
</select> 
</td>
<td>
<input type='hidden' name='submitted' value='1'>
<input type="submit" value="Get Man Page">
</td>
</form>
</tr>
</table>
</div>
<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>MRTG</H1>
Section: mrtg (1)<BR>Updated: 2004-08-08<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

mrtg - What is MRTG
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAC"></A>
The Multi Router Traffic Grapher (<FONT SIZE="-1">MRTG</FONT>) is a tool to monitor
the traffic load on network links.  <FONT SIZE="-1">MRTG</FONT> generates <FONT SIZE="-1">HTML</FONT> pages
containing <FONT SIZE="-1">PNG</FONT> images which provide a <FONT SIZE="-1">LIVE</FONT> visual representation of
this traffic. Check <A HREF="http://www.stat.ee.ethz.ch/mrtg/">http://www.stat.ee.ethz.ch/mrtg/</A> to see what it does.
<P>

Go to 
<BR>&nbsp;<A HREF="http://people.ee.ethz.ch/~oetiker/webtools/mrtg">http://people.ee.ethz.ch/~oetiker/webtools/mrtg</A>&nbsp;
for all the details about mrtg.
<P>

Command-line options:
<P>

Most items are set through the configuration file; command-line options
are specified here:
<DL COMPACT>
<DT><B>--user</B> <I>username</I>  and <B>--group</B> <I>groupname</I><DD>
<A NAME="ixAAD"></A>
Run as the given user and/or group. (Unix Only)
<DT><B>--lock-file</B> <I>filename</I><DD>
<A NAME="ixAAE"></A>
Use an alternate lock-file (the default is to use the configuration-file
appended with <TT>&quot;_l&quot;</TT>).
<DT><B>--confcache-file</B> <I>filename</I><DD>
<A NAME="ixAAF"></A>
Use an alternate confcache-file (the default is to use the configuration-file appended with <TT>&quot;.ok&quot;</TT>)
<DT><B>--logging</B> <I>filename</I>|<B>eventlog</B><DD>
<A NAME="ixAAG"></A>
If this is set to writable filename, all output from mrtg (warnings, debug messages, errors)
will go to <I>filename</I>. If you are running on Win32 you can specify <B>eventlog</B> instead of a filename
which will send all error to the windows event log.


<P>


<B></B><FONT SIZE="-1"><B>NOTE:</B></FONT><B></B>Note, there is no Message <FONT SIZE="-1">DLL</FONT> for mrtg. This has the side effect
that the windows event logger will display a nice message with every entry
in the event log, complaing about the fact that mrtg has no message dll. If
any of the Windows folks want to contribute one, they are welcome.
<DT><B>--daemon</B><DD>
<A NAME="ixAAH"></A>
Put <FONT SIZE="-1">MRTG</FONT> into the background, running as a daemon. This works the same way as
the config file option, but the switch is required for proper <FONT SIZE="-1">FHS</FONT> operation  
(because /var/run is writable only by root)
<DT><B>--fhs</B><DD>
<A NAME="ixAAI"></A>
Configure all mrtg paths to conform to the <FONT SIZE="-1">FHS</FONT> specification;
<A HREF="http://www.pathname.com/fhs/">http://www.pathname.com/fhs/</A>
<DT><B>--check</B><DD>
<A NAME="ixAAJ"></A>
Only check the cfg file for errors. Do not do anything.
<DT><B>--pid-file=s</B><DD>
<A NAME="ixAAK"></A>
Define the name and path of the pid file for mrtg running as a daemon
<DT><B>--debug=s</B><DD>
<A NAME="ixAAL"></A>
Enable debug options. The argument of the debug option is a comma separated list of debug values:


<P>




<PRE>
 cfg  - watch the config file reading
 dir  - directory mangeling
 base - basic program flow 
 tarp - target parser
 snpo - snmp polling 
 fork - forking view 
 time - some timing info
 log  - logging of data via rateup or rrdtool

</PRE>




<P>


Example:


<P>




<PRE>
 --debug=&quot;cfg,snpo&quot;

</PRE>


</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>USER PAGES</H2>

<A NAME="ixAAM"></A>
<FONT SIZE="-1">MRTG</FONT> is written in Perl and C and works under <FONT SIZE="-1">UNIX</FONT> and Windows
<FONT SIZE="-1">NT</FONT>. <FONT SIZE="-1">MRTG</FONT> is being successfully used on many sites around the net.
Check the MRTG-Site-Map on:
<P>



<PRE>
 <A HREF="http://people.ee.ethz.ch/~oetiker/webtools/mrtg/users.php">http://people.ee.ethz.ch/~oetiker/webtools/mrtg/users.html</A>

</PRE>


<A NAME="lbAE">&nbsp;</A>
<H2>HIGHLIGHTS</H2>

<A NAME="ixAAN"></A>
<DL COMPACT>
<DT>Portable<DD>
<A NAME="ixAAO"></A>
<FONT SIZE="-1">MRTG</FONT> works on most <FONT SIZE="-1">UNIX</FONT> platforms and Windows <FONT SIZE="-1">NT</FONT>.
<DT>Perl<DD>
<A NAME="ixAAP"></A>
<FONT SIZE="-1">MRTG</FONT> is written in Perl and comes with full source.
<DT>Portable <FONT SIZE="-1">SNMP</FONT><DD>
<A NAME="ixAAQ"></A>
<FONT SIZE="-1">MRTG</FONT> Uses a highly portable <FONT SIZE="-1">SNMP</FONT> implementation written entirely in
Perl (thanks to Simon Leinen). There is no need to install any
external <FONT SIZE="-1">SNMP</FONT> package.
<DT>SNMPv2c support<DD>
<A NAME="ixAAR"></A>
<FONT SIZE="-1">MRTG</FONT> can read the new SNMPv2c 64bit counters. No more counter wrapping.
<DT>Reliable Interface Identification<DD>
<A NAME="ixAAS"></A>
Router interfaces can be identified by <FONT SIZE="-1">IP</FONT> address, description and
ethernet address in addition to the normal interface number.
<DT>Constant size Logfiles<DD>
<A NAME="ixAAT"></A>
<FONT SIZE="-1">MRTG</FONT>'s logfiles do <FONT SIZE="-1">NOT</FONT> grow thanks to the use of a unique data
consolidation algorithm.
<DT>Automatic Configuration<DD>
<A NAME="ixAAU"></A>
<FONT SIZE="-1">MRTG</FONT> comes with a set of configuration tools which make configuration and
setup very simple.
<DT>Performance<DD>
<A NAME="ixAAV"></A>
Time critical routines are written in C (thanks to the initiative
of Dave Rand my Co-Author).
<DT><FONT SIZE="-1">GIF</FONT> free Graphics<DD>
<A NAME="ixAAW"></A>
Graphics are generated directly in <FONT SIZE="-1">PNG</FONT> format using the
<FONT SIZE="-1">GD</FONT> library by Thomas Boutell.
<DT>Customizability<DD>
<A NAME="ixAAX"></A>
The look of the webpages produced by <FONT SIZE="-1">MRTG</FONT> is highly configurable.
<DT>RRDtool<DD>
<A NAME="ixAAY"></A>
<FONT SIZE="-1">MRTG</FONT> has built-in hooks for using RRDtool. If you are strapped for
performance this may help.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>DETAILS</H2>

<A NAME="ixAAZ"></A>
<FONT SIZE="-1">MRTG</FONT> consists of a Perl script which uses <FONT SIZE="-1">SNMP</FONT> to read the traffic
counters of your routers and a fast C program which logs the traffic
data and creates beautiful graphs representing the traffic on the
monitored network connection. These graphs are embedded into webpages
which can be viewed from any modern Web-browser.
<P>

In addition to a detailed daily view, <FONT SIZE="-1">MRTG</FONT> also creates visual
representations of the traffic seen during the last seven days, the
last five weeks and the last twelve months. This is possible because
<FONT SIZE="-1">MRTG</FONT> keeps a log of all the data it has pulled from the router. This
log is automatically consolidated so that it does not grow over time,
but still contains all the relevant data for all the traffic seen over
the last two years.  This is all performed in an efficient manner.
Therefore you can monitor 200 or more network links from any halfway
decent <FONT SIZE="-1">UNIX</FONT> box.
<P>

<FONT SIZE="-1">MRTG</FONT> is not limited to monitoring traffic, though.  It is possible to
monitor any <FONT SIZE="-1">SNMP</FONT> variable you choose. You can even use an
external program to gather the data which should be monitored via
<FONT SIZE="-1">MRTG</FONT>. People are using <FONT SIZE="-1">MRTG</FONT>, to monitor things such as System Load,
Login Sessions, Modem availability and more. <FONT SIZE="-1">MRTG</FONT> even allows you to
accumulate two or more data sources into a single graph.
<A NAME="lbAG">&nbsp;</A>
<H2>HISTORY</H2>

<A NAME="ixABA"></A>
In 1994 I was working at a site where we had one
64kbit line to the outside world. Obviously, everybody was interested
in knowing how the link was performing. So I wrote a quick hack which
created a constantly updated graph on the web that showed the traffic
load on our Internet link. This eventually evolved into a rather
configurable Perl script called <FONT SIZE="-1">MRTG-1</FONT>.0 which I released in spring
1995. After a few updates, I left my job at <FONT SIZE="-1">DMU</FONT> to start work at the
Swiss Federal Institute of Technology. Due to lack of time I had to
put <FONT SIZE="-1">MRTG</FONT> aside. One day in January of 1996, I received email from
Dave Rand asking if I had any ideas why <FONT SIZE="-1">MRTG</FONT> was so slow. Actually, I
did. <FONT SIZE="-1">MRTG</FONT>'s programming was not very efficient and it was written
entirely in Perl. After a week or so, Dave wrote back to me and said
he had tried what I had suggested for improving <FONT SIZE="-1">MRTG</FONT>'s speed. Since
the changes did not help much, he had decided to rewrite the
time-critical sections of <FONT SIZE="-1">MRTG</FONT> in C. The code was attached to his
email. His tool increased the speed of <FONT SIZE="-1">MRTG</FONT> by a factor of 40! This
got me out of my '<FONT SIZE="-1">MRTG</FONT> ignorance' and I started to spend my spare time
developing of <FONT SIZE="-1">MRTG-2</FONT>.
<P>

Soon after <FONT SIZE="-1">MRTG-2</FONT> development had begun I started to give beta
copies to interested parties. In return I got many feature patches, a
lot of user feedback and bug fixes. The product you are getting now
wouldn't be in this state if it hadn't been for the great contributions
and support I received from of many people. I would like
to take this opportunity to thank them all. (See the files <FONT SIZE="-1">CHANGES</FONT> for a
long list of folk people who helped to make <FONT SIZE="-1">MRTG</FONT> what it is today.)
<A NAME="lbAH">&nbsp;</A>
<H2>READ ON</H2>

<A NAME="ixABB"></A>
Learn more about <FONT SIZE="-1">MRTG</FONT> by going to the mrtg home page on:
<BR>&nbsp;<A HREF="http://people.ee.ethz.ch/~oetiker/webtools/mrtg">http://people.ee.ethz.ch/~oetiker/webtools/mrtg</A>
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixABC"></A>
Tobias Oetiker &lt;<A HREF="mailto:oetiker@ee.ethz.ch">oetiker@ee.ethz.ch</A>&gt; and many contributors
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">USER PAGES</A><DD>
<DT><A HREF="#lbAE">HIGHLIGHTS</A><DD>
<DT><A HREF="#lbAF">DETAILS</A><DD>
<DT><A HREF="#lbAG">HISTORY</A><DD>
<DT><A HREF="#lbAH">READ ON</A><DD>
<DT><A HREF="#lbAI">AUTHOR</A><DD>
</DL>

</div>

<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=linuxmanpages">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<div id="footer"><div class="littletext"> LinuxManPages.com &copy; <a class="white"  href="http://www.name.com">Name.com</a>&nbsp;&nbsp;&nbsp;Links: <!--<a class='white' href='http://www.earthsearch.net'>geographic information</a> |-->
<a class='white' href='http://www.who.is'>who.is search</a> |
<a class='white' href='http://www.bluerider.com'>dictionary</a> |
<a class='white' href='http://www.tld.io' class='small'>ccTLD information</a> 
</div></div>
</div>




</body>
</html>
