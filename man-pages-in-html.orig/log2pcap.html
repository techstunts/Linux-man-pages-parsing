
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>LOG2PCAP</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">
<div id="banner">
<a href='/'><img src='/include/images/linuxmanpages_logo.png' alt='Linux Man Pages' border='0'></a>
</div>
<div id="formLinks">
<table id="searchTable">
<tr>
<form action='/search.php' method='post'>
<td>Search For :</td>
<td><input type="text" size="20" name="term"></td>
<td>in: </td>

<td>
<select name="section">
<option value="-1">All Sections</option>
<option value="1">1. General Commands</option>
<option value="2">2. System Calls</option>
<option value="3">3. Subroutines</option>
<option value="4">4. Special Files</option>
<option value="5">5. File Formats</option>
<option value="6">6. Games and Demos</option>
<option value="7">7. Macros and Conventions</option>
<option value="8">8. Maintenence Commands</option>
</select> 
</td>
<td>
<input type='hidden' name='submitted' value='1'>
<input type="submit" value="Get Man Page">
</td>
</form>
</tr>
</table>
</div>
<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>LOG2PCAP</H1>
Section:  (1)<BR>Updated: <BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

log2pcap - Extract network traces from Samba log files
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>



<DL COMPACT>
<DT>
<B>log2pcap</B> [-h] [-q] [logfile] [pcap_file]


<P>
</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
<P>

<DD>This tool is part of the <B><A HREF="../man7/samba.7.php">samba</A></B>(7) suite.
<P>
<P>

<B>log2pcap</B> reads in a samba log file and generates a pcap file (readable by most sniffers, such as ethereal or tcpdump) based on the packet dumps in the log file.
<P>
<P>

The log file must have a <I>log level</I> of at least <B>5</B> to get the SMB header/parameters right, <B>10</B> to get the first 512 data bytes of the packet and <B>50</B> to get the whole packet.
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<P>
<DL COMPACT>
<DT>-h<DD>
If this parameter is specified the output file will be a hex dump, in a format that is readable by the text2pcap utility.
<P>
<DT>-q<DD>
Be quiet. No warning messages about missing or incomplete data will be given.
<P>
<DT>logfile<DD>
Samba log file. log2pcap will try to read the log from stdin if the log file is not specified.
<P>
<DT>pcap_file<DD>
Name of the output file to write the pcap (or hexdump) data to. If this argument is not specified, output data will be written to stdout.
<P>
<DT>-h|--help<DD>
Print a summary of command line options.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>
<P>

Extract all network traffic from all samba log files:
<P>
<P>

<P>
<PRE>

                        $ log2pcap &lt; /var/log/* &gt; trace.pcap
        .fi



Convert to pcap using text2pcap:




        $ log2pcap -h samba.log | text2pcap -T 139,139 - trace.pcap
        .fi


</PRE><A NAME="lbAG">&nbsp;</A>
<H2>VERSION</H2>

<P>
<P>

This man page is correct for version 3.0 of the Samba suite.
<P>
<A NAME="lbAH">&nbsp;</A>
<H2>BUGS</H2>

<P>
<P>

Only SMB data is extracted from the samba logs, no LDAP, NetBIOS lookup or other data.
<P>
<P>

The generated TCP and IP headers don't contain a valid checksum.
<P>
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>
<P>

<B><A HREF="../man1/text2pcap.1.php">text2pcap</A></B>(1), <B><A HREF="../man1/ethereal.1.php">ethereal</A></B>(1)
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>AUTHOR</H2>

<P>
<P>

The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.
<P>
<P>

This manpage was written by Jelmer Vernooij.
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">EXAMPLES</A><DD>
<DT><A HREF="#lbAG">VERSION</A><DD>
<DT><A HREF="#lbAH">BUGS</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">AUTHOR</A><DD>
</DL>

</div>

<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=linuxmanpages">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<div id="footer"><div class="littletext"> LinuxManPages.com &copy; <a class="white"  href="http://www.name.com">Name.com</a>&nbsp;&nbsp;&nbsp;Links: <!--<a class='white' href='http://www.earthsearch.net'>geographic information</a> |-->
<a class='white' href='http://www.who.is'>who.is search</a> |
<a class='white' href='http://www.bluerider.com'>dictionary</a> |
<a class='white' href='http://www.tld.io' class='small'>ccTLD information</a> 
</div></div>
</div>




</body>
</html>
