
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>LDAPSEARCH</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">
<div id="banner">
<a href='/'><img src='/include/images/linuxmanpages_logo.png' alt='Linux Man Pages' border='0'></a>
</div>
<div id="formLinks">
<table id="searchTable">
<tr>
<form action='/search.php' method='post'>
<td>Search For :</td>
<td><input type="text" size="20" name="term"></td>
<td>in: </td>

<td>
<select name="section">
<option value="-1">All Sections</option>
<option value="1">1. General Commands</option>
<option value="2">2. System Calls</option>
<option value="3">3. Subroutines</option>
<option value="4">4. Special Files</option>
<option value="5">5. File Formats</option>
<option value="6">6. Games and Demos</option>
<option value="7">7. Macros and Conventions</option>
<option value="8">8. Maintenence Commands</option>
</select> 
</td>
<td>
<input type='hidden' name='submitted' value='1'>
<input type="submit" value="Get Man Page">
</td>
</form>
</tr>
</table>
</div>
<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>LDAPSEARCH</H1>
Section: User Commands  (1)<BR>Updated: 2004/06/10<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>




<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

ldapsearch - LDAP search tool
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>ldapsearch</B>

[<B>-n</B>]

[<B>-u</B>]

[<B>-v</B>]

[<B>-k</B>]

[<B>-K</B>]

[<B>-t</B>]

[<B>-A</B>]

[<B>-L[L[L]]</B>]

[<B>-M[M]</B>]

[<B>-d</B><I>&nbsp;debuglevel</I>]

[<B>-f</B><I>&nbsp;file</I>]

[<B>-D</B><I>&nbsp;binddn</I>]

[<B>-W</B>]

[<B>-w</B><I>&nbsp;passwd</I>]

[<B>-y</B><I>&nbsp;passwdfile</I>]

[<B>-H</B><I>&nbsp;ldapuri</I>]

[<B>-h</B><I>&nbsp;ldaphost</I>]

[<B>-p</B><I>&nbsp;ldapport</I>]

[<B>-P</B><I>&nbsp;2</I>|<I>3</I>]

[<B>-b</B><I>&nbsp;searchbase</I>]

[<B>-s</B><I>&nbsp;base</I>|<I>one</I>|<I>sub</I>]

[<B>-a</B><I>&nbsp;never</I>|<I>always</I>|<I>search</I>|<I>find</I>]

[<B>-l</B><I>&nbsp;timelimit</I>]

[<B>-z</B><I>&nbsp;sizelimit</I>]

[<B>-O</B>&nbsp;security-properties<B>]</B>

[<B>-I</B>]

[<B>-Q</B>]

[<B>-U</B><I>&nbsp;authcid</I>]

[<B>-R</B><I>&nbsp;realm</I>]

[<B>-x</B>]

[<B>-X</B><I>&nbsp;authzid</I>]

[<B>-Y</B><I>&nbsp;mech</I>]

[<B>-Z[Z]</B>]

<I>filter</I>

[<I>attrs...</I>]

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<I>ldapsearch</I>

is a shell-accessible interface to the
<B><A HREF="../man3/ldap_search.3.php">ldap_search</A></B>(3)

library call.
<P>

<B>ldapsearch</B>

opens a connection to an LDAP server, binds, and performs a search
using specified parameters.   The <I>filter</I> should conform to
the string representation for search filters as defined in RFC 2254.
If not provided, the default filter, (objectClass=*), is used.
<P>

If
<B>ldapsearch finds one or more entries, the attributes specified by</B>

<I>attrs</I> are returned.  If * is listed, all user attributes are
returned.  If + is listed, all operational attributes are returned.
If no <I>attrs</I> are listed, all user attributes are returned.  If only
1.1 is listed, no attributes will be returned.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-n</B>

<DD>
Show what would be done, but don't actually perform the search.  Useful for
debugging in conjunction with -v.
<DT><B>-u</B>

<DD>
Include the User Friendly Name form of the Distinguished Name (DN)
in the output.
<DT><B>-v</B>

<DD>
Run in verbose mode, with many diagnostics written to standard output.
<DT><B>-k</B>

<DD>
Use Kerberos IV authentication instead of simple authentication.  It is
assumed that you already have a valid ticket granting ticket.
<B>ldapsearch</B>

must be compiled with Kerberos support for this option to have any effect.
<DT><B>-K</B>

<DD>
Same as -k, but only does step 1 of the Kerberos IV bind.  This is useful
when connecting to a slapd and there is no x500dsa.hostname principal
registered with your Kerberos Domain Controller(s).
<DT><B>-t</B>

<DD>
Write retrieved non-printable values to a set of temporary files.  This
is useful for dealing with values containing non-character data such as
jpegPhoto or audio.
<DT><B>-A</B>

<DD>
Retrieve attributes only (no values).  This is useful when you just want to
see if an attribute is present in an entry and are not interested in the
specific values.
<DT><B>-L</B>

<DD>
Search results are display in LDAP Data Interchange Format detailed in
<B><A HREF="../man5/ldif.5.php">ldif</A></B>(5).

A single -L restricts the output to LDIFv1.
A second -L disables comments.
A third -L disables printing of the LDIF version.
The default is to use an extended version of LDIF.
<DT><B>-M[M]</B>

<DD>
Enable manage DSA IT control.
<B>-MM</B>

makes control critical.
<DT><B>-S</B><I>&nbsp;attribute</I>

<DD>
Sort the entries returned based on <I>attribute</I>. The default is not
to sort entries returned.  If <I>attribute</I> is a zero-length string (&quot;&quot;),
the entries are sorted by the components of their Distingished Name.  See
<B><A HREF="../man3/ldap_sort.3.php">ldap_sort</A></B>(3)

for more details. Note that
<B>ldapsearch</B>

normally prints out entries as it receives them. The use of the
<B>-S</B>

option defeats this behavior, causing all entries to be retrieved,
then sorted, then printed.
<DT><B>-d</B><I>&nbsp;debuglevel</I>

<DD>
Set the LDAP debugging level to <I>debuglevel</I>.
<B>ldapsearch</B>

must be compiled with LDAP_DEBUG defined for this option to have any effect.
<DT><B>-f</B><I>&nbsp;file</I>

<DD>
Read a series of lines from <I>file</I>, performing one LDAP search for
each line.  In this case, the <I>filter</I> given on the command line
is treated as a pattern where the first occurrence of <B>%s</B> is
replaced with a line from <I>file</I>.  If <I>file</I> is a single <I>-</I>
character, then the lines are read from standard input.
<DT><B>-x </B>

<DD>
Use simple authentication instead of SASL.
<DT><B>-D</B><I>&nbsp;binddn</I>

<DD>
Use the Distinguished Name <I>binddn</I> to bind to the LDAP directory.
<DT><B>-W</B>

<DD>
Prompt for simple authentication.
This is used instead of specifying the password on the command line.
<DT><B>-w</B><I>&nbsp;passwd</I>

<DD>
Use <I>passwd</I> as the password for simple authentication.
<DT><B>-y</B><I>&nbsp;passwdfile</I>

<DD>
Use complete contents of <I>passwdfile</I> as the password for
simple authentication.
<DT><B>-H</B><I>&nbsp;ldapuri</I>

<DD>
Specify URI(s) referring to the ldap server(s).
<DT><B>-h</B><I>&nbsp;ldaphost</I>

<DD>
Specify an alternate host on which the ldap server is running.
Deprecated in favor of -H.
<DT><B>-p</B><I>&nbsp;ldapport</I>

<DD>
Specify an alternate TCP port where the ldap server is listening.
Deprecated in favor of -H.
<DT><B>-b</B><I>&nbsp;searchbase</I>

<DD>
Use <I>searchbase</I> as the starting point for the search instead of
the default.
<DT><B>-s</B><I>&nbsp;base</I>|<I>one</I>|<I>sub</I>

<DD>
Specify the scope of the search to be one of
<I>base</I>,

<I>one</I>,

or
<I>sub</I>

to specify a base object, one-level, or subtree search.  The default
is
<I>sub</I>.

<DT><B>-a</B><I>&nbsp;never</I>|<I>always</I>|<I>search</I>|<I>find</I>

<DD>
Specify how aliases dereferencing is done.  Should be one of
<I>never</I>,

<I>always</I>,

<I>search</I>,

or
<I>find</I>

to specify that aliases are never dereferenced, always dereferenced,
dereferenced when searching, or dereferenced only when locating the
base object for the search.  The default is to never dereference aliases.
<DT><B>-P</B><I>&nbsp;2</I>|<I>3</I>

<DD>
Specify the LDAP protocol version to use.
<DT><B>-l</B><I>&nbsp;timelimit</I>

<DD>
wait at most <I>timelimit</I> seconds for a search to complete.  A
timelimit of
<I>0</I>

(zero) removes the
<B>ldap.conf</B>

limit.
A timelimit of
<I>none</I>

uses
<I>maxInt</I>

(2147483647, RFC 2251) as timelimit.
A server may impose a maximal timelimit which only
the root user may override.
<DT><B>-z</B><I>&nbsp;sizelimit</I>

<DD>
retrieve at most <I>sizelimit</I> entries for a search.  A sizelimit
of 
<I>0</I>

(zero) removes the 
<B>ldap.conf</B>

limit.
A sizelimit of
<I>none</I>

uses
<I>maxInt</I>

(2147483647, RFC 2251) as sizelimit.
A server may impose a maximal sizelimit which only
the root user may override.
<DT><B>-O</B><I>&nbsp;security-properties</I>

<DD>
Specify SASL security properties.
<DT><B>-I</B>

<DD>
Enable SASL Interactive mode.  Always prompt.  Default is to prompt
only as needed.
<DT><B>-Q</B>

<DD>
Enable SASL Quiet mode.  Never prompt.
<DT><B>-U</B><I>&nbsp;authcid</I>

<DD>
Specify the authentication ID for SASL bind. The form of the ID
depends on the actual SASL mechanism used.
<DT><B>-R</B><I>&nbsp;realm</I>

<DD>
Specify the realm of authentication ID for SASL bind. The form of the realm
depends on the actual SASL mechanism used.
<DT><B>-X</B><I>&nbsp;authzid</I>

<DD>
Specify the requested authorization ID for SASL bind.
<I>authzid</I>

must be one of the following formats:
<B>dn:</B><I>&lt;distinguished name&gt;</I>

or
<B>u:</B><I>&lt;username&gt;</I>

<DT><B>-Y</B><I>&nbsp;mech</I>

<DD>
Specify the SASL mechanism to be used for authentication. If it's not
specified, the program will choose the best mechanism the server knows.
<DT><B>-Z[Z]</B>

<DD>
Issue StartTLS (Transport Layer Security) extended operation. If you use
<B>-ZZ</B>, the command will require the operation to be successful.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>OUTPUT FORMAT</H2>

If one or more entries are found, each entry is written to standard
output in LDAP Data Interchange Format or
<B><A HREF="../man5/ldif.5.php">ldif</A></B>(5):

<P>

<PRE>
    version: 1

    # bjensen, example, net
    dn: uid=bjensen,dc=example,dc=net
    objectClass: person
    objectClass: dcObject
    uid: bjensen
    cn: Barbara Jensen
    sn: Jensen
    ...
</PRE>

<P>

If the -t option is used, the URI of a temporary file
is used in place of the actual value.  If the -A option
is given, only the &quot;attributename&quot; part is written.
<A NAME="lbAG">&nbsp;</A>
<H2>EXAMPLE</H2>

The following command:
<P>

<PRE>
    ldapsearch -LLL &quot;(sn=smith)&quot; cn sn telephoneNumber
</PRE>

<P>

will perform a subtree search (using the default search base defined
in
<B><A HREF="../man5/ldap.conf.5.php">ldap.conf</A></B>(5))

for entries with a surname (sn) of smith.  The common name (cn), surname
(sn) and telephoneNumber values will be retrieved and printed to
standard output.
The output might look something like this if two entries are found:
<P>

<PRE>
    dn: uid=jts,dc=example,dc=com
    cn: John Smith
    cn: John T. Smith
    sn: Smith
    sn;lang-en: Smith
    sn;lang-de: Schmidt
    telephoneNumber: 1 555 123-4567

    dn: uid=sss,dc=example,dc=com
    cn: Steve Smith
    cn: Steve S. Smith
    sn: Smith
    sn;lang-en: Smith
    sn;lang-de: Schmidt
    telephoneNumber: 1 555 765-4321
</PRE>

<P>

The command:
<P>

<PRE>
    ldapsearch -LLL -u -t &quot;(uid=xyz)&quot; jpegPhoto audio
</PRE>

<P>

will perform a subtree search using the default search base for entries
with user id of &quot;xyz&quot;.  The user friendly form of the entry's DN will be
output after the line that contains the DN itself, and the jpegPhoto
and audio values will be retrieved and written to temporary files.  The
output might look like this if one entry with one value for each of the
requested attributes is found:
<P>

<PRE>
    dn: uid=xyz,dc=example,dc=com
    ufn: xyz, example, com
    audio:&lt; <A HREF="file:///tmp/ldapsearch-audio-a19924">file:///tmp/ldapsearch-audio-a19924</A>
    jpegPhoto:&lt; <A HREF="file:///tmp/ldapsearch-jpegPhoto-a19924">file:///tmp/ldapsearch-jpegPhoto-a19924</A>
</PRE>

<P>

This command:
<P>

<PRE>
    ldapsearch -LLL -s one -b &quot;c=US&quot; &quot;(o=University*)&quot; o description
</PRE>

<P>

will perform a one-level search at the c=US level for all entries
whose organization name (o) begins begins with <B>University</B>.
The organization name and description attribute values will be retrieved
and printed to standard output, resulting in output similar to this:
<P>

<PRE>
    dn: o=University of Alaska Fairbanks,c=US
    o: University of Alaska Fairbanks
    description: Preparing Alaska for a brave new yesterday
    description: leaf node only

    dn: o=University of Colorado at Boulder,c=US
    o: University of Colorado at Boulder
    description: No personnel information
    description: Institution of education and research

    dn: o=University of Colorado at Denver,c=US
    o: University of Colorado at Denver
    o: UCD
    o: CU/Denver
    o: CU-Denver
    description: Institute for Higher Learning and Research

    dn: o=University of Florida,c=US
    o: University of Florida
    o: UFl
    description: Warper of young minds

    ...
</PRE>

<A NAME="lbAH">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

Exit status is zero if no errors occur.
Errors result in a non-zero exit status and
a diagnostic message being written to standard error.
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man1/ldapadd.1.php">ldapadd</A></B>(1),

<B><A HREF="../man1/ldapdelete.1.php">ldapdelete</A></B>(1),

<B><A HREF="../man1/ldapmodify.1.php">ldapmodify</A></B>(1),

<B><A HREF="../man1/ldapmodrdn.1.php">ldapmodrdn</A></B>(1),

<B><A HREF="../man5/ldap.conf.5.php">ldap.conf</A></B>(5),

<B><A HREF="../man5/ldif.5.php">ldif</A></B>(5),

<B><A HREF="../man3/ldap.3.php">ldap</A></B>(3),

<B><A HREF="../man3/ldap_search.3.php">ldap_search</A></B>(3)

<A NAME="lbAJ">&nbsp;</A>
<H2>AUTHOR</H2>

The OpenLDAP Project &lt;<A HREF="http://www.openldap.org/">http://www.openldap.org/</A>&gt;
<A NAME="lbAK">&nbsp;</A>
<H2>ACKNOWLEDGEMENTS</H2>

<B>OpenLDAP</B>

is developed and maintained by The OpenLDAP Project (<A HREF="http://www.openldap.org/).">http://www.openldap.org/).</A>
<B>OpenLDAP</B>

is derived from University of Michigan LDAP 3.3 Release.  
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">OUTPUT FORMAT</A><DD>
<DT><A HREF="#lbAG">EXAMPLE</A><DD>
<DT><A HREF="#lbAH">DIAGNOSTICS</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">AUTHOR</A><DD>
<DT><A HREF="#lbAK">ACKNOWLEDGEMENTS</A><DD>
</DL>

</div>

<div id="disqus_thread"></div>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=linuxmanpages">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<div id="footer"><div class="littletext"> LinuxManPages.com &copy; <a class="white"  href="http://www.name.com">Name.com</a>&nbsp;&nbsp;&nbsp;Links: <!--<a class='white' href='http://www.earthsearch.net'>geographic information</a> |-->
<a class='white' href='http://www.who.is'>who.is search</a> |
<a class='white' href='http://www.bluerider.com'>dictionary</a> |
<a class='white' href='http://www.tld.io' class='small'>ccTLD information</a> 
</div></div>
</div>




</body>
</html>
