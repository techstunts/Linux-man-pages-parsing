
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>OPROFILE</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">


<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>OPROFILE</H1>
Section: User Commands  (1)<BR>Updated: Fri 15 October 2004<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

oprofile - a system-wide profiler
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<BR>

<B>opcontrol</B>

[
<I>options</I>

]
<BR>

<B>opreport</B>

[
<I>options</I>

]
[ profile specification ]
<BR>

<B>opstack</B>

[
<I>options</I>

]
[ profile specification ]
<BR>

<B>opannotate</B>

[
<I>options</I>

]
[ profile specification ]
<BR>

<B>oparchive</B>

[
<I>options</I>

]
[ profile specification ]
<BR>

<B>opgprof</B>

[
<I>options</I>

]
[ profile specification ]
<BR>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

OProfile is a profiling system for systems running Linux
2.2, 2.4, and 2.6. Profiling runs transparently in the background and profile
data can be collected at any time. OProfile makes use of the hardware
performance counters provided on Intel, AMD, and other processors,
and uses a timer-interrupt based mechanism on CPUs without counters.
OProfile can profile the whole system in high detail.
<BR>

For a gentle guide to using OProfile, please read the HTML documentation
listed in SEE ALSO.
<BR>

<A NAME="lbAE">&nbsp;</A>
<H2>OPCONTROL</H2>

<B>opcontrol</B>

is used for starting and stopping the OProfile daemon, and providing set-up
parameters.
<A NAME="lbAF">&nbsp;</A>
<H2>OPREPORT</H2>

<B>opreport</B>

gives image and symbol-based profile summaries for the whole system or
a subset of binary images.
<A NAME="lbAG">&nbsp;</A>
<H2>OPSTACK</H2>

<B>opstack</B>

reports call-graph profile summaries, if call-graph profiling is
enabled.
<A NAME="lbAH">&nbsp;</A>
<H2>OPANNOTATE</H2>

<B>opannotate</B>

can produce annotated source or mixed source and assembly output.
<A NAME="lbAI">&nbsp;</A>
<H2>OPARCHIVE</H2>

<B>oparchive</B>

produces oprofile archive for offline analysis
<A NAME="lbAJ">&nbsp;</A>
<H2>OPGPROF</H2>

<B>opgprof</B>

can produce a gprof-format profile for a single binary.
<P>
<A NAME="lbAK">&nbsp;</A>
<H2>PROFILE SPECIFICATIONS</H2>

All of the post-profiling tools can take profile specifications,
which is some combination of the following parameters.
<P>
<DL COMPACT>
<DT><B>session:sessionlist</B>

<DD>
A comma-separated list of session names to resolve in. Absence of this
tag, unlike all others, means &quot;the current session&quot;, equivalent to
specifying &quot;session:current&quot;.
<BR>

<DT><B>session-exclude:sessionlist</B>

<DD>
A comma-separated list of sessions to exclude.
<BR>

<DT><B>image:imagelist</B>

<DD>
A comma-separated list of image names to resolve. Each entry may be relative
path, glob-style name, or full path, e.g.
opreport 'image:/usr/bin/oprofiled,*op*,./oprofpp'
<BR>

<DT><B>image-exclude:imagelist</B>

<DD>
Same as image:, but the matching images are excluded.
<BR>

<DT><B>lib-image:imagelist</B>

<DD>
Same as image:, but only for images that are for
a particular primary binary image (namely, an application). This only
makes sense to use if you're using --separate.
This includes kernel modules and the kernel when using
--separate=kernel.
<BR>

<DT><B>lib-image-exclude:imagelist</B>

<DD>
Same as &lt;option&gt;lib-image:&lt;/option&gt;, but the matching images
are excluded.
<BR>

<DT><B>event:eventname</B>

<DD>
The symbolic event name to match on, e.g. event:DATA_MEM_REFS.
<BR>

<DT><B>count:eventcount</B>

<DD>
The event count to match on, e.g. event:DATA_MEM_REFS count:30000.
<BR>

<DT><B>unit-mask:maskvalue</B>

<DD>
The unit mask value of the event to match on, e.g. unit-mask:1.
<BR>

<DT><B>cpu:cpulist</B>

<DD>
Only consider profiles for the given numbered CPU (starting from zero).
This is only useful when using CPU profile separation.
<BR>

<DT><B>tgid:pidlist</B>

<DD>
Only consider profiles for the given task groups. Unless some program is
using threads, the task group ID of a process is the same as its process
ID. This option corresponds to the POSIX notion of a thread group. This
is only useful when using per-process profile separation.
<BR>

<DT><B>tid:tidlist</B>

<DD>
Only consider profiles for the given threads. When using recent thread
libraries, all threads in a process share the same task group ID, but
have different thread IDs. You can use this option in combination with
tgid: to restrict the results to particular threads within a process.
This is only useful when using per-process profile separation.
<P>
</DL>
<A NAME="lbAL">&nbsp;</A>
<H2>ENVIRONMENT</H2>

No special environment variables are recognised by oprofile.
<P>
<A NAME="lbAM">&nbsp;</A>
<H2>FILES</H2>

<DL COMPACT>
<DT><I>$HOME/.oprofile/</I>

<DD>
Configuration files
<DT><I>/root/.oprofile/daemonrc</I>

<DD>
Configuration file for opcontrol
<DT><I>$prefix/share/oprofile/</I>

<DD>
Event description files used by OProfile.
<DT><I>/var/lib/oprofile/oprofiled.log</I>

<DD>
The user-space daemon logfile.
<DT><I>/var/lib/oprofile/opdev, /var/lib/oprofile/ophashmapdev, /var/lib/oprofile/opnotedev</I>

<DD>
The device files for communication with the Linux 2.4 kernel module. 
<DT><I>/dev/oprofile</I>

<DD>
The device filesystem for communication with the Linux 2.6 kernel module. 
<DT><I>/var/lib/oprofile/samples/</I>

<DD>
The location of the generated sample files.
<P>
</DL>
<A NAME="lbAN">&nbsp;</A>
<H2>VERSION</H2>

<DL COMPACT>
<DT>This man page is current for oprofile-0.8.1.<DD>
<P>
</DL>
<A NAME="lbAO">&nbsp;</A>
<H2>SEE ALSO</H2>

<B>/usr/share/doc/oprofile/,</B>

<B><A HREF="../man1/opcontrol.1.php">opcontrol</A>(1),</B>

<B><A HREF="../man1/opreport.1.php">opreport</A>(1),</B>

<B><A HREF="../man1/opstack.1.php">opstack</A>(1),</B>

<B><A HREF="../man1/opannotate.1.php">opannotate</A>(1),</B>

<B><A HREF="../man1/oparchive.1.php">oparchive</A>(1),</B>

<B><A HREF="../man1/opgprof.1.php">opgprof</A>(1),</B>

<B><A HREF="../man1/gprof.1.php">gprof</A>(1),</B>

<B><A HREF="../man1/readprofile.1.php">readprofile</A>(1),</B>

<B>CPU</B>vendor<B>architecture</B>manuals

<P>
<A NAME="lbAP">&nbsp;</A>
<H2>COPYRIGHT</H2>

oprofile is Copyright (C) 1998-2004 University of Manchester, UK, John Levon,
and others.
OProfile is released under the GNU General Public License, Version 2,
or (at your option) any later version.
<A NAME="lbAQ">&nbsp;</A>
<H2>AUTHORS</H2>

John Levon &lt;<A HREF="mailto:levon@movementarian.org">levon@movementarian.org</A>&gt; is the primary author. See the documentation
for other contributors.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPCONTROL</A><DD>
<DT><A HREF="#lbAF">OPREPORT</A><DD>
<DT><A HREF="#lbAG">OPSTACK</A><DD>
<DT><A HREF="#lbAH">OPANNOTATE</A><DD>
<DT><A HREF="#lbAI">OPARCHIVE</A><DD>
<DT><A HREF="#lbAJ">OPGPROF</A><DD>
<DT><A HREF="#lbAK">PROFILE SPECIFICATIONS</A><DD>
<DT><A HREF="#lbAL">ENVIRONMENT</A><DD>
<DT><A HREF="#lbAM">FILES</A><DD>
<DT><A HREF="#lbAN">VERSION</A><DD>
<DT><A HREF="#lbAO">SEE ALSO</A><DD>
<DT><A HREF="#lbAP">COPYRIGHT</A><DD>
<DT><A HREF="#lbAQ">AUTHORS</A><DD>
</DL>

</div>






</div>




</body>
</html>
