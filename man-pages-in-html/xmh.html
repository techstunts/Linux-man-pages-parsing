
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>XMH</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">


<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>XMH</H1>
Section: User Commands  (1)<BR>Updated: <BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

xmh - send and read mail with an X interface to MH
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>xmh</B>

[-path <I>mailpath</I>] [-initial <I>foldername</I>] [-flag] [-<I>toolkitoption</I> ...]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The
<I>xmh</I>

program provides a graphical user interface to the <I>MH</I> Message
Handling System.  To actually do things with your mail, it makes calls to the
<I>MH</I> package.  Electronic mail messages may be composed, sent, 
received, replied to, forwarded, sorted, and stored in folders.  <I>xmh</I>
provides extensive mechanism for customization of the user interface.
<P>

This document introduces many aspects of the Athena Widget Set.
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-path </B><I>directory</I>

<DD>
This option specifies an alternate collection of mail folders in which to
process mail.  The directory is specified as an absolute pathname.
The default mail path is the value of the Path component in the <I>MH</I>
profile, which is determined by the <B>MH</B> environment variable and 
defaults to $HOME/.mh_profile.  $HOME/Mail will be used as the path if 
the <I>MH</I> Path is not given in the profile.
<DT><B>-initial </B><I>folder</I>

<DD>
This option specifies an alternate folder which may receive new mail and is
initially opened by <I>xmh</I>.  
The default initial folder is ``inbox''.
<DT><B>-flag</B>

<DD>
This option will cause <I>xmh</I> to change the appearance of appropriate
folder buttons and to request the window manager to change the appearance
of the <I>xmh</I> icon when new mail has arrived.  By default,
<I>xmh</I> will change the appearance of the ``inbox'' folder button when
new mail is waiting.  The application-specific resource <B>checkNewMail</B>
can be used to turn off this notification, and the <B>-flag</B> option will
still override it.
</DL>
<P>

These three options have corresponding application-specific resources, 
<B>MailPath</B>, <B>InitialFolder</B>, and <B>MailWaitingFlag</B>, which
can be specified in a resource file.
<P>

The standard toolkit command line options are given in <I><A HREF="../man7/X.7x.php">X</A>(7x)</I>.
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>INSTALLATION</H2>

<P>

<I>xmh</I> requires that the user is already set up
to use <I>MH</I>, version 6.  To do so, see if there is a file
called .mh_profile in your home directory.  If it exists, check to see if it
contains a line that starts with ``Current-Folder''.  If it does, 
you've been using version 4 or earlier of <I>MH</I>; to convert to version
6, you must remove that line.  (Failure to do so causes spurious output to
stderr, which can hang <I>xmh</I> depending on your setup.)
<P>

If you do not already have a .mh_profile, you can create one (and
everything else you need) by typing ``inc'' to the shell.  You should
do this before using <I>xmh</I> to incorporate new mail.
<P>

For more information, refer to the <I><A HREF="../man1/mh.1.php">mh</A>(1)</I> documentation.
<P>

Much of the user interface of <I>xmh</I> is configured in the <I>Xmh</I>
application class defaults file; if this file was not installed properly
a warning message will appear when <I>xmh</I> is used.  <I>xmh</I> is 
backwards compatible with the R4 application class defaults file.
<P>

The default value of the SendBreakWidth resource has changed since R4.
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>BASIC SCREEN LAYOUT</H2>

<I>xmh</I> starts out with a single window, divided into four major areas:
<P>
<DL COMPACT>
<DT><B>-</B>

<DD>
Six buttons with pull-down command menus.
</DL>
<P>

<DL COMPACT>
<DT><B>-</B>

<DD>
A collection of buttons, one for each top level folder. 
New users of <I>MH</I> will have two folders, ``drafts'' and ``inbox''.
</DL>
<P>

<DL COMPACT>
<DT><B>-</B>

<DD>
A listing, or Table of Contents, of the messages in the open folder.
Initially, this will show the messages in ``inbox''.
</DL>
<P>

<DL COMPACT>
<DT><B>-</B>

<DD>
A view of one of your messages.  Initially this is blank.
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>XMH AND THE ATHENA WIDGET SET</H2>

<I>xmh</I> uses the X Toolkit Intrinsics and the Athena Widget Set.
Many of the features described below (scrollbars, buttonboxes, etc.) are
actually part of the Athena Widget Set, and are described here only for
completeness.  For more information, see the Athena Widget Set documentation.
<P>
<A NAME="lbAI">&nbsp;</A>
<H3>SCROLLBARS</H3>

Some parts of the main window will have a vertical area on the left containing
a grey bar.  This area is a <I>scrollbar</I>.  They are used whenever the
data in a window takes up more space than can be displayed.
The grey bar indicates what portion of your data is visible. Thus, if the
entire length of the area is grey, then you are looking at all your data.
If only the first half is grey, then you are looking at the top half of
your data.  
The message viewing area will have a horizontal scrollbar if the text
of the message is wider than the viewing area.
<P>

You can use the pointer in the scrollbar to change what part of the data is
visible.  If you click with pointer button 2, the top of the grey
area will move to where the pointer is, and the corresponding
portion of data will be displayed.  If you hold down pointer button 2,
you can drag around the grey area.  This makes it easy to get to the top
of the data: just press with button 2, drag off the top of the
scrollbar, and release.
<P>

If you click with button 1, then the data to the right of the
pointer will scroll to the top of the window.  If you click with pointer
button 3, then the data at the top of the window will scroll down to where
the pointer is.
<P>
<A NAME="lbAJ">&nbsp;</A>
<H3>BUTTONBOXES, BUTTONS, AND MENUS</H3>

Any area containing many words or short phrases, each enclosed in a
rectangular or rounded boundary, is called a <I>buttonbox</I>.  
Each rectangle or rounded area is actually a button that you
can press by moving the pointer onto it and pressing pointer button 1.
If a given buttonbox has more buttons in it than can fit, it will
be displayed with a scrollbar, so you can always scroll to the button you
want.
<P>

Some buttons have pull-down menus. 
Pressing the pointer button while the pointer is over one of these 
buttons will pull down a menu.  Continuing to hold the button down while 
moving the 
pointer over the menu, called dragging the pointer, will highlight each
selectable item 
on the menu as the pointer passes over it.  To select an item in the menu,
release the pointer button while the item is highlighted. 
<P>
<A NAME="lbAK">&nbsp;</A>
<H3>ADJUSTING THE RELATIVE SIZES OF AREAS</H3>

If you're not satisfied with the sizes of the various areas of the main window,
they can easily be changed.  Near the right edge of the border between
each region is a black box, called a <I>grip</I>.  Simply point to that
grip with the pointer, press a pointer button, drag up or down, and
release.  Exactly what happens depends on which pointer button you press.
<P>

If you drag with the pointer button 2, then only that border will move.  This
mode is simplest to understand, but is the least useful.
<P>

If you drag with pointer button 1, then you are adjusting the size of
the window above.  <I>xmh</I> will attempt to compensate by adjusting some
window below it.
<P>

If you drag with pointer button 3, then you are adjusting the size
of the window below.  <I>xmh</I> will attempt to compensate by adjusting
some window above it.
<P>

All windows have a minimum and maximum size; you will never be allowed to
move a border past the point where it would make a window have an invalid
size.
<P>
<A NAME="lbAL">&nbsp;</A>
<H2>PROCESSING YOUR MAIL</H2>

This section will define the concepts of the selected folder, current folder,
selected message(s), current message, selected sequence, and current 
sequence.  Each <I>xmh</I> command is introduced.  
<P>

For use in customization,
action procedures corresponding to each command are given; these action
procedures can be used to customize the user interface, particularly the
keyboard accelerators and the functionality of the buttons in the optional
button box created by the application resource <B>CommandButtonCount</B>.
<P>
<A NAME="lbAM">&nbsp;</A>
<H3>FOLDERS AND SEQUENCES</H3>

A folder contains a collection of mail messages, or is empty.  <I>xmh</I>
supports folders with one level of subfolders.
<P>

The selected folder is whichever foldername appears in the bar above the 
folder buttons.  Note that this is not necessarily the same folder that is
currently being viewed.  
To change the selected folder, just press on the desired folder button
with pointer button 1;
if that folder has subfolders, select a folder from the pull-down menu.
<P>

The Table of Contents, or toc, lists the messages in the viewed folder.
The title bar above the Table of Contents displays the name of the 
viewed folder.
<P>

The toc title bar also displays the name of the viewed sequence of messages 
within the viewed folder.
Every folder has an implicit ``all'' sequence, which contains all the messages
in the folder, and initially the toc title bar will show ``inbox:all''.
<P>
<A NAME="lbAN">&nbsp;</A>
<H3>FOLDER COMMANDS</H3>

The <I>Folder</I> command menu contains commands of a global nature:
<P>
<DL COMPACT>
<DT><B>Open Folder</B>

<DD>
Display the data in the selected folder.  Thus, the selected folder also
becomes the viewed folder.  
The action procedure corresponding
to this command is <B>XmhOpenFolder(</B>[<I>foldername</I>]<B>)</B>.
It takes an optional argument as the name of a folder to select and open; if no
folder is specified, the selected folder is opened.  It may be specified 
as part of an event translation from a folder menu button or from a 
folder menu, or as a binding of a keyboard accelerator to any widget other
than the folder menu buttons or the folder menus.
<DT><B>Open Folder in New Window</B>

<DD>
Displays the selected folder in an additional main window.
Note, however, that you cannot reliably display the same folder in more 
than one window at a time, although <I>xmh</I> will not prevent you from trying.
The corresponding action is <B>XmhOpenFolderInNewWindow()</B>.
<DT><B>Create Folder</B>

<DD>
Create a new folder.
You will be prompted for a name for the new folder;
to enter the name, move the pointer to the blank box provided and type.
Subfolders are created by specifying the parent folder, a slash, and the
subfolder name.  For example, 
to create a folder named ``xmh'' which is a subfolder of an existing folder
named ``clients'', type ``clients/xmh''.
Click on the Okay button when finished, or just type Return;
click on Cancel to cancel this operation. 
The action corresponding to Create Folder is <B>XmhCreateFolder()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Delete Folder</B>

<DD>
Destroy the selected folder.  You will be asked to confirm this action (see
CONFIRMATION WINDOWS).  Destroying a folder will also destroy any subfolders
of that folder.  The corresponding action is <B>XmhDeleteFolder()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Close Window</B>

<DD>
Exits <I>xmh</I>, after first confirming that you won't lose any changes;
or, if selected from any additional <I>xmh</I> window, simply closes that
window.  The corresponding action is <B>XmhClose()</B>.
<P>
</DL>
<A NAME="lbAO">&nbsp;</A>
<H3>HIGHLIGHTED MESSAGES, SELECTED MESSAGES</H3>

<A NAME="lbAP">&nbsp;</A>
<H3>AND THE CURRENT MESSAGE</H3>

It is possible to highlight a set of adjacent messages in the area of the
Table of Contents.
To highlight a message, click on it with pointer button 1.
To highlight a range of messages, click on the first one with
pointer button 1 and on the last one with pointer button 3; or
press pointer button 1, drag, and release.
To extend a range of selected messages, use pointer button 3.  
To highlight all messages in the table of contents, 
click rapidly three times with pointer button 1.  
To cancel any selection in the table of contents, click rapidly twice.
<P>
The selected messages are the same as the highlighted messages, if any.  If no
messages are highlighted, then the selected messages are considered the same
as the current message.
<P>
The current message is indicated by a `+' next to the message number.  It
usually corresponds to the message currently being viewed.  Upon opening
a new folder, for example, the current message will be different from the
viewed message.
When a message is viewed, the title bar above the view will identify the message.
<P>
<A NAME="lbAQ">&nbsp;</A>
<H3>TABLE OF CONTENTS COMMANDS</H3>

The <I>Table of Contents</I> command menu
contains commands which operate on the open, or viewed, folder.
<P>
<DL COMPACT>
<DT><B>Incorporate New Mail</B>

<DD>
Add any new mail received to viewed folder, and set the current
message to be the first new message.  This command is selectable in the menu
and will execute only if the viewed folder is allowed to receive new mail.
By default, only ``inbox'' is allowed to incorporate new mail.
The corresponding action is <B>XmhIncorporateNewMail()</B>.
<DT><B>Commit Changes</B>

<DD>
Execute all deletions, moves, and copies that have been marked in this
folder.  The corresponding action is <B>XmhCommitChanges()</B>.
<DT><B>Pack Folder</B>

<DD>
Renumber the messages in this folder so they start with 1 and increment by
1.  The corresponding action is <B>XmhPackFolder()</B>.
<DT><B>Sort Folder</B>

<DD>
Sort the messages in this folder in chronological order.  (As a side
effect, this may also pack the folder.)  The corresponding action is
<B>XmhSortFolder()</B>.
<DT><B>Rescan Folder</B>

<DD>
Rebuild the list of messages.  This can be used whenever you suspect 
that <I>xmh</I>'s
idea of what messages you have is wrong.  (In particular, this is necessary
if you change things using straight <I>MH</I> commands without using 
<I>xmh</I>.)  The corresponding action is <B>XmhForceRescan()</B>.
<P>
</DL>
<A NAME="lbAR">&nbsp;</A>
<H3>MESSAGE COMMANDS</H3>

The <I>Message</I> command menu contains commands which operate on the selected
message(s), or if there are no selected messages, the current message.
<P>
<DL COMPACT>
<DT><B>Compose Message</B>

<DD>
Composes a new message.  A new window will be brought up for composition;
a description of it is given in the COMPOSITION WINDOWS section below.
This command does not affect the current message.
The corresponding action is <B>XmhComposeMessage()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>View Next Message</B>

<DD>
View the first selected message.  If no messages are highlighted, view the
current message.  If current message is already being viewed, view the
first unmarked message after the current message.
The corresponding action is <B>XmhViewNextMessage()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>View Previous</B>

<DD>
View the last selected message.  If no messages are highlighted, view the
current message.  If current message is already being viewed, view the
first unmarked message before the current message.
The corresponding action is <B>XmhViewPrevious()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Delete</B>

<DD>
Mark the selected messages for deletion.  If no messages are highlighted,
mark the current message for deletion and automatically display the 
next unmarked message.
The corresponding action is <B>XmhMarkDelete()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Move</B>

<DD>
Mark the selected messages to be moved into the currently selected folder.
(If the selected folder is the same as the viewed folder, 
this command will just beep.)  If no messages are highlighted,
mark the current message to be moved and display the next unmarked message.
The corresponding action is <B>XmhMarkMove()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Copy as Link</B>

<DD>
Mark the selected messages to be copied into the selected folder.  (If the
selected folder is the same as the viewed folder, this command will just
beep.)  If no messages are highlighted, mark the current message to be
copied.  Note that messages are actually linked, not copied; editing 
a message copied by <I>xmh</I> will affect all copies of the message.
The corresponding action is <B>XmhMarkCopy()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Unmark</B>

<DD>
Remove any of the above three marks from the selected messages, or the
current message, if none are highlighted.
The corresponding action is <B>XmhUnmark()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>View in New</B>

<DD>
Create a new window containing only a view of the first selected message,
or the current message, if none are highlighted.
The corresponding action is <B>XmhViewInNewWindow()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Reply</B>

<DD>
Create a composition window in reply to the first selected message, or the
current message, if none are highlighted.
The corresponding action is <B>XmhReply()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Forward</B>

<DD>
Create a composition window whose body is initialized to contain an
encapsulation of
of the selected messages, or the current message if none are highlighted.
The corresponding action is <B>XmhForward()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Use as Composition</B>

<DD>
Create a composition window whose body is initialized to be the contents
of the first selected message, or the current message if none are selected.
Any changes you make in the composition will be saved in a new 
message in the ``drafts'' folder, and will not change the original message.
However, there is an exception to this rule.
If the message to be used as composition was selected from the ``drafts'' 
folder, (see BUGS), the changes will be reflected in the original message
(see COMPOSITION WINDOWS).  The action procedure corresponding to this
command is <B>XmhUseAsComposition()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Print</B>

<DD>
Print the selected messages, or the current message if none are selected.
<I>xmh</I> normally prints by invoking
the <I><A HREF="../man1/enscript.1.php">enscript</A></I>(1) command, but this can be customized with the <I>xmh</I>
application-specific resource <B>PrintCommand</B>.
The corresponding action is <B>XmhPrint()</B>.
<P>
</DL>
<A NAME="lbAS">&nbsp;</A>
<H3>SEQUENCE COMMANDS</H3>

The <I>Sequence</I> command menu contains commands pertaining to
message sequences (See MESSAGE-SEQUENCES),
and a list of the message-sequences defined for the currently viewed folder.
The selected message-sequence is indicated by a check mark in its entry
in the margin of the menu.  To change the selected message-sequence,
select a new message-sequence from the sequence menu.  
<P>
<DL COMPACT>
<DT><B>Pick Messages</B>

<DD>
Define a new message-sequence.  
The corresponding action is <B>XmhPickMessages()</B>.
</DL>
<P>

The following menu entries will be sensitive only if the current folder
has any message-sequences other than the ``all'' message-sequence.  
<DL COMPACT>
<DT><B>Open Sequence</B>

<DD>
Change the viewed sequence to be the same as the selected sequence.
The corresponding action is <B>XmhOpenSequence()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Add to Sequence</B>

<DD>
Add the selected messages to the selected sequence.
The corresponding action is <B>XmhAddToSequence()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Remove from Sequence</B>

<DD>
Remove the selected messages from the selected sequence.
The corresponding action is <B>XmhRemoveFromSequence()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Delete Sequence</B>

<DD>
Remove the selected sequence entirely.  The messages themselves are
not affected; they simply are no longer grouped together to define a
message-sequence.  The corresponding action is <B>XmhDeleteSequence()</B>.
<P>
</DL>
<A NAME="lbAT">&nbsp;</A>
<H3>VIEW COMMANDS</H3>

Commands in the <I>View</I> menu and in the buttonboxes of view windows
(which result from the <I>Message</I> menu command <B>View In New</B>)
correspond in functionality to commands of the same
name in the <I>Message</I> menu, but they operate on the viewed message 
rather than the selected messages or current message.
<P>
<DL COMPACT>
<DT><B>Close Window</B>

<DD>
When the viewed message is in a separate view window, this command will
close the view, after confirming the status of any unsaved edits.
The corresponding action procedure is <B>XmhCloseView()</B>.
<DT><B>Reply</B>

<DD>
Create a composition window in reply to the viewed message.
The related action procedure is <B>XmhViewReply()</B>.
<DT><B>Forward</B>

<DD>
Create a composition window whose body is initialized contain an 
encapsulation of
the viewed message.  The corresponding action is <B>XmhViewForward()</B>.
<DT><B>Use As Composition</B>

<DD>
Create a composition window whose body is initialized to be the contents of
the viewed message.  Any changes made in the composition window will be
saved in a new message in the ``drafts'' folder, and will not change the
original message.  An exception: if the viewed message was selected from
the ``drafts'' folder, (see BUGS) the original message is edited.
The action
procedure corresponding to this command is <B>XmhViewUseAsComposition()</B>.
<DT><B>Edit Message</B>

<DD>
This command enables the direct editing of the viewed message.
The action procedure is <B>XmhEditView()</B>.
<DT><B>Save Message</B>

<DD>
This command is insensitive until the message has been edited; when
activated, edits will be saved to the original message in the view.
The corresponding action is <B>XmhSaveView()</B>.
<DT><B>Print</B>

<DD>
Print the viewed message.  <I>xmh</I> prints by invoking
the <I><A HREF="../man1/enscript.1.php">enscript</A></I>(1) command, but this can be customized with the 
application-specific resource <B>PrintCommand</B>.
The corresponding action procedure is <B>XmhPrintView()</B>.
<DT><B>Delete</B>

<DD>
Marks the viewed message for deletion.
The corresponding action procedure is <B>XmhViewMarkDelete()</B>.
<P>
</DL>
<A NAME="lbAU">&nbsp;</A>
<H2>OPTIONS</H2>

The <I>Options</I> menu contains one entry.
<P>
<DL COMPACT>
<DT><B>Read in Reverse</B>

<DD>
When selected, a check mark appears in the margin of this menu entry.
Read in Reverse will switch the meaning of the next and previous 
messages, and will increment to the current message marker
in the opposite direction.  This is useful
if you want to read your messages in the order of most recent first.
The option acts as a toggle; select it from the menu a second time to
undo the effect.  The check mark appears when the option is selected.
<P>
</DL>
<A NAME="lbAV">&nbsp;</A>
<H2>COMPOSITION WINDOWS</H2>

Composition windows are created by selecting <B>Compose Message</B>
from the <I>Message</I> command menu, or by selecting 
<B>Reply</B> or <B>Forward</B> or <B>Use as Composition</B> from the
<I>Message</I> or <I>View</I> command menu.
These are used to compose mail messages.
Aside from the normal text editing functions, there are six command
buttons associated with composition windows:
<DL COMPACT>
<DT><B>Close Window</B>

<DD>
Close this composition window.  If changes have been made since the
most recent Save or Send, you will be asked to confirm losing them.
The corresponding action is <B>XmhCloseView()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Send</B>

<DD>
Send this composition.  The corresponding action is <B>XmhSend()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>New Headers</B>

<DD>
Replace the current composition with an empty message.  If changes have
been made since the most recent Send or Save, you will be
asked to confirm losing them. 
The corresponding action is <B>XmhResetCompose()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Compose Message</B>

<DD>
Bring up another new composition window.  The corresponding action 
is <B>XmhComposeMessage()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Save Message</B>

<DD>
Save this composition in your drafts folder.  Then you can safely close the
composition.  At some future date, you can continue working on the
composition by opening the drafts folder, selecting the message, and
using the ``Use as Composition'' command.  
The corresponding action is <B>XmhSave()</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>Insert</B>

<DD>
Insert a related message into the composition.  If the composition window
was created with a ``Reply'' command, the related message is the message
being replied to, otherwise no related message is defined and this button
is insensitive.  The message may be filtered before being inserted;
see <B>ReplyInsertFilter</B> under APPLICATION RESOURCES for more information.
The corresponding action is <B>XmhInsert()</B>.
<P>
</DL>
<A NAME="lbAW">&nbsp;</A>
<H2>ACCELERATORS</H2>

Accelerators are shortcuts.  They allow you to invoke commands
without using the menus, either from the keyboard or by using the pointer.
<P>

<I>xmh</I> defines pointer accelerators for common actions:
To select and view a message with a single click, use pointer button
2 on the message's entry in the table of contents.  To select and open
a folder or a sequence in a single action, make the folder or sequence
selection with pointer button 2.
<P>
To mark the highlighted messages,
or current message if none have been highlighted,
to be moved to a folder in a single action, use pointer button 3 to select
the target folder and simultaneously mark the messages.
Similarly, selecting a sequence with pointer button 3 will add 
the highlighted or current message(s) to that sequence.
In both of these operations, the selected folder or sequence 
and the viewed folder or sequence are not changed.
<P>
<I>xmh</I> defines the following keyboard accelerators over the surface of
the main window, except in the view area while editing a message:
<PRE>
        Meta-I          Incorporate New Mail
        Meta-C          Commit Changes
        Meta-R          Rescan Folder
        Meta-P          Pack Folder
        Meta-S          Sort Folder

        Meta-space      View Next Message
        Meta-c          Mark Copy
        Meta-d          Mark Deleted
        Meta-f          Forward the selected or current message
        Meta-m          Mark Move
        Meta-n          View Next Message
        Meta-p          View Previous Message
        Meta-r          Reply to the selected or current message
        Meta-u          Unmark

        Ctrl-V          Scroll the table of contents forward
        Meta-V          Scroll the table of contents backward
        Ctrl-v          Scroll the view forward
        Meta-v          Scroll the view backward
</PRE>

<P>
<A NAME="lbAX">&nbsp;</A>
<H2>TEXT EDITING COMMANDS</H2>

All of the text editing commands are actually defined by the Text widget
in the Athena Widget Set.
The commands may be bound to different keys than the defaults
described below through the X Toolkit Intrinsics key re-binding mechanisms.
See the X Toolkit Intrinsics and the Athena Widget Set documentation for 
more details.
<P>
Whenever you are asked to enter any text, you will be using a standard
text editing interface.  Various control and meta keystroke combinations
are bound to a somewhat Emacs-like set of commands.  In addition, the
pointer buttons may be used to select a portion of text or to move the
insertion point in the text.  Pressing pointer button 1 causes the
insertion point to move to the pointer.  Double-clicking
button 1 selects a word, triple-clicking selects a line, quadruple-clicking
selects a paragraph, and clicking rapidly five times selects
everything.  Any selection may be extended in
either direction by using pointer button 3.
<P>
In the following, a <I>line</I> refers to one displayed row of characters
in the window.  A <I>paragraph</I> refers to the text between carriage
returns.  Text within a paragraph is broken into lines for display based on the
current width of the window.
When a message is sent, text is broken into lines based upon the values
of the <B>SendBreakWidth</B> and <B>SendWidth</B> application-specific 
resources.
<P>
The following keystroke combinations are defined:
<P>
<PRE>

Ctrl-a    Beginning Of Line   Meta-b         Backward Word
Ctrl-b    Backward Character  Meta-f         Forward Word
Ctrl-d    Delete Next Character              Meta-iInsert File
Ctrl-e    End Of Line         Meta-k         Kill To End Of Paragraph
Ctrl-f    Forward Character   Meta-q         Form Paragraph
Ctrl-g    Multiply Reset      Meta-v         Previous Page
Ctrl-h    Delete Previous Character          Meta-yInsert Current Selection
Ctrl-j    Newline And Indent  Meta-z         Scroll One Line Down
Ctrl-k    Kill To End Of Line Meta-d         Delete Next Word
Ctrl-l    Redraw Display      Meta-D         Kill Word
Ctrl-m    Newline             Meta-h         Delete Previous Word
Ctrl-n    Next Line           Meta-H         Backward Kill Word
Ctrl-o    Newline And Backup  Meta-&lt;         Beginning Of File
Ctrl-p    Previous Line       Meta-&gt;         End Of File
Ctrl-r    Search/Replace Backward            Meta-]Forward Paragraph
Ctrl-s    Search/Replace Forward             Meta-[Backward Paragraph
Ctrl-t    Transpose Characters
Ctrl-u    Multiply by 4       Meta-Delete    Delete Previous Word
Ctrl-v    Next Page           Meta-Shift DeleteKill Previous Word
Ctrl-w    Kill Selection      Meta-Backspace Delete Previous Word
Ctrl-y    Unkill              Meta-Shift BackspaceKill Previous Word
Ctrl-z    Scroll One Line Up

In addition, the pointer may be used to copy and paste text:

     Button 1 Down  Start Selection
     Button 1 MotionAdjust Selection
     Button 1 Up    End Selection (copy)

     Button 2 Down  Insert Current Selection (paste)

     Button 3 Down  Extend Current Selection
     Button 3 MotionAdjust Selection
     Button 3 Up    End Selection (copy)
</PRE>

<P>
<A NAME="lbAY">&nbsp;</A>
<H2>CONFIRMATION DIALOG BOXES</H2>

Whenever you press a button that may cause you to lose some work or is
otherwise dangerous, a popup dialog box will appear asking you to confirm the
action.  This window will contain an ``Abort'' or ``No'' button and a
``Confirm'' or ``Yes''
button.  Pressing the ``No'' button cancels the operation, and pressing
the ``Yes'' will proceed with the operation.
<P>
When <I>xmh</I> is run under a Release 6 session manager it will prompt
the user for confirmation during a checkpoint operation.  The dialog
box asks whether any current changes should be committed (saved)
during the checkpoint.  Responding ``Yes'' will have the same effect
as pressing the ``Commit Changes'' or ``Save Message'' buttons in the
respective folder and view windows.  Responding ``No'' will cause the
checkpoint to continue successfully to completion without actually
saving any pending changes.  If the session manager disallows user
interaction during the checkpoint a ``Yes'' response is assumed; i.e.
all changes will be committed during the checkpoint.
<P>
Some dialog boxes contain messages from <I>MH</I>.  Occasionally when the
message is more than one line long,
not all of the text will be visible.  Clicking on the message field will 
cause the dialog box to resize so that you can read the entire message.
<P>
<A NAME="lbAZ">&nbsp;</A>
<H2>MESSAGE-SEQUENCES</H2>

An <I>MH</I> message sequence is just a set of messages associated with some name.
They are local to a particular folder; two different folders can have
sequences with the same name.  The sequence named ``all'' is predefined in
every folder; it consists of the set of all messages in that folder.  As
many as nine sequences may be defined for each folder, including 
the predefined ``all'' sequence.  (The
sequence ``cur'' is also usually defined for every folder; it consists of
only the current message.  <I>xmh</I> hides ``cur'' from the user, instead
placing a ``+'' by the current message.  Also, <I>xmh</I> does not support
<I>MH</I>'s``unseen'' sequence, so that one is also hidden from the user.)
<P>
The message sequences for a folder (including one for ``all'') are
displayed in the ``Sequence'' menu, below the sequence commands.
The table of contents (also known as the ``toc'') is at any one time
displaying one message sequence.  This is called the ``viewed sequence'',
and its name will be displayed in the toc title bar after the
folder name.  Also, at any time one of the sequences in the menu will
have a check mark next to it.  This is called the ``selected sequence''.
Note that the viewed sequence and the selected sequence are not necessarily
the same.  (This all pretty much corresponds to the way folders work.)
<P>
The <B>Open Sequence</B>, <B>Add to Sequence</B>, <B>Remove from Sequence</B>,
and <B>Delete Sequence</B> commands are active only if the viewed folder
contains message-sequences other than ``all'' sequence.
<P>

Note that none of the above actually affect whether a message is in the
folder.  Remember that a sequence is a set of messages within the folder;
the above operations just affect what messages are in that set.
<P>
To create a new sequence, select the ``Pick'' menu entry.  A new window will
appear, with lots of places to enter text. Basically, you can describe the
sequence's initial set of messages based on characteristics of the
message.  Thus, you can define a sequence to be all the messages that were
from a particular person, or with a particular subject, and so on.  You
can also connect things up with boolean operators, so you can select all
things from ``weissman'' with a subject containing ``xmh''.
<P>
The layout should be fairly obvious.  The simplest cases are the
easiest: just point to the proper field and type.  If you enter in more
than one field, it will only select messages which match all non-empty
fields.
<P>
The more complicated cases arise when you want things that match one field
or another one, but not necessarily both.  That's what all the ``or''
buttons are for.  If you want all things with subjects that include ``xmh'' or
``xterm'', just press the ``or'' button next to the ``Subject:'' field.
Another box will appear where you can enter another subject.
<P>
If you want all things either from ``weissman'' or with subject ``xmh'', but
not necessarily both, select the ``-Or-'' button.  This will essentially
double the size of the form.  You can then enter ``weissman'' in a from: box
on the top half, and ``xmh'' in a subject: box on the lower part.
<P>
If you select the ``Skip'' button, then only those messages that
<I>don't</I> match the fields on that row are included.
<P>
Finally, in the bottom part of the window will appear several more boxes.
One is the name of the sequence you're defining.  (It defaults to the name
of the selected sequence when ``Pick'' was pressed, or to ``temp'' if
``all'' was the selected sequence.)  Another box defines which sequence to
look through for potential members of this sequence; it defaults to the
viewed sequence when ``Pick'' was pressed.
<P>
Two more boxes define a date range; only messages within that date range
will be considered.  These dates must be entered in RFC 822-style format: each
date is of the form ``dd mmm yy hh:mm:ss zzz'', where dd is a one or two
digit day of the month, mmm is the three-letter abbreviation for a month,
and yy is a year.  The remaining fields are optional: hh, mm, and ss
specify a time of day, and zzz selects a time zone.  Note that if the time
is left out, it defaults to midnight; thus if you select a range of ``7
nov 86'' - ``8 nov 86'', you will only get messages from the 7th, as all
messages on the 8th will have arrived after midnight.
<P>
``Date field'' specifies which field in the header to look at for
this date range; it defaults to ``Date''.  If the sequence
you're defining already exists, you can optionally merge the old set with
the new; that's what the ``Yes'' and ``No'' buttons are all about.
Finally, you can ``OK'' the whole thing, or ``Cancel'' it.
<P>
In general, most people will rarely use these features.  However, it's
nice to occasionally use ``Pick'' to find some messages, look through
them, and then hit ``Delete Sequence'' to put things back in their original
state.
<P>
<A NAME="lbBA">&nbsp;</A>
<H2>WIDGET HIERARCHY</H2>

In order to specify resources, it is useful to know the hierarchy of 
widgets which compose <I>xmh</I>.  In the notation below, indentation
indicates hierarchical structure.  The widget class name is given first,
followed by the widget instance name.
The application class name is Xmh.
<P>

The hierarchy of the main toc and view window is identical for additional
toc and view windows, except that a TopLevelShell widget is inserted
in the hierarchy between the application shell and the Paned widget.
<P>
<PRE>

Xmh xmh
     Paned xmh
          SimpleMenu  folderMenu
               SmeBSB  open
               SmeBSB  openInNew
               SmeBSB  create
               SmeBSB  delete
               SmeLine  line
               SmeBSB  close
          SimpleMenu  tocMenu
               SmeBSB  inc
               SmeBSB  commit
               SmeBSB  pack
               SmeBSB  sort
               SmeBSB  rescan
          SimpleMenu  messageMenu
               SmeBSB  compose
               SmeBSB  next
               SmeBSB  prev
               SmeBSB  delete
               SmeBSB  move
               SmeBSB  copy
               SmeBSB  unmark
               SmeBSB  viewNew
               SmeBSB  reply
               SmeBSB  forward
               SmeBSB  useAsComp
               SmeBSB  print
          SimpleMenu  sequenceMenu
               SmeBSB  pick
               SmeBSB  openSeq
               SmeBSB  addToSeq
               SmeBSB  removeFromSeq
               SmeBSB  deleteSeq
               SmeLine  line
               SmeBSB  all
          SimpleMenu  viewMenu
               SmeBSB  reply
               SmeBSB  forward
               SmeBSB  useAsComp
               SmeBSB  edit
               SmeBSB  save
               SmeBSB  print
          SimpleMenu  optionMenu
               SmeBSB  reverse
          Viewport.Core  menuBox.clip
               Box  menuBox
                    MenuButton  folderButton
                    MenuButton  tocButton
                    MenuButton  messageButton
                    MenuButton  sequenceButton
                    MenuButton  viewButton
                    MenuButton  optionButton
          Grip  grip
          Label folderTitlebar
          Grip  grip
          Viewport.Core  folders.clip
               Box  folders
                    MenuButton  inbox
                    MenuButton  drafts
                         SimpleMenu  menu
                              SmeBSB &lt;folder_name&gt;
                                   .
                                   .
                                   .

          Grip  grip
          Label  tocTitlebar
          Grip  grip
          Text toc
               Scrollbar  vScrollbar
          Grip  grip
          Label  viewTitlebar
          Grip  grip
          Text  view
               Scrollbar  vScrollbar
               Scrollbar  hScrollbar

<I>The hierarchy of the Create Folder popup dialog box:</I>

     TransientShell  prompt
          Dialog  dialog
               Label  label
               Text  value
               Command  okay
               Command  cancel

<I>The hierarchy of the Notice dialog box, which reports messages from MH:</I>

     TransientShell  notice
          Dialog  dialog
               Label  label
               Text  value
               Command  confirm

<I>The hierarchy of the Confirmation dialog box:</I>

     TransientShell  confirm
          Dialog  dialog
               Label  label
               Command  yes
               Command  no

<I>The hierarchy of the dialog box which reports errors:</I>

     TransientShell  error
          Dialog  dialog
               Label  label
               Command  OK

<I>The hierarchy of the composition window:</I>

     TopLevelShell  xmh
          Paned  xmh
               Label  composeTitlebar
               Text  comp
               Viewport.Core  compButtons.clip
                    Box  compButtons
                         Command  close
                         Command  send
                         Command  reset
                         Command  compose
                         Command  save
                         Command  insert

<I>The hierarchy of the view window:</I>

     TopLevelShell  xmh
          Paned  xmh
               Label  viewTitlebar
               Text  view
               Viewport.Core  viewButtons.clip
                    Box  viewButtons
                         Command  close
                         Command  reply
                         Command  forward
                         Command  useAsComp
                         Command  edit
                         Command  save
                         Command  print
                         Command  delete

<I>The hierarchy of the pick window:</I>
<I>(Unnamed widgets have no name.)</I>

     TopLevelShell  xmh
          Paned  xmh
               Label  pickTitlebar
               Viewport.Core  pick.clip
                    Form  form
                         Form  groupform
<I>The first 6 rows of the pick window have identical structure:</I>
                              Form  rowform
                                   Toggle
                                   Toggle
                                   Label
                                   Text
                                   Command

                              Form  rowform
                                   Toggle
                                   Toggle
                                   Text
                                   Text
                                   Command
                              Form  rowform
                                   Command
               Viewport.core  pick.clip
                    Form  form
                         From  groupform
                              Form  rowform
                                   Label
                                   Text
                                   Label
                                   Text
                              Form  rowform
                                   Label
                                   Text
                                   Label
                                   Text
                                   Label
                                   Text
                              Form  rowform
                                   Label
                                   Toggle
                                   Toggle
                              Form  rowform
                                   Command
                                   Command
                              
</PRE>

<A NAME="lbBB">&nbsp;</A>
<H2>APPLICATION-SPECIFIC RESOURCES</H2>

<P>

The application class name is <B>Xmh</B>.
Application-specific resources are listed below by name.
Application-specific resource class names always begin with an upper case
character, but unless noted, are otherwise identical to the instance names
given below.
<P>

Any of these options may also be specified on the command line by
using the X Toolkit Intrinsics resource specification mechanism.
Thus, to run <I>xmh</I> showing all message headers,
<BR>

% xmh -xrm '*HideBoringHeaders:off'
<P>

If <B>TocGeometry</B>, <B>ViewGeometry</B>, <B>CompGeometry</B>, or
<B>PickGeometry</B> are not
specified, then the value of <B>Geometry</B> is used instead.  If the resulting
height is not specified (e.g., &quot;&quot;, &quot;=500&quot;, &quot;+0-0&quot;), then the default
height of windows is calculated from fonts and line counts. If
the width is not specified (e.g., &quot;&quot;, &quot;=x300&quot;, &quot;-0+0&quot;), then half of the
display width is used.  If unspecified, the height of a pick window
defaults to half the height of the display.
<P>

The following resources are defined:
<DL COMPACT>
<DT><B>banner</B>

<DD>
A short string that is the default label of the folder, Table of Contents,
and view.  The default shows the program name, vendor, and release.
</DL>
<P>

<DL COMPACT>
<DT><B>blockEventsOnBusy</B>

<DD>
Whether to disallow user input and show a busy cursor while <I>xmh</I> is
busy processing a command.  If false, the user can `mouse ahead' and
type ahead; if true, user input is discarded when processing lengthy
<I>mh</I> commands.  The default is true.
</DL>
<P>

<DL COMPACT>
<DT><B>busyCursor</B>

<DD>
The name of the symbol used to represent the position of the pointer,
displayed if <B>blockEventsOnBusy</B> is true, when <I>xmh</I> is
processing a time-consuming command.
The default is &quot;watch&quot;.
</DL>
<P>

<DL COMPACT>
<DT><B>busyPointerColor</B>

<DD>
The foreground color of the busy cursor.  Default is XtDefaultForeground.
</DL>
<P>

<DL COMPACT>
<DT><B>checkFrequency</B>

<DD>
How often to check for new mail, make checkpoints, and rescan the Table
of Contents, in minutes.  If <B>checkNewMail</B> is true, <I>xmh</I> checks
to see if you have new mail each interval.  If <B>makeCheckpoints</B> is
true, checkpoints are made every fifth interval.  Also every fifth 
interval, the Table of Contents is checked for inconsistencies with the
file system, and rescanned if out of date.  To prevent all of these checks
from occurring, set <B>CheckFrequency</B> to 0.  The default is 1.
This resource is retained for backward compatibility with user resource
files; see also <B>checkpointInterval</B>, <B>mailInterval</B>,
and <B>rescanInterval</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>checkNewMail</B>

<DD>
If true, <I>xmh</I> will check at regular intervals to see if new mail
has arrived for any of the top level folders and any opened subfolders.
A visual indication will be given if new mail is waiting to be incorporated
into a top level folder.
Default is true.
The interval can be adjusted with <B>mailInterval</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>checkpointInterval </B>(class <B>Interval</B>)

<DD>
Specifies in minutes how often to make checkpoints of volatile state,
if <B>makeCheckpoints</B> is true.
The default is 5 times the value of <B>checkFrequency</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>checkpointNameFormat</B>

<DD>
Specifies how checkpointed files are to be named.  The value of this
resource will be used to compose a file name by inserting the message
number as a string in place of the required single occurrence of `%d'.  If
the value of the resource is the empty string, or if no `%d' occurs in
the string, or if &quot;%d&quot; is the value of the resource, the default will be
used instead.  The default is &quot;%d.CKP&quot;.  Checkpointing is done in the 
folder of origin unless an absolute pathname is given.  <I>xmh</I> does
not assist the user in recovering checkpoints, nor does it provide for
removal of the checkpoint files.
</DL>
<P>

<DL COMPACT>
<DT><B>commandButtonCount</B>

<DD>
The number of command buttons to create in a button box in between the toc
and the view areas of the main window.  <I>xmh</I> will create these buttons
with the names <I>button1, button2</I> and so on, in a box with the name
<I>commandBox</I>.   The default is 0.
<I>xmh</I> users can specify labels and actions for the buttons in a private 
resource file; see the section ACTIONS AND INTERFACE CUSTOMIZATION.
</DL>
<P>

<DL COMPACT>
<DT><B>compGeometry</B>

<DD>
Initial geometry for windows containing compositions.
</DL>
<P>

<DL COMPACT>
<DT><B>cursor</B>

<DD>
The name of the symbol used to represent the pointer.  Default is ``left_ptr''.
</DL>
<P>

<DL COMPACT>
<DT><B>debug</B>

<DD>
Whether or not to print information to stderr as <I>xmh</I> runs.
Default is false.
</DL>
<P>

<DL COMPACT>
<DT><B>draftsFolder</B>

<DD>
The folder used for message drafts.  Default is ``drafts''.
</DL>
<P>

<DL COMPACT>
<DT><B>geometry</B>

<DD>
Default geometry to use.  Default is none.
</DL>
<P>

<DL COMPACT>
<DT><B>hideBoringHeaders</B>

<DD>
If ``on'', then <I>xmh</I> will attempt to skip uninteresting header lines
within messages by scrolling them off the top of the view.
Default is ``on''.
</DL>
<P>

<DL COMPACT>
<DT><B>initialFolder</B>

<DD>
Which folder to display on startup.  May also be set with the command-line
option <B>-initial</B>.  Default is ``inbox''.  
</DL>
<P>

<DL COMPACT>
<DT><B>initialIncFile</B>

<DD>
The absolute path name of your incoming mail drop file.
In some installations, for example those using the Post Office Protocol,
no file is appropriate.
In this case, <B>initialIncFile</B> should not be specified,
or may be specified as the empty string,
and <I>inc</I> will be invoked without a -file argument.
By default, this resource has no value.
This resource is ignored if <I>xmh</I> finds an <I>.xmhcheck</I> file; see
the section on multiple mail drops.
</DL>
<P>

<DL COMPACT>
<DT><B>mailInterval (</B>class<B> Interval)</B>

<DD>
Specifies the interval in minutes at which the mail should be checked, if
<B>mailWaitingFlag</B> or <B>checkNewMail</B> is true.
The default is the value of <B>checkFrequency</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>mailPath</B>

<DD>
The full path prefix for locating your mail folders.  May also be set
with the command line option, <B>-path</B>.  The default is the
Path component in the <I>MH</I> profile, or ``$HOME/Mail'' if none.
</DL>
<P>

<DL COMPACT>
<DT><B>mailWaitingFlag</B>

<DD>
If true, <I>xmh</I> will attempt to set an indication in its icon when
new mail is waiting to be retrieved.  If <B>mailWaitingFlag</B> is true, then
<B>checkNewMail</B> is assumed to be true as well.  The <B>-flag</B> command
line option is a quick way to turn on this resource.
</DL>
<P>

<DL COMPACT>
<DT><B>makeCheckpoints</B>

<DD>
If true, <I>xmh</I> will attempt to save checkpoints of volatile edits.
The default is false.  The frequency of checkpointing is controlled by the
resource <B>checkpointInterval</B>.  For the location of checkpointing, see
<B>checkpointNameFormat</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>mhPath</B>

<DD>
What directory in which to find the <I>MH</I> commands.  If a command isn't
found in the user's path, then the path specified here is used.
Default is ``/usr/local/mh6''.
</DL>
<P>

<DL COMPACT>
<DT><B>newMailBitmap </B>(class <B>NewMailBitmap</B>)

<DD>
The bitmap to show in the folder button when a folder has new mail.
The default is ``black6''.
</DL>
<P>

<DL COMPACT>
<DT><B>newMailIconBitmap </B>(class <B>NewMailBitmap</B>)

<DD>
The bitmap suggested to the window manager for the icon when any folder
has new mail.  The default is ``flagup''.
</DL>
<P>

<DL COMPACT>
<DT><B>noMailBitmap (</B>class<B> NoMailBitmap)</B>

<DD>
The bitmap to show in the folder button when a folder has no new mail.
The default is ``box6''.
</DL>
<P>

<DL COMPACT>
<DT><B>noMailIconBitmap (</B>class<B> NoMailBitmap)</B>

<DD>
The bitmap suggested to the window manager for the icon when no folders
have new mail.  The default is ``flagdown''.
</DL>
<P>

<DL COMPACT>
<DT><B>pickGeometry</B>

<DD>
Initial geometry for pick windows.
</DL>
<P>

<DL COMPACT>
<DT><B>pointerColor</B>

<DD>
The foreground color of the pointer.  Default is XtDefaultForeground.
</DL>
<P>

<DL COMPACT>
<DT><B>prefixWmAndIconName</B>

<DD>
Whether to prefix the window and icon name with &quot;xmh: &quot;.  Default is true.
</DL>
<P>

<DL COMPACT>
<DT><B>printCommand</B>

<DD>
An <I>sh</I> command to execute to print a message.  Note that stdout and 
stderr must be specifically redirected.  If a message or range of messages is
selected for printing, the full file paths of each message file are
appended to the specified print command.  The default is ``enscript &gt;/dev/null
2&gt;/dev/null''.
</DL>
<P>

<DL COMPACT>
<DT><B>replyInsertFilter</B>

<DD>
An <I>sh</I> command to be executed when the <I>Insert</I> button is activated
in a composition window.  The full path and filename of the source
message is appended to the command before being passed to <I><A HREF="../man1/sh.1.php">sh</A></I>(1).
The default filter is <I>cat</I>; i.e. it inserts the entire message
into the composition.  Interesting filters are:
<I>sed 's/^/&gt; /'</I> or
<I>awk -e '{print &quot;    &quot; $0}'</I> or
<I>&lt;mh directory&gt;/lib/mhl -form mhl.body</I>.
</DL>
<P>

<DL COMPACT>
<DT><B>rescanInterval </B>(class <B>Interval</B>)

<DD>
How often to check the Table of Contents of currently viewed folders
and of folders with messages currently being viewed, and to update the Table
of Contents if <I>xmh</I> sees inconsistencies with the file system in these
folders.
The default is 5 times the value of <B>checkFrequency</B>.
</DL>
<P>

<DL COMPACT>
<DT><B>reverseReadOrder</B>

<DD>
When true, the next message will be the message prior to the current message
in the table of contents, and the previous message will be the message
after the current message in the table of contents.  The default is false.
</DL>
<P>

<DL COMPACT>
<DT><B>sendBreakWidth</B>

<DD>
When a message is sent from <I>xmh</I>, lines longer than this value will be
split into multiple lines, each of which is no longer than <B>SendWidth</B>.
This value may be overridden for a single message by inserting an additional
line in the message header of the form <I>SendBreakWidth: value</I>.  This
line will be removed from the header before the message is sent.
The default is 2000 (to allow for sending mail containing source patches).
</DL>
<P>

<DL COMPACT>
<DT><B>sendWidth</B>

<DD>
When a message is sent from <I>xmh</I>, lines longer than <B>SendBreakWidth</B>
characters will be split into multiple lines, each of which is no longer than
this value.
This value may be overridden for a single message by inserting an additional
line in the message header of the form <I>SendWidth: value</I>.  This
line will be removed from the header before the message is sent.
The default is 72.
</DL>
<P>

<DL COMPACT>
<DT><B>showOnInc</B>

<DD>
Whether to automatically show the current message after incorporating new
mail.  Default is true.
</DL>
<P>

<DL COMPACT>
<DT><B>skipCopied</B>

<DD>
Whether to skip over messages marked for copying when using ``View Next
Message'' and ``View Previous Message''.  Default is true.
</DL>
<P>

<DL COMPACT>
<DT><B>skipDeleted</B>

<DD>
Whether to skip over messages marked for deletion when using ``View Next
Message'' and ``View Previous Message''.  Default is true.
</DL>
<P>

<DL COMPACT>
<DT><B>skipMoved</B>

<DD>
Whether to skip over messages marked for moving to other folders when
using ``View Next Message'' and ``View Previous Message''.  Default is true.
</DL>
<P>

<DL COMPACT>
<DT><B>stickyMenu</B>

<DD>
If true, when popup command menus are used, the most recently selected
entry will be under the cursor when the menu pops up.  Default is false.
See the file <I>clients/xmh/Xmh.sample</I> for an example of how to 
specify resources for popup command menus.
</DL>
<P>

<DL COMPACT>
<DT><B>tempDir</B>

<DD>
Directory for <I>xmh</I> to store temporary files.  For privacy, a user
might want to change this to a private directory.  Default is ``/tmp''.
</DL>
<P>

<DL COMPACT>
<DT><B>tocGeometry</B>

<DD>
Initial geometry for main <I>xmh</I> toc and view windows.
</DL>
<P>

<DL COMPACT>
<DT><B>tocPercentage</B>

<DD>
The percentage of the main window that is used to display the Table of 
Contents.  Default is 33.
</DL>
<P>

<DL COMPACT>
<DT><B>tocWidth</B>

<DD>
How many characters to generate for each message in a folder's table of
contents.  Default is 100.  Use less if the geometry of the main <I>xmh</I>
window results in the listing being clipped at the right hand boundary, or
if you plan to use <I>mhl</I> a lot,
because it will be faster, and the extra characters may not be useful.
</DL>
<P>

<DL COMPACT>
<DT><B>viewGeometry</B>

<DD>
Initial geometry for windows showing a view of a message.
<P>
</DL>
<A NAME="lbBC">&nbsp;</A>
<H2>MULTIPLE MAIL DROPS</H2>

<P>

Users may need to incorporate mail from multiple spool files or mail drops.
If incoming mail is forwarded to the <I>MH slocal</I> program, it can
be sorted as specified by the user into multiple incoming mail drops.
Refer to the <I>MH</I> man page for <I>slocal</I> to learn how to specify
forwarding and the automatic sorting of incoming mail in a <I>.maildelivery</I>
file.
<P>

To inform <I>xmh</I> about the various mail drops, create a file in your
home directory called <I>.xmhcheck</I>.  In this file, a mapping between
existing folder names and mail drops is created by giving a folder name 
followed by the absolute pathname of the mail drop site, with some white
space separating them, one mapping per line.  <I>xmh</I> will read this file
whether or not resources are set for notification of new mail arrival, and
will allow incorporation of new mail into any folder with a mail drop.
<I>xmh</I> will invoke <I>inc</I> with the <I>-file</I> argument,
and if <I>xmh</I> has been requested to check for new mail,
it will check directly, instead of using <I>msgchk</I>.
<P>

An example of <I>.xmhcheck</I> file format, for the folders ``inbox'' and
``xpert'':
<PRE>
inbox     /usr/spool/mail/converse
xpert     /users/converse/maildrops/xpert
</PRE>

<P>
<A NAME="lbBD">&nbsp;</A>
<H2>ACTIONS AND INTERFACE CUSTOMIZATION</H2>

<P>

Because <I>xmh</I> provides action procedures which correspond to command
functionality and installs accelerators, users can customize accelerators
and new button functionality in a private resource file.
For examples of specifying customized resources, see the file
<I>mit/clients/xmh/Xmh.sample</I>.  To understand the syntax, see the 
Appendix of the <I>X Toolkit Intrinsics</I> specification
on <I>Translation Table Syntax</I>, and any general explanation of
using and specifying <I>X</I> resources.
Unpredictable results can occur if 
actions are bound to events or widgets for which they were not designed.
<P>

Here's an example of how to bind actions to your own <I>xmh</I> buttons,
and how to redefine the default accelerators so that the Meta key is 
not required, in case you don't have access to the sample file mentioned
above.
<P>
<PRE>
! To create buttons in the middle of the main window and give them semantics:

Xmh*CommandButtonCount:       5

Xmh*commandBox.button1.label: Inc
Xmh*commandBox.button1.translations: #override	&lt;Btn1Down&gt;,&lt;Btn1Up&gt;: XmhIncorporateNewMail() unset()


Xmh*commandBox.button2.label: Compose
Xmh*commandBox.button2.translations: #override	&lt;Btn1Down&gt;,&lt;Btn1Up&gt;: XmhComposeMessage() unset()


Xmh*commandBox.button3.label: Next
Xmh*commandBox.button3.translations: #override	&lt;Btn1Down&gt;,&lt;Btn1Up&gt;: XmhViewNextMessage() unset()


Xmh*commandBox.button4.label: Delete
Xmh*commandBox.button4.translations: #override	&lt;Btn1Down&gt;,&lt;Btn1Up&gt;: XmhMarkDelete() unset()


Xmh*commandBox.button5.label: Commit
Xmh*commandBox.button5.translations: #override	&lt;Btn1Down&gt;,&lt;Btn1Up&gt;: XmhCommitChanges() unset()


! To redefine the accelerator bindings to exclude modifier keys,
! and add your own keyboard accelerator for Compose Message:

Xmh*tocMenu.accelerators: #override\n	!:&lt;Key&gt;I:   XmhIncorporateNewMail()\n	!:&lt;Key&gt;C: XmhCommitChanges()\n	!:&lt;Key&gt;R:XmhForceRescan()\n	!:&lt;Key&gt;P:XmhPackFolder()\n	!:&lt;Key&gt;S:XmhSortFolder()\n





Xmh*messageMenu.accelerators: #override\n	!:&lt;Key&gt;E:    XmhComposeMessage()\n	!&lt;Key&gt;space:    XmhViewNextMessage()\n	!:&lt;Key&gt;c:XmhMarkCopy()\n	!:&lt;Key&gt;d:XmhMarkDelete()\n	!:&lt;Key&gt;f:XmhForward()\n	!:&lt;Key&gt;m:XmhMarkMove()\n	!:&lt;Key&gt;n:XmhViewNextMessage()\n	!:&lt;Key&gt;p:XmhViewPreviousMessage()\n	!:&lt;Key&gt;r:XmhReply()\n	!:&lt;Key&gt;u:XmhUnmark()\n
</PRE>

<P>

<I>xmh</I> provides action procedures
which correspond to entries in the command menus; these are given in the
sections describing menu commands, not here.
In addition to the actions corresponding to commands in the menus,
these action routines are defined:
<DL COMPACT>
<DT><B>XmhPushFolder(</B>[<I>foldername, ...</I>]<B>)</B>

<DD>
This action pushes each of its argument(s) onto a stack of foldernames.
If no arguments are given, the selected folder is pushed onto the stack.
<DT><B>XmhPopFolder()</B>

<DD>
This action pops one foldername from the stack and sets the selected folder.
<DT><B>XmhPopupFolderMenu()</B>

<DD>
This action should always be taken when the user selects a folder button.
A folder button represents a folder and zero or more subfolders.  The menu
of subfolders is built upon the first reference, by this routine.  If there
are no subfolders, this routine will mark the folder as having no subfolders,
and no menu will be built.  In that case the menu button emulates a toggle
button.  When subfolders exist, the menu will popup, using the menu button
action PopupMenu().
<DT><B>XmhSetCurrentFolder()</B>

<DD>
This action allows menu buttons to emulate toggle buttons in the function
of selecting a folder.  This action is for menu button widgets only,
and sets the selected folder.
<DT><B>XmhLeaveFolderButton()</B>

<DD>
This action ensures that the menu button behaves properly when the user
moves the pointer out of the menu button window.
<DT><B>XmhPushSequence(</B>[<I>sequencename, ...</I>]<B>)</B>

<DD>
This action pushes each of its arguments onto the stack of sequence names.
If no arguments are given, the selected sequence is pushed onto the stack.
<DT><B>XmhPopSequence()</B>

<DD>
This action pops one sequence name from the stack of sequence names,
which then becomes the selected sequence.
<DT><B>XmhPromptOkayAction()</B>

<DD>
This action is equivalent to pressing the okay button in the Create Folder popup.
<DT><B>XmhReloadSeqLists()</B>

<DD>
This action rescans the contents of the public <I>MH</I> sequences for the
currently opened folder and updates the sequence menu if necessary.
<DT><B>XmhShellCommand(</B><I> parameter </I>[<I>, parameter</I>]<B>)</B>

<DD>
At least one parameter must be specified.  The parameters will be concatenated
with a space character separator, into a single string, and the list of
selected messages, or if no messages are selected, the current message, 
will be appended to the string of parameters.  The string will be executed
as a shell command.  The messages are always given as absolute pathnames.
It is an error to cause this action to execute when there are no selected
messages and no current message.
<DT><B>XmhCheckForNewMail()</B>

<DD>
This action will check all mail drops known to xmh.  If no mail drops have
been specified by the user either through the <I>.xmhcheck</I> file or by
the <B>initialIncFile</B> resource, the <I>MH</I> command <I>msgchk</I> is
used to check for new mail, otherwise, <I>xmh</I> checks directly.
<DT><B>XmhWMProtocols(</B>[<B>wm_delete_window</B>] [<B>wm_save_yourself</B>])

<DD>
This action is responsible for participation in window manager communication
protocols.  It responds to delete window and save yourself messages.
The user can cause <I>xmh</I> to respond to one or both of these protocols,
exactly as if the window manager had made the request, by invoking the 
action with the appropriate parameters.  The action is insensitive to the 
case of the string parameters.  If the event received is a ClientMessage 
event and parameters are present, at least one of the parameters must 
correspond to the protocol requested by the event for the request to be 
honored by <I>xmh</I>.
<P>
</DL>
<A NAME="lbBE">&nbsp;</A>
<H2>CUSTOMIZATION USING <I>MH</I></H2>

The initial text displayed in a composition window is generated by
executing the corresponding <I>MH</I> command; i.e. <I>comp</I>, <I>repl</I>,
or <I>forw</I>, and therefore message components may be customized as
specified for those commands.  <I>comp</I> is executed only once per
invocation of <I>xmh</I> and the message template is re-used for every
successive new composition.
<P>

<I>xmh</I> uses <I>MH</I> commands, including <I>inc</I>, <I>msgchk</I>,
<I>comp</I>, <I>send</I>, <I>repl</I>, <I>forw</I>,
<I>refile</I>, <I>rmm</I>, <I>pick</I>, <I>pack</I>, <I>sort</I>, and <I>scan</I>. 
Some flags for these commands can be specified
in the <I>MH</I> profile; <I>xmh</I> may override them.  The application
resource <B>debug</B> can be set to true to see how <I>xmh</I>
uses <I>MH</I> commands.
<P>
<A NAME="lbBF">&nbsp;</A>
<H2>ENVIRONMENT</H2>

<BR>

HOME - users's home directory
<BR>

MH - to get the location of the <I>MH</I> profile file
<A NAME="lbBG">&nbsp;</A>
<H2>FILES</H2>

~/.mh_profile - <I>MH</I> profile, used if the MH environment variable is not set
<BR>

~/Mail - directory of folders, used if the <I>MH</I> profile cannot be found
<BR>

~/.xmhcheck - optional, for multiple mail drops in cooperation with <I>slocal</I>.
<BR>

/usr/local/mh6 - <I>MH</I> commands, as a last resort, see <B>mhPath</B>.
<BR>

~/Mail/&lt;folder&gt;/.xmhcache - <I>scan</I> output in each folder
<BR>

~/Mail/&lt;folder&gt;/.mh_sequences - sequence definitions, in each folder
<BR>

/tmp - temporary files, see <B>tempDir</B>.
<A NAME="lbBH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A HREF="../man7/X.7x.php">X</A>(7x), <A HREF="../man1/xrdb.1.php">xrdb</A>(1), X Toolkit Intrinsics, Athena Widget Set, <A HREF="../man1/mh.1.php">mh</A>(1), <A HREF="../man1/enscript.1.php">enscript</A>(1)
<BR>

At least one book has been published about <I>MH</I> and <I>xmh</I>.
<A NAME="lbBI">&nbsp;</A>
<H2>BUGS</H2>

- When the user closes a window, all windows which are transient for that
window should also be closed by <I>xmh</I>.
<BR>

- When <B>XmhUseAsComposition</B> and <B>XmhViewUseAsComposition</B> operate
on messages in the <B>DraftsFolder</B>, <I>xmh</I> disallows editing of the
composition if the same message is also being viewed in another window.
<BR>

- Occasionally after committing changes, the table of contents will appear 
to be completely blank when there are actually messages present.
When this happens, refreshing the display, or typing Control-L in the 
table of contents, will often cause the correct listing to appear.
If this doesn't work, force a rescan of the folder.
<BR>

- Should recognize and use the ``unseen'' message-sequence.
<BR>

- Should determine by itself if the user hasn't used <I>MH</I> before, and
offer to create the .mh_profile, instead of hanging on inc.
<BR>

- A few commands are missing (rename folder, resend message).
<BR>

- WM_DELETE_WINDOW protocol doesn't work right when requesting deletion
of the first toc and view, while trying to keep other <I>xmh</I> windows around.
<BR>

- Doesn't support annotations when replying to messages.
<BR>

- Doesn't allow folders to be shared without write permission.
<BR>

- Doesn't recognize private sequences.
<BR>

- <I>MH</I> will report that the <I>.mh_sequences</I> file is poorly formatted
if any sequence definition in a particular folder contains more
than <I>BUFSIZ</I> characters.  <I>xmh</I> tries to capture these messages
and display them when they occur, but it cannot correct the problem.
<BR>

- Should save a temporary checkpoint file rather than requiring changes
to be committed in the non-shutdown case.
<A NAME="lbBJ">&nbsp;</A>
<H2>AUTHOR</H2>

Terry Weissman, formerly of Digital Western Research Laboratory
<BR>

Donna Converse, MIT X Consortium
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">INSTALLATION</A><DD>
<DT><A HREF="#lbAG">BASIC SCREEN LAYOUT</A><DD>
<DT><A HREF="#lbAH">XMH AND THE ATHENA WIDGET SET</A><DD>
<DL>
<DT><A HREF="#lbAI">SCROLLBARS</A><DD>
<DT><A HREF="#lbAJ">BUTTONBOXES, BUTTONS, AND MENUS</A><DD>
<DT><A HREF="#lbAK">ADJUSTING THE RELATIVE SIZES OF AREAS</A><DD>
</DL>
<DT><A HREF="#lbAL">PROCESSING YOUR MAIL</A><DD>
<DL>
<DT><A HREF="#lbAM">FOLDERS AND SEQUENCES</A><DD>
<DT><A HREF="#lbAN">FOLDER COMMANDS</A><DD>
<DT><A HREF="#lbAO">HIGHLIGHTED MESSAGES, SELECTED MESSAGES</A><DD>
<DT><A HREF="#lbAP">AND THE CURRENT MESSAGE</A><DD>
<DT><A HREF="#lbAQ">TABLE OF CONTENTS COMMANDS</A><DD>
<DT><A HREF="#lbAR">MESSAGE COMMANDS</A><DD>
<DT><A HREF="#lbAS">SEQUENCE COMMANDS</A><DD>
<DT><A HREF="#lbAT">VIEW COMMANDS</A><DD>
</DL>
<DT><A HREF="#lbAU">OPTIONS</A><DD>
<DT><A HREF="#lbAV">COMPOSITION WINDOWS</A><DD>
<DT><A HREF="#lbAW">ACCELERATORS</A><DD>
<DT><A HREF="#lbAX">TEXT EDITING COMMANDS</A><DD>
<DT><A HREF="#lbAY">CONFIRMATION DIALOG BOXES</A><DD>
<DT><A HREF="#lbAZ">MESSAGE-SEQUENCES</A><DD>
<DT><A HREF="#lbBA">WIDGET HIERARCHY</A><DD>
<DT><A HREF="#lbBB">APPLICATION-SPECIFIC RESOURCES</A><DD>
<DT><A HREF="#lbBC">MULTIPLE MAIL DROPS</A><DD>
<DT><A HREF="#lbBD">ACTIONS AND INTERFACE CUSTOMIZATION</A><DD>
<DT><A HREF="#lbBE">CUSTOMIZATION USING <I>MH</I></A><DD>
<DT><A HREF="#lbBF">ENVIRONMENT</A><DD>
<DT><A HREF="#lbBG">FILES</A><DD>
<DT><A HREF="#lbBH">SEE ALSO</A><DD>
<DT><A HREF="#lbBI">BUGS</A><DD>
<DT><A HREF="#lbBJ">AUTHOR</A><DD>
</DL>

</div>






</div>




</body>
</html>
