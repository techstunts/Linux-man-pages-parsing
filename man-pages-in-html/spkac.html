
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>SPKAC</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">


<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>SPKAC</H1>
Section: OpenSSL (1)<BR>Updated: 2003-01-30<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

spkac - SPKAC printing and generating utility
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>
<B>openssl</B> <B>spkac</B>
[<B>-in filename</B>]
[<B>-out filename</B>]
[<B>-key keyfile</B>]
[<B>-passin arg</B>]
[<B>-challenge string</B>]
[<B>-pubkey</B>]
[<B>-spkac spkacname</B>]
[<B>-spksect section</B>]
[<B>-noout</B>]
[<B>-verify</B>]
[<B>-engine id</B>]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAD"></A>
The <B>spkac</B> command processes Netscape signed public key and challenge
(<FONT SIZE="-1">SPKAC</FONT>) files. It can print out their contents, verify the signature and
produce its own SPKACs from a supplied private key.
<A NAME="lbAE">&nbsp;</A>
<H2>COMMAND OPTIONS</H2>

<A NAME="ixAAE"></A>
<DL COMPACT>
<DT><B>-in filename</B><DD>
<A NAME="ixAAF"></A>
This specifies the input filename to read from or standard input if this
option is not specified. Ignored if the <B>-key</B> option is used.
<DT><B>-out filename</B><DD>
<A NAME="ixAAG"></A>
specifies the output filename to write to or standard output by
default.
<DT><B>-key keyfile</B><DD>
<A NAME="ixAAH"></A>
create an <FONT SIZE="-1">SPKAC</FONT> file using the private key in <B>keyfile</B>. The
<B>-in</B>, <B>-noout</B>, <B>-spksect</B> and <B>-verify</B> options are ignored if
present.
<DT><B>-passin password</B><DD>
<A NAME="ixAAI"></A>
the input file password source. For more information about the format of <B>arg</B>
see the <B></B><FONT SIZE="-1"><B>PASS</B></FONT><B> </B><FONT SIZE="-1"><B>PHRASE</B></FONT><B> </B><FONT SIZE="-1"><B>ARGUMENTS</B></FONT><B></B> section in <I><A HREF="../man1/openssl.1.php">openssl</A></I>(1).
<DT><B>-challenge string</B><DD>
<A NAME="ixAAJ"></A>
specifies the challenge string if an <FONT SIZE="-1">SPKAC</FONT> is being created.
<DT><B>-spkac spkacname</B><DD>
<A NAME="ixAAK"></A>
allows an alternative name form the variable containing the
<FONT SIZE="-1">SPKAC</FONT>. The default is ``<FONT SIZE="-1">SPKAC</FONT>''. This option affects both
generated and input <FONT SIZE="-1">SPKAC</FONT> files.
<DT><B>-spksect section</B><DD>
<A NAME="ixAAL"></A>
allows an alternative name form the section containing the
<FONT SIZE="-1">SPKAC</FONT>. The default is the default section.
<DT><B>-noout</B><DD>
<A NAME="ixAAM"></A>
don't output the text version of the <FONT SIZE="-1">SPKAC</FONT> (not used if an
<FONT SIZE="-1">SPKAC</FONT> is being created).
<DT><B>-pubkey</B><DD>
<A NAME="ixAAN"></A>
output the public key of an <FONT SIZE="-1">SPKAC</FONT> (not used if an <FONT SIZE="-1">SPKAC</FONT> is
being created).
<DT><B>-verify</B><DD>
<A NAME="ixAAO"></A>
verifies the digital signature on the supplied <FONT SIZE="-1">SPKAC</FONT>.
<DT><B>-engine id</B><DD>
<A NAME="ixAAP"></A>
specifying an engine (by it's unique <B>id</B> string) will cause <B>req</B>
to attempt to obtain a functional reference to the specified engine,
thus initialising it if needed. The engine will then be set as the default
for all available algorithms.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLES</H2>

<A NAME="ixAAQ"></A>
Print out the contents of an <FONT SIZE="-1">SPKAC:</FONT>
<P>



<PRE>
 openssl spkac -in spkac.cnf

</PRE>


<P>

Verify the signature of an <FONT SIZE="-1">SPKAC:</FONT>
<P>



<PRE>
 openssl spkac -in spkac.cnf -noout -verify

</PRE>


<P>

Create an <FONT SIZE="-1">SPKAC</FONT> using the challenge string ``hello'':
<P>



<PRE>
 openssl spkac -key key.pem -challenge hello -out spkac.cnf

</PRE>


<P>

Example of an <FONT SIZE="-1">SPKAC</FONT>, (long lines split up for clarity):
<P>



<PRE>
 SPKAC=MIG5MGUwXDANBgkqhkiG9w0BAQEFAANLADBIAkEA1cCoq2Wa3Ixs47uI7F\
 PVwHVIPDx5yso105Y6zpozam135a8R0CpoRvkkigIyXfcCjiVi5oWk+6FfPaD03u\
 PFoQIDAQABFgVoZWxsbzANBgkqhkiG9w0BAQQFAANBAFpQtY/FojdwkJh1bEIYuc\
 2EeM2KHTWPEepWYeawvHD0gQ3DngSC75YCWnnDdq+NQ3F+X4deMx9AaEglZtULwV\
 4=

</PRE>


<A NAME="lbAG">&nbsp;</A>
<H2>NOTES</H2>

<A NAME="ixAAR"></A>
A created <FONT SIZE="-1">SPKAC</FONT> with suitable <FONT SIZE="-1">DN</FONT> components appended can be fed into
the <B>ca</B> utility.
<P>

SPKACs are typically generated by Netscape when a form is submitted
containing the <B></B><FONT SIZE="-1"><B>KEYGEN</B></FONT><B></B> tag as part of the certificate enrollment
process.
<P>

The challenge string permits a primitive form of proof of possession
of private key. By checking the <FONT SIZE="-1">SPKAC</FONT> signature and a random challenge
string some guarantee is given that the user knows the private key
corresponding to the public key being certified. This is important in
some applications. Without this it is possible for a previous <FONT SIZE="-1">SPKAC</FONT>
to be used in a ``replay attack''.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A NAME="ixAAS"></A>
<I><A HREF="../man1/ca.1.php">ca</A></I>(1)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">COMMAND OPTIONS</A><DD>
<DT><A HREF="#lbAF">EXAMPLES</A><DD>
<DT><A HREF="#lbAG">NOTES</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>

</div>






</div>




</body>
</html>
