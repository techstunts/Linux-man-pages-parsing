
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>OPCONTROL</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">


<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>OPCONTROL</H1>
Section: User Commands  (1)<BR>Updated: Fri 15 October 2004<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

opcontrol - control OProfile profiling
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<BR>

<B>opcontrol</B>

[
<I>options</I>

]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>opcontrol</B>

can be used to start profiling, end a profiling session,
dump profile data, and set up the profiling parameters.
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>--help</B>

<DD>
Show help message.
<BR>

<DT><B>--version</B>

<DD>
Show version.
<BR>

<DT><B>--list-events</B>

<DD>
Shows the monitorable events.
<BR>

<DT><B>--init</B>

<DD>
Load the OProfile module if required and make the OProfile driver
interface available.
<BR>

<DT><B>--setup</B>

<DD>
Followed by list options for profiling setup. Store setup 
in ~root/.oprofile/daemonrc. Optional.
<BR>

<DT><B>--start-daemon</B>

<DD>
Start the oprofile daemon without starting profiling. Not available
in 2.2/2.4 kernels.
<BR>

<DT><B>--start</B>

<DD>
Start data collection with either arguments provided by --setup
of information saved in ~root/.oprofile/daemonrc.
<BR>

<DT><B>--dump</B>

<DD>
Force a flush of the collected profiling data to the daemon.
<BR>

<DT><B>--stop</B>

<DD>
Stop data collection. Not available in 2.2/2.4 kernels.
<BR>

<DT><B>--shutdown</B>

<DD>
Stop data collection and kill the daemon.
<BR>

<DT><B>--reset</B>

<DD>
Clear out data from current session, but leaves saved sessions.
<BR>

<DT><B>--save=sessionname</B>

<DD>
Save data from current session to sessionname.
<BR>

<DT><B>--deinit</B>

<DD>
Shut down daemon. Unload the oprofile module and oprofilefs.
<BR>

<DT><B>--buffer-size=num</B>

<DD>
Set kernel buffer to num samples.
<BR>

<DT><B>--cpu-buffer-size=num</B>

<DD>
Set kernel per cpu buffer to num samples (2.6 only). If you profile at high
rate it can help to increase this if the log file show excessive count of
sample lost cpu buffer overflow.
<BR>

<DT><B>--event=[event|default]</B>

<DD>
Add an event to measure for the hardware performance counters,
or &quot;default&quot; for the default event. The event is of the form
&quot;CPU_CLK_UNHALTED:30000:0:1:1&quot; where the numeric values are
count, unit mask, kernel-space counting, user-space counting,
respectively.
<BR>

<DT><B>--separate=[none,lib,kernel,thread,cpu,all]</B>

<DD>
Separate samples based on the given separator. 'lib' separates
dynamically linked library samples per application. 'kernel' separates
kernel and kernel module samples per application; 'kernel'
implies 'library'. 'thread' gives separation for each thread and
task.  'cpu' separates for each CPU. 'all' implies all of the above
options and 'none' turns off separation.
<BR>

<DT><B>--callgraph=#depth</B>

<DD>
Enable callgraph sample collection with a maximum depth. Use 0 to disable
callgraph profiling. This option is currently only usable on x86, using a
2.6+ kernel with callgraph support enabled.
<BR>

<DT><B>--image=[name,name...|all]</B>

<DD>
Only profile the given absolute paths to binaries, or &quot;all&quot; to profile
everything (the default).
<BR>

<DT><B>--vmlinux=file</B>

<DD>
vmlinux kernel image.
<BR>

<DT><B>--no-vmlinux</B>

<DD>
Use this when you don't have a kernel vmlinux file, and you don't want to
profile the kernel.
<BR>

<DT><B>--verbose</B>

<DD>
Be verbose in the daemon log. This has a high overhead.
<BR>

<DT><B>--kernel-range=start,end</B>

<DD>
Set kernel range vma address in hexadecimal.
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>ENVIRONMENT</H2>

No special environment variables are recognised by opreport.
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>FILES</H2>

<DL COMPACT>
<DT><I>/root/.oprofile/daemonrc</I>

<DD>
Configuration file for opcontrol
<DT><I>/var/lib/oprofile/samples/</I>

<DD>
The location of the generated sample files.
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>VERSION</H2>

<DL COMPACT>
<DT>This man page is current for oprofile-0.8.1.<DD>
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B>/usr/share/doc/oprofile/,</B>

<B><A HREF="../man1/oprofile.1.php">oprofile</A>(1)</B>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">ENVIRONMENT</A><DD>
<DT><A HREF="#lbAG">FILES</A><DD>
<DT><A HREF="#lbAH">VERSION</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>

</div>






</div>




</body>
</html>
