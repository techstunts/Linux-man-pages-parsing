
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>MGP</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">


<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>MGP</H1>
Section: User Commands  (1)<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>
<BR>BSD mandoc<BR>



<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>mgp</B>

 - MagicPoint -- an X11 based presentation tool


<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>mgp</B>

[-<B>dhlnoqvBCGORSV</B>

]

[-<B>b </B><I>bgcolor</I>



]

[-<B>c </B><I>vfcap</I>



]

[-<B>f </B><I>vfont</I>



]

[-<B>g </B><I>geometry</I>



]

[-<B>p </B><I>page</I>



]

[-<B>t </B><I>timeslot</I>



]

[-<B>w </B><I>wdir</I>



]

[-<B>x </B><I>engine</I>



]

[-<B>D </B><I>htmldir</I>



]

[-<B>E </B><I>htmlimage</I>



]

[-<B>F </B><I>mode,effect,value</I>



]

[-<B>Q </B><I>quality</I>



]

[-<B>T </B><I>timestampfile</I>



]

[-<B>X </B><I>gsdevice</I>



]

<I>file</I>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>mgp</B>


is an X11 based presentation tool.
It is designed to make
simple presentations easy while to make complicated presentations
possible.
Its presentation file
(whose suffix is typically <B>.mgp</B>

)

is
just text so that you can create presentation files quickly with your
favorite editor (such as Emacs).
<P>

The 
<B>.mgp</B>

file consists of text and
control commands (such as pagebreak, centering, and/or inline image).
Control commands are specified on the beginning of lines started with
one
<B>%</B>

sign.
You can include numerous kinds of image format files
onto the presentation file.
<P>

<B>mgp</B>


uses Japanese/English fonts in various sizes.
<B>mgp</B>


uses X11 scalable fonts provided by X11 servers.
<B>mgp</B>


can also utilize the Japanese outline font library, &quot;VFlib&quot;,
if configured to do so at compilation time.
<P>

The following options are available:
<DL COMPACT>
<P>

<DT><B>-b </B><I>bgcolor</I>




<DD>
Set background color to
<I>bgcolor</I>

 
(The default value is black)
<DT><B>-c </B><I>vfcap</I>




<DD>
Specify a VFlib configuration file.
<DT><B>-d [ </B><I>interval</I>




<DD>
 
Demonstration mode.
Browse all page automatically, spending 
<I>interval </I>

secounds on each page and terminate. If 
<I>interval </I>

is not specified, it will be set to 0.
<DT><B>-f </B><I>vfont</I>




<DD>
Specify the font name to be used by VFlib.
(The default value is minsl)
<DT><B>-g </B><I>geometry</I>




<DD>
Set the size and location of the window.
Please note that
-<B>g</B>

implies
-<B>o.</B>

<B>mgp</B>


will not override the window manager if you specify the geometry.
<DT><B>-h</B>


<DD>
Display the usage and exit without performing a presentation.
<DT><B>-l</B>


<DD>
There are two kind of fonts available by VFlib;
They are outline font and bitmap font.
By specifying
-<B>l</B>

 
you can disable the use of outline fonts.
<DT><B>-n</B>


<DD>
<B>mgp</B>


accepts any key inputs from invoked terminal as
KEY OPERATION described below.
-<B>n</B>

disables this feature.
(This option may be removed in the future release)
<DT><B>-o</B>


<DD>
Do not override window manager.
(By default, 
<B>mgp</B>


overrides window manager and occupies the whole display)
<DT><B>-p </B><I>page</I>




<DD>
Start presentation from
<I>page</I>

 
rather than the first page.
<DT><B>-q</B>


<DD>
Do not beep on errors.
<DT><B>-t </B><I>timeslot</I>




<DD>
Specify the timeslot assigned to the presentation in minute.
The timer is invoked when the second page is displayed and the remaining
presentation time is indicated by the length of bar shown at the bottom of
the display.
The timebar is updated when some X11 event is raised,
for instance some keypress.
Timebar will be green if you have more than 50% of the timeslot,
yellow while you have more than 30% of the timeslot,
and red for the other cases.
When the assigned timeslot is expired, exceeding time is also shown as 
a timebar growing from left to right.
Current page is indicated by the position of a small vertical bar; the vertical
bar is drawn at the leftend when the first page is displayed while the
bar is drawn at the rightend when the last page is displayed.
<DT><B>--title </B><I>name</I>






<DD>
Set the title of the window to
<I>name</I>

 
<DT><B>-v</B>


<DD>
Display the MagicPoint version and exit without performing a presentation.
<DT><B>-w </B><I>wdir</I>




<DD>
specifies the working directory used for store embedded images if any.
To generate an embedded MGP file, use 
<A HREF="../man1/mgpembed.1.php">mgpembed</A>(1).


<DT><B>-x </B><I>engine</I>




<DD>
Do not use rendering engine, specified by
<I>engine</I>

 
<I>engine</I>

can be
<B>VFlib</B>

or
<B>FreeType</B>

 
<DT><B>-B</B>


<DD>
Omit background image.
<DT><B>-C</B>


<DD>
Use private colormap.
<DT><B>-D </B><I>htmldir</I>




<DD>
Generate html pages of the presentation into
<I>htmldir</I>

 
You will need
<A HREF="../man1/xwintoppm.1.php">xwintoppm</A>(1)


(included in mgp kit),
and
<A HREF="../man1/pnmscale.1.php">pnmscale</A>(1),


<A HREF="../man1/cjpeg.1.php">cjpeg</A>(1),


and
<A HREF="../man1/djpeg.1.php">djpeg</A>(1)


Po included in

<B>netpbm</B>

and
Independent Jpeg Group
<B>jpeg</B>

package
Pc .

<DT><B>-E </B><I>htmlimage</I>




<DD>
Specifies html image type. Now &quot;jpg&quot; and &quot;png&quot; are supported.
default value is &quot;jpg&quot;. It works when -D option is set.
<DT><B>-F </B><I>mode,effect,value</I>




<DD>
Specifies forward page cache options.
<I>Mode</I>

 
<I>effect</I>

and
<I>value</I>

are numbers. 
<I>Mode</I>

specifies caching mode. 
<I>Mode</I>

0 means caching is executed after 2 seconds idle.
<I>Mode</I>

1 means caching is executed immediately.
<I>Effect </I>

specifies 'special effect' for the forward page cache. Currently, 
two special effects are supported.
<I>Effect </I>

1 means that the next page will come in from the left side.
<I>Effect </I>

2 means that the current page will go out to the left side.
<I>Effect </I>

0 means no special effect.
<I>Value</I>

specifies speed of special effect. 
<I>Value</I>

1 means the highest speed. A higher value for 
<I>value</I>

decreases effect speed.
<DT><B>-G</B>


<DD>
Specifies to turn on page guide function.
At the bottom of the screen, the titles of next page and previous page are
displayed to assist the presentation.
Page guide can be turned on and off by keyboard too.
<DT><B>-O</B>


<DD>
Obey to the window manager, but with less decoration around the window.
The behavior of this option is affected by how the window manager
is implemented; this option may have no effect on some of the window managers.
<DT><B>-Q </B><I>quality</I>




<DD>
Set background image quality(0-100).
<DT><B>-R</B>


<DD>
<B>mgp</B>


will usually reload the presentation file if it gets updated,
based on the file modification time taken by 
<A HREF="../man2/stat.2.php">stat</A>(2).


-<B>R</B>

disables this auto-reloading feature.
<DT><B>-S</B>


<DD>
Be secure.
Skip directives that fork/exec the child process.
It is suggested to use this option if you got some presentation file
from others.
This is enabled by default.
<DT><B>-U</B>


<DD>
Be unsecure.
Enable directives that fork/exec the child process.
<DT><B>-T </B><I>timestampfile</I>




<DD>
If the option is specified,
<B>mgp</B>


will modify the content of
<I>timestampfile</I>

every time it updates the presentation window.
This option is useful for external process to understand when
<B>mgp</B>


modifies the window.
<DT><B>-V</B>


<DD>
Be verbose.
Generate debugging output to standard output.
<DT><B>-X </B><I>gsdevice</I>




<DD>
<B>mgp</B>


sometimes invokes
<A HREF="../man1/ghostscript.1.php">ghostscript</A>(1)


to render postscript images.
-<B>X</B>

enables you to specify the device to be used by
<A HREF="../man1/ghostscript.1.php">ghostscript</A>(1).







If you specify
<I>gsdevice</I>

with a trailing '+',
<A HREF="../man1/pnmscale.1.php">pnmscale</A>(1)


and
<A HREF="../man1/pnmdepth.1.php">pnmdepth</A>(1)


will be invoked for anti-aliasing.
The default
<I>gsdevice</I>

is &quot;pnmraw+&quot;.
</DL>
<P>


<A NAME="lbAE">&nbsp;</A>
<H2>KEY OPERATION</H2>

The keyboard/mouse commands are:
<DL COMPACT>
<P>

<DT><B>mouse button 1 (leftmost button)</B>
<DD>
Go forward a page.
Space key, downward cursor key, scroll down key, &quot;f&quot; key, &quot;j&quot; key,
and &quot;n&quot; key have the same effect.
If &lt;number&gt; is specified, go forward &lt;number&gt; pages.
<DT><B>mouse button 3 (rightmost button)</B>
<DD>
Go to the previous page.
&quot;b&quot; key, &quot;k&quot; key, &quot;p&quot; key, backspace key, scroll up key and upward cursor
key have the same effect.
If &lt;number&gt; is specified, go back &lt;number&gt; pages.
<DT><B>0 - 9 (number buttons)</B>
<DD>
Set prefix number in decimal.
i.e. &lt;number&gt; = &lt;number&gt; * 10 + &lt;keyN&gt; - &lt;key0&gt;.
For example, by typing in &quot;10g&quot; you can jump to page 10.
<DT><B>g</B>
<DD>
Go to the &lt;number&gt; page.
If number of 0 is specified, go to the last page.
<DT><B>control key</B>
<DD>
Display the page listing menu.
See below for details.
<DT><B>G</B>
<DD>
Enable/disable page guide.
See description for option
-<B>G</B>

for details.
<DT><B>x</B>
<DD>
Enable/disable rakugaki (jotting) mode.
You can make an annotation (by mouse) on the presentation.
Mouse button 2 (middle) has the same effect.
<DT><B>X</B>
<DD>
Change the pen color for rakugaki (jotting) mode.
<DT><B>t</B>
<DD>
Enable/disable the timebar if -t timeslot option is specified.
<DT><B>c</B>
<DD>
Enable/disable forward page cache.
<DT><B>w</B>
<DD>
Toggle full screen mode with EWMH.
(You need a EWMH-aware window manager and need to run mgp with -o or -g option)
<DT><B>control-L</B>
<DD>
Repaint the current page.
Use this if you messed up the page by jotting too much.
<DT><B>control-R</B>
<DD>
Reload the current presentation file.
If the current page becomes unavailable, page pointer will be moved back to 1.
<DT><B>escape key</B>
<DD>
Quit the currently running
<B>mgp</B>

 
&quot;q&quot; key also has the same effect.
</DL>
<P>

<P>

During the presentation, you can see the page list at the bottom of the
window when you press a Control Key.
Choosing a page with the mouse and clicking it with the leftmost mouse button,
you can go to corresponding page directly.
Releasing the Control Key, the page list disappears and you can continue
with the current page.
This function is useful during the Q-and-A period after your presentation
completes.

<A NAME="lbAF">&nbsp;</A>
<H2>CONFIGURATION FILES</H2>

<B>mgp</B>


will look at a file named
~/.mgprc

in your home directory.
The content of the file must be a limited set of magicpoint directives,
one directive per line, without 
<B>%</B>

sign.
Lines start with
<B>#</B>

 
or empty lines, will be silently ignored.
See
SYNTAX

for eligible directives.
<P>

<B>mgp</B>


imports various image draw functions from
<A HREF="../man1/xloadimage.1.php">xloadimage</A>(1).


This means that the location of image files can be specified
by
~/.xloadimagerc

file.
If you specify the presentation file with its directory, that directory
is searched first and then the path specified in the
~/.xloadimagerc

is searched.

<A NAME="lbAG">&nbsp;</A>
<H2>SECURITY ISSUES</H2>

The presentation file can include directives to call the external process,
just like shell process.
Therefore, the presentation file should be treated just like shell script
or perl script.
This is STRONGLY recommended to review the content
of the presentation file before invoking
<B>mgp</B>

 
if you got the file from others.
By adding the
-<B>S</B>

option to the command line argument, directives that call external processes
will be skipped.

<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<A HREF="../man1/mgp2ps.1.php">mgp2ps</A>(1),


<A HREF="../man1/xloadimage.1.php">xloadimage</A>(1),


<A HREF="../man1/mgpembed.1.php">mgpembed</A>(1)



<A NAME="lbAI">&nbsp;</A>
<H2>AUTHOR CONTACT</H2>

Yoshifumi Nishida &lt;<A HREF="mailto:nishida@csl.sony.co.jp">nishida@csl.sony.co.jp</A>&gt;

<A NAME="lbAJ">&nbsp;</A>
<H2>CONTRIBUTION</H2>

Jun-ichiro Hagino &lt;<A HREF="mailto:itojun@itojun.org">itojun@itojun.org</A>&gt;, Akira Kato &lt;<A HREF="mailto:kato@wide.ad.jp">kato@wide.ad.jp</A>&gt;,
Atsushi Onoe &lt;<A HREF="mailto:onoe@sm.sony.co.jp">onoe@sm.sony.co.jp</A>&gt;, Kazu Yamamoto &lt;<A HREF="mailto:Kazu@Mew.org">Kazu@Mew.org</A>&gt;,
Youjiro Uo &lt;<A HREF="mailto:yuo@nui.org">yuo@nui.org</A>&gt;, and Masaki Minami &lt;<A HREF="mailto:Masaki@Minami.org">Masaki@Minami.org</A>&gt; 
extensively contributed improvements, bug fixes, and documents.
Special thanks to Chaki Kusakari &lt;<A HREF="mailto:chaki@sfc.wide.ad.jp">chaki@sfc.wide.ad.jp</A>&gt;.

<A NAME="lbAK">&nbsp;</A>
<H2>HISTORY</H2>

<B>mgp</B>


was created shortly after the autumn camp of WIDE Project in 1997,
which was originally called
<B>tp</B>

(TinyPoint)

 
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">KEY OPERATION</A><DD>
<DT><A HREF="#lbAF">CONFIGURATION FILES</A><DD>
<DT><A HREF="#lbAG">SECURITY ISSUES</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">AUTHOR CONTACT</A><DD>
<DT><A HREF="#lbAJ">CONTRIBUTION</A><DD>
<DT><A HREF="#lbAK">HISTORY</A><DD>
</DL>

</div>






</div>




</body>
</html>
