
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>INDEXMAKER</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="/global/main.css" title="default">
</head>

<body>



<div id="container">


<div id="content">

<div id='catHeader'><table width='100%'><tr><td>
<H1>INDEXMAKER</H1>
Section: mrtg (1)<BR>Updated: 2004-08-08<BR>
</td><td align='right' valign='bottom'><div class='ad_header_right'></div></td></tr></table></div></div>
<div id='categories'>
<div class='ad_man_right'>
</div>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

indexmaker - Creates index files for mrtg web sites (mrtg-2.10.15)
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<A NAME="ixAAC"></A>
indexmaker [options] mrtg.cfg [other.cfg ...]
<A NAME="lbAD">&nbsp;</A>
<H2>OPTIONS</H2>

<A NAME="ixAAD"></A>


<PRE>
 --output=filename   set output filename (default: stdout)

</PRE>


<P>



<PRE>
 --filter title=~regexp  select targets by matching regexp against titles
 --filter pagetop=~regexp  select targets by matching regexp against pagetop
 --filter name=~regexp  select targets by matchin regexp against name

</PRE>


<P>



<PRE>
 --addhead=text      insert this text between &lt;/TITLE&gt; and &lt;/HEAD&gt;
 --title=text        set title of generated index file
 --subtitle=text     add a subtitle to the generated index file
 --bodyopt=text      set body tag options
 --headlevel=number  use &lt;Hnumber&gt; at top of page (default: 1)
 --pagetop=text      insert this text between &lt;BODY&gt; and &lt;H1&gt;...&lt;/H1&gt;
 --pageend=text      insert this text after the main body
 --pagetopend=text   use this text for pagetop or pageend if undefined
 --nolegend          do not add the Mrtg legend at the end of the page

</PRE>


<P>



<PRE>
 --columns=number    show graphs in a table with x columns (default: 2)
 --perhost           show graphs of the same host on a row
 --compact           try to make a vertically more compact page
 --optlog            log the used command line in the page (default: log)

</PRE>


<P>



<PRE>
 --sort=title        sort graphs by title
 --sort=name         sort graphs by their name
 --sort=descr        sort graphs by their description
 --sort=original     leave as is (default)

</PRE>


<P>



<PRE>
 --enumerate         add a sequence number to the title of each graph

</PRE>


<P>



<PRE>
 --picfirst          place pictures before text (default: text first)
 --width=number      set width of graphs (default: not set)
 --height=number
 --sidebyside        place text / pictures side by side (default: above/below)
 --bold              use bold text (default: bold)
 --clicktext         make the text link to the inner page (like the image)

</PRE>


<P>



<PRE>
 --show=day          pick which graph to show in the index (default)
 --show=week
 --show=month
 --show=year
 --show=none

</PRE>


<P>



<PRE>
 --section=h1        h1 tag from pagetop as section heading (default)
 --section=title     title as section headings for graphs
 --section=name      graph name as section heading
 --section=descr     graph description as section heading
 --section=portname  port name entry in pagetop as section heading
 --sectionhost       Try to prepend the host to the section heading if missing

</PRE>


<P>



<PRE>
 --rrdviewer=path    path to rrdviewer (default: /cgi-bin/14all.cgi)
 --icondir=path      path to icondir
 --prefix=path       path from the location of the index.html to the graphs
 --headeradd=string  add string to the html page header
 --autoprefix        try to set prefix automatically

</PRE>


<P>



<PRE>
 --&lt;opt&gt;-file=file   read string argument for option &lt;opt&gt; from file

</PRE>


<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<A NAME="ixAAE"></A>
<B>Indexmaker</B> can create web pages which display the status of an
array of mrtg interface status pages.
<DL COMPACT>
<DT><B>--output</B> <I>filename</I><DD>
<A NAME="ixAAF"></A>
set output filename (default: stdout)
<DT><B>--filter</B> (<B>title</B>|<B>pagetop</B>|<B>name</B>)(<B>=~</B>|<B>!~</B>)<I>regexp</I><DD>
<A NAME="ixAAG"></A>
Several filters may get set.  Each filter can match agains the contents
of a specific section of the mrtg config file. <B>Name</B> refers to the
bit in square brackets (option[name]: bla).


<P>


Depending on the match operator chosen (<B>=~</B> or <B>!~</B>) the match will be
positive or negative.


<P>


Note that some shells consider <B>!</B> a special character.  It may be
necessary to type <B>\!~</B> instead.
<DT><B>--title</B> <I>text</I><DD>
<A NAME="ixAAH"></A>
Set title of generated index file (default: regexp)
<DT><B>--bodyopt</B> <I>text</I><DD>
<A NAME="ixAAI"></A>
The value of this argument gets appended to
the &lt;<FONT SIZE="-1">BODY</FONT>&gt; tag. This allows to set document colors.
By default this option is set to


<P>




<PRE>
 bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot; link=&quot;#000000&quot; vlink=&quot;#000000&quot; alink=&quot;#000000&quot;

</PRE>


<DT><B>--columns</B> <I>number</I><DD>
<A NAME="ixAAJ"></A>
Display graphs in a table with <I>number</I> columns (default: 2)
<DT><B>--sort</B> <B>title</B>|<B>name</B>|<B>descr</B>|<B>original</B><DD>
<A NAME="ixAAK"></A>
Sort the graphs in the page either by <B>title</B>, by <B>name</B>, by interface
<B>descr</B>iption, or leave them as is.
<DT><B>--enumerate</B><DD>
<A NAME="ixAAL"></A>
Add a sequence number to the title of each graph
<DT><B>--width</B> <I>number</I><DD>
<A NAME="ixAAM"></A>
Set width of graphs
<DT><B>--height</B> <I>number</I><DD>
<A NAME="ixAAN"></A>
Set the height of the graphs
<DT><B>--show</B> <B>day</B>|<B>week</B>|<B>month</B>|<B>year</B>|<B>none</B><DD>
<A NAME="ixAAO"></A>
Select which graph to show in the index page. You can supress images
completely with <B>--show=none</B>.
<DT><B>--section</B> <B>h1</B>|<B>title</B>|<B>name</B>|<B>description</B>|<B>portname</B><DD>
<A NAME="ixAAP"></A>
Select what to use as the title for each graph in the page.  <B>h1</B> is
the H1 section from pagetop, <B>title</B> is the graph title, <B>name</B> is
the bit in square brackets (option[name]: bla), and <B>descr</B> or
<B>description</B> is the text from the Description field of the PageTop
(the Cisco description text if it's available, otherwise just the
interface description). <B>portname</B> is the <TT>&quot;Port Name:&quot;</TT> from pagetop.
<DT><B>--sectionhost</B><DD>
<A NAME="ixAAQ"></A>
Extract the hostname from the target line (this does not work if the 
target is a mathematial expression). Prepend the hostname (and a colon)
to the section if not already present.
<DT><B>--rrdviewer</B> <I>path</I><DD>
<A NAME="ixAAR"></A>
If you have set the <B>LogFormat: rrdtool</B> property in the mrtg.cfg
file, the index will take this into account. The only thing you must
tell it is the path to your grapher cgi. (default: /cgi-bin/14all.cgi)
<DT><B>--prefix</B> <I>path</I><DD>
<A NAME="ixAAS"></A>
By  default we assume    that  the file generated by indexmaker is stored in
<I>WorkDir</I>.  If you want to  store it somewhere   else, specify how to reach
<I>WorkDir</I>  from  the place where the Index is stored. Note that you have to
use '/' as path separator as this will be used in urls. Speaking of which,
you can even enter a whole url.
<DT><B>--autoprefix</B> <I>path</I><DD>
<A NAME="ixAAT"></A>
Requires --output.
Try to generate the prefix automatically by comparision of the path to the
output file set with --output and the Htmldir set in the configuration files.
Particulary useful when multiple configuration files are specified, with
different Htmldir settings.
<DT><B>--optlog</B><DD>
<A NAME="ixAAU"></A>
Default is logging in the generated page the command line, suppress with
--nooptlog . Useful if the commandline contains a complex --pagetop=string
which could confuse simple browsers.
<DT><B>--someoption-file</B> <I>filename</I><DD>
<A NAME="ixAAV"></A>
For any someoption which takes a <I>string</I> as parameter you can read the
string from a file by adding &lt;-file&gt; to the option keyword. The whole 
content of the file will be read and used as the <I>string</I>. The file must
exist.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>AUTHOR</H2>

<A NAME="ixAAW"></A>
Tobias Oetiker &lt;<A HREF="mailto:tobi@oetiker.ch">tobi@oetiker.ch</A>&gt;
<A NAME="lbAG">&nbsp;</A>
<H2>LICENSE</H2>

<A NAME="ixAAX"></A>
<FONT SIZE="-1">GNU</FONT> General Public License
<A NAME="lbAH">&nbsp;</A>
<H2>COPYRIGHT</H2>

<A NAME="ixAAY"></A>
2000-2001 Tobias Oetiker &lt;<A HREF="mailto:tobi@oetiker.ch">tobi@oetiker.ch</A>&gt;
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">OPTIONS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">AUTHOR</A><DD>
<DT><A HREF="#lbAG">LICENSE</A><DD>
<DT><A HREF="#lbAH">COPYRIGHT</A><DD>
</DL>

</div>






</div>




</body>
</html>
